{
  "slug": "ford-fulkerson",
  "name": "Ford Fulkerson",
  "categories": ["networkingflow"],
  "body": {},
  "implementations": {
    "python": {
      "dir": "networking_flow/ford_fulkerson.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/networking_flow/ford_fulkerson.py",
      "code": "<span class=\"hljs-comment\"># Ford-Fulkerson Algorithm for Maximum Flow Problem</span>\n<span class=\"hljs-string\">&quot;&quot;&quot;\nDescription:\n    (1) Start with initial flow as 0;\n    (2) Choose augmenting path from source to sink and add path to flow;\n&quot;&quot;&quot;</span>\n\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">BFS</span>(<span class=\"hljs-params\">graph, s, t, parent</span>):\n    <span class=\"hljs-comment\"># Return True if there is node that has not iterated.</span>\n    visited = [<span class=\"hljs-literal\">False</span>] * <span class=\"hljs-built_in\">len</span>(graph)\n    queue = []\n    queue.append(s)\n    visited[s] = <span class=\"hljs-literal\">True</span>\n\n    <span class=\"hljs-keyword\">while</span> queue:\n        u = queue.pop(<span class=\"hljs-number\">0</span>)\n        <span class=\"hljs-keyword\">for</span> ind <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-built_in\">len</span>(graph[u])):\n            <span class=\"hljs-keyword\">if</span> visited[ind] <span class=\"hljs-keyword\">is</span> <span class=\"hljs-literal\">False</span> <span class=\"hljs-keyword\">and</span> graph[u][ind] &gt; <span class=\"hljs-number\">0</span>:\n                queue.append(ind)\n                visited[ind] = <span class=\"hljs-literal\">True</span>\n                parent[ind] = u\n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">True</span> <span class=\"hljs-keyword\">if</span> visited[t] <span class=\"hljs-keyword\">else</span> <span class=\"hljs-literal\">False</span>\n\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">FordFulkerson</span>(<span class=\"hljs-params\">graph, source, sink</span>):\n    <span class=\"hljs-comment\"># This array is filled by BFS and to store path</span>\n    parent = [-<span class=\"hljs-number\">1</span>] * (<span class=\"hljs-built_in\">len</span>(graph))\n    max_flow = <span class=\"hljs-number\">0</span>\n    <span class=\"hljs-keyword\">while</span> BFS(graph, source, sink, parent):\n        path_flow = <span class=\"hljs-built_in\">float</span>(<span class=\"hljs-string\">&quot;Inf&quot;</span>)\n        s = sink\n\n        <span class=\"hljs-keyword\">while</span> s != source:\n            <span class=\"hljs-comment\"># Find the minimum value in select path</span>\n            path_flow = <span class=\"hljs-built_in\">min</span>(path_flow, graph[parent[s]][s])\n            s = parent[s]\n\n        max_flow += path_flow\n        v = sink\n\n        <span class=\"hljs-keyword\">while</span> v != source:\n            u = parent[v]\n            graph[u][v] -= path_flow\n            graph[v][u] += path_flow\n            v = parent[v]\n    <span class=\"hljs-keyword\">return</span> max_flow\n\n\ngraph = [\n    [<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">16</span>, <span class=\"hljs-number\">13</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>],\n    [<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">10</span>, <span class=\"hljs-number\">12</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>],\n    [<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">14</span>, <span class=\"hljs-number\">0</span>],\n    [<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">9</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">20</span>],\n    [<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">7</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">4</span>],\n    [<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>],\n]\n\nsource, sink = <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">5</span>\n<span class=\"hljs-built_in\">print</span>(FordFulkerson(graph, source, sink))\n"
    },
    "java": {
      "dir": "DynamicProgramming/FordFulkerson.java",
      "url": "https://github.com/TheAlgorithms/java/tree/master/DynamicProgramming/FordFulkerson.java",
      "code": "<span class=\"hljs-keyword\">package</span> DynamicProgramming;\n\n<span class=\"hljs-keyword\">import</span> java.util.LinkedList;\n<span class=\"hljs-keyword\">import</span> java.util.Queue;\n<span class=\"hljs-keyword\">import</span> java.util.Vector;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">FordFulkerson</span> {\n  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">final</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">INF</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">987654321</span>;\n  <span class=\"hljs-comment\">// edges</span>\n  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-type\">int</span> V;\n  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-type\">int</span>[][] capacity, flow;\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n    System.out.println(<span class=\"hljs-string\">&quot;V : 6&quot;</span>);\n    V = <span class=\"hljs-number\">6</span>;\n    capacity = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">int</span>[V][V];\n\n    capacity[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">1</span>] = <span class=\"hljs-number\">12</span>;\n    capacity[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">3</span>] = <span class=\"hljs-number\">13</span>;\n    capacity[<span class=\"hljs-number\">1</span>][<span class=\"hljs-number\">2</span>] = <span class=\"hljs-number\">10</span>;\n    capacity[<span class=\"hljs-number\">2</span>][<span class=\"hljs-number\">3</span>] = <span class=\"hljs-number\">13</span>;\n    capacity[<span class=\"hljs-number\">2</span>][<span class=\"hljs-number\">4</span>] = <span class=\"hljs-number\">3</span>;\n    capacity[<span class=\"hljs-number\">2</span>][<span class=\"hljs-number\">5</span>] = <span class=\"hljs-number\">15</span>;\n    capacity[<span class=\"hljs-number\">3</span>][<span class=\"hljs-number\">2</span>] = <span class=\"hljs-number\">7</span>;\n    capacity[<span class=\"hljs-number\">3</span>][<span class=\"hljs-number\">4</span>] = <span class=\"hljs-number\">15</span>;\n    capacity[<span class=\"hljs-number\">4</span>][<span class=\"hljs-number\">5</span>] = <span class=\"hljs-number\">17</span>;\n\n    System.out.println(<span class=\"hljs-string\">&quot;Max capacity in networkFlow : &quot;</span> + networkFlow(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">5</span>));\n  }\n\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">networkFlow</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> source, <span class=\"hljs-type\">int</span> sink)</span> {\n    flow = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">int</span>[V][V];\n    <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">totalFlow</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-literal\">true</span>) {\n      Vector&lt;Integer&gt; parent = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Vector</span>&lt;&gt;(V);\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; V; i++) parent.add(-<span class=\"hljs-number\">1</span>);\n      Queue&lt;Integer&gt; q = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LinkedList</span>&lt;&gt;();\n      parent.set(source, source);\n      q.add(source);\n      <span class=\"hljs-keyword\">while</span> (!q.isEmpty() &amp;&amp; parent.get(sink) == -<span class=\"hljs-number\">1</span>) {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">here</span> <span class=\"hljs-operator\">=</span> q.peek();\n        q.poll();\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">there</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; there &lt; V; ++there)\n          <span class=\"hljs-keyword\">if</span> (capacity[here][there] - flow[here][there] &gt; <span class=\"hljs-number\">0</span> &amp;&amp; parent.get(there) == -<span class=\"hljs-number\">1</span>) {\n            q.add(there);\n            parent.set(there, here);\n          }\n      }\n      <span class=\"hljs-keyword\">if</span> (parent.get(sink) == -<span class=\"hljs-number\">1</span>) <span class=\"hljs-keyword\">break</span>;\n\n      <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">amount</span> <span class=\"hljs-operator\">=</span> INF;\n      <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">printer</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&quot;path : &quot;</span>;\n      <span class=\"hljs-type\">StringBuilder</span> <span class=\"hljs-variable\">sb</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">StringBuilder</span>();\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">p</span> <span class=\"hljs-operator\">=</span> sink; p != source; p = parent.get(p)) {\n        amount = Math.min(capacity[parent.get(p)][p] - flow[parent.get(p)][p], amount);\n        sb.append(p + <span class=\"hljs-string\">&quot;-&quot;</span>);\n      }\n      sb.append(source);\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">p</span> <span class=\"hljs-operator\">=</span> sink; p != source; p = parent.get(p)) {\n        flow[parent.get(p)][p] += amount;\n        flow[p][parent.get(p)] -= amount;\n      }\n      totalFlow += amount;\n      printer += sb.reverse() + <span class=\"hljs-string\">&quot; / max flow : &quot;</span> + totalFlow;\n      System.out.println(printer);\n    }\n\n    <span class=\"hljs-keyword\">return</span> totalFlow;\n  }\n}\n"
    }
  },
  "contributors": [
    {
      "name": "Christian Clauss",
      "email": "cclauss@me.com",
      "commits": 1
    },
    {
      "name": "SunggyuLee",
      "email": "sq0216@gmail.com",
      "commits": 1
    },
    {
      "name": "William Zhang",
      "email": "39932068+WilliamHYZhang@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Libin Yang",
      "email": "szuyanglb@outlook.com",
      "commits": 2
    },
    {
      "name": "Sichen Liu",
      "email": "sl2947@cornell.edu",
      "commits": 3
    }
  ],
  "explanationUrl": {}
}

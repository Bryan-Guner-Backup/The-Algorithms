{
  "slug": "segment-tree-update",
  "name": "Segment Tree Update",
  "categories": ["datastructures", "linkedlist"],
  "body": {},
  "implementations": {
    "c-sharp": {
      "dir": "DataStructures/SegmentTrees/SegmentTreeUpdate.cs",
      "url": "https://github.com/TheAlgorithms/C-Sharp/blob/master/DataStructures/SegmentTrees/SegmentTreeUpdate.cs",
      "code": "<span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title\">DataStructures.SegmentTrees</span>\n{\n    <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;summary&gt;</span></span>\n    <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span>     This is an extension of a segment tree, which allows the update of a single element.</span>\n    <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;/summary&gt;</span></span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">SegmentTreeUpdate</span> : <span class=\"hljs-title\">SegmentTree</span>\n    {\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;summary&gt;</span></span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span>     Initializes a new instance of the <span class=\"hljs-doctag\">&lt;see cref=&quot;SegmentTreeUpdate&quot; /&gt;</span> class.</span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span>     Runtime complexity: O(n) where n equals the array-length.</span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;/summary&gt;</span></span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;param name=&quot;arr&quot;&gt;</span>Array on which the queries should be made.<span class=\"hljs-doctag\">&lt;/param&gt;</span></span>\n        <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-title\">SegmentTreeUpdate</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">int</span>[] arr</span>)\n            : <span class=\"hljs-title\">base</span>(<span class=\"hljs-params\">arr</span>)</span>\n        {\n        }\n\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;summary&gt;</span></span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span>     Updates a single element of the input array.</span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span>     Changes the leaf first and updates its parents afterwards.</span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span>     Runtime complexity: O(logN) where N equals the initial array-length.</span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;/summary&gt;</span></span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;param name=&quot;node&quot;&gt;</span>Index of the node that should be updated.<span class=\"hljs-doctag\">&lt;/param&gt;</span></span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;param name=&quot;value&quot;&gt;</span>New Value of the element.<span class=\"hljs-doctag\">&lt;/param&gt;</span></span>\n        <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">Update</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">int</span> node, <span class=\"hljs-built_in\">int</span> <span class=\"hljs-keyword\">value</span></span>)</span>\n        {\n            Tree[node + Tree.Length / <span class=\"hljs-number\">2</span>] = <span class=\"hljs-keyword\">value</span>;\n            Propagate(Parent(node + Tree.Length / <span class=\"hljs-number\">2</span>));\n        }\n\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;summary&gt;</span></span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span>     Recalculates the value of node by its children.</span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span>     Calls its parent to do the same.</span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;/summary&gt;</span></span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;param name=&quot;node&quot;&gt;</span>Index of current node.<span class=\"hljs-doctag\">&lt;/param&gt;</span></span>\n        <span class=\"hljs-function\"><span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title\">Propagate</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">int</span> node</span>)</span>\n        {\n            <span class=\"hljs-keyword\">if</span> (node == <span class=\"hljs-number\">0</span>)\n            {\n                <span class=\"hljs-comment\">// passed root</span>\n                <span class=\"hljs-keyword\">return</span>;\n            }\n\n            Tree[node] = Tree[Left(node)] + Tree[Right(node)];\n            Propagate(Parent(node));\n        }\n    }\n}\n"
    }
  },
  "contributors": [
    {
      "name": "Antony",
      "email": "45163503+DuckNrOne@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Andrii Siriak",
      "email": "siryaka@gmail.com",
      "commits": 2
    }
  ],
  "explanationUrl": {}
}

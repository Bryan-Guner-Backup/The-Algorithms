{
  "slug": "cut-rod",
  "name": "Cut Rod",
  "categories": ["dynamicprogramming"],
  "body": {},
  "implementations": {
    "c-plus-plus": {
      "dir": "dynamic_programming/cut_rod.cpp",
      "url": "https://github.com/TheAlgorithms/c-plus-plus/tree/master/dynamic_programming/cut_rod.cpp",
      "code": "<span class=\"hljs-comment\">/**\n * @file\n * @brief Implementation of cutting a rod problem\n *\n * @details\n * Given a rod of length n inches and an array of prices that\n * contains prices of all pieces of size&lt;=n. Determine\n * the maximum profit obtainable by cutting up the rod and selling\n * the pieces.\n *\n * ### Algorithm\n * The idea is to break the given rod into every smaller piece as possible\n * and then check profit for each piece, by calculating maximum profit for\n * smaller pieces we will build the solution for larger pieces in bottom-up\n * manner.\n *\n * @author [Anmol](https://github.com/Anmol3299)\n * @author [Pardeep](https://github.com/Pardeep009)\n */</span>\n\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;array&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;cassert&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;climits&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;iostream&gt;</span></span>\n<span class=\"hljs-comment\">/**\n * @namespace dynamic_programming\n * @brief Dynamic Programming algorithms\n */</span>\n<span class=\"hljs-keyword\">namespace</span> dynamic_programming {\n<span class=\"hljs-comment\">/**\n * @namespace cut_rod\n * @brief Implementation of cutting a rod problem\n */</span>\n<span class=\"hljs-keyword\">namespace</span> cut_rod {\n<span class=\"hljs-comment\">/**\n * @brief Cuts the rod in different pieces and\n * stores the maximum profit for each piece of the rod.\n * @tparam T size of the price array\n * @param n size of the rod in inches\n * @param price an array of prices that contains prices of all pieces of size&lt;=n\n * @return maximum profit obtainable for @param n inch rod.\n */</span>\n<span class=\"hljs-keyword\">template</span> &lt;<span class=\"hljs-type\">size_t</span> T&gt;\n<span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">maxProfitByCuttingRod</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">const</span> std::array&lt;<span class=\"hljs-type\">int</span>, T&gt; &amp;price, <span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">uint64_t</span> &amp;n)</span> </span>{\n    <span class=\"hljs-type\">int</span> *profit =\n        <span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">int</span>[n + <span class=\"hljs-number\">1</span>];  <span class=\"hljs-comment\">// profit[i] will hold maximum profit for i inch rod</span>\n\n    profit[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">0</span>;  <span class=\"hljs-comment\">// if length of rod is zero, then no profit</span>\n\n    <span class=\"hljs-comment\">// outer loop will select size of rod, starting from 1 inch to n inch rod.</span>\n    <span class=\"hljs-comment\">// inner loop will evaluate the maximum profit we can get for i inch rod by</span>\n    <span class=\"hljs-comment\">// making every possible cut on it and will store it in profit[i].</span>\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">size_t</span> i = <span class=\"hljs-number\">1</span>; i &lt;= n; i++) {\n        <span class=\"hljs-type\">int</span> q = INT_MIN;\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">size_t</span> j = <span class=\"hljs-number\">1</span>; j &lt;= i; j++) {\n            q = std::<span class=\"hljs-built_in\">max</span>(q, price[j - <span class=\"hljs-number\">1</span>] + profit[i - j]);\n        }\n        profit[i] = q;\n    }\n    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">int16_t</span> ans = profit[n];\n    <span class=\"hljs-keyword\">delete</span>[] profit;\n    <span class=\"hljs-keyword\">return</span> ans;  <span class=\"hljs-comment\">// returning maximum profit</span>\n}\n}  <span class=\"hljs-comment\">// namespace cut_rod</span>\n}  <span class=\"hljs-comment\">// namespace dynamic_programming</span>\n\n<span class=\"hljs-comment\">/**\n * @brief Function to test above algorithm\n * @returns void\n */</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">static</span> <span class=\"hljs-type\">void</span> <span class=\"hljs-title\">test</span><span class=\"hljs-params\">()</span> </span>{\n    <span class=\"hljs-comment\">// Test 1</span>\n    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">int16_t</span> n1 = <span class=\"hljs-number\">8</span>;                                        <span class=\"hljs-comment\">// size of rod</span>\n    std::array&lt;<span class=\"hljs-type\">int32_t</span>, n1&gt; price1 = {<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">4</span>,<span class=\"hljs-number\">6</span>,<span class=\"hljs-number\">8</span>,<span class=\"hljs-number\">45</span>,<span class=\"hljs-number\">21</span>,<span class=\"hljs-number\">9</span>};  <span class=\"hljs-comment\">// price array</span>\n    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">int64_t</span> max_profit1 =\n        dynamic_programming::cut_rod::<span class=\"hljs-built_in\">maxProfitByCuttingRod</span>(price1, n1);\n    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">int64_t</span> expected_max_profit1 = <span class=\"hljs-number\">47</span>;\n    <span class=\"hljs-built_in\">assert</span>(max_profit1 == expected_max_profit1);\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Maximum profit with &quot;</span> &lt;&lt; n1 &lt;&lt; <span class=\"hljs-string\">&quot; inch road is &quot;</span> &lt;&lt; max_profit1\n              &lt;&lt; std::endl;\n\n    <span class=\"hljs-comment\">// Test 2</span>\n    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">int16_t</span> n2 = <span class=\"hljs-number\">30</span>;  <span class=\"hljs-comment\">// size of rod</span>\n    std::array&lt;<span class=\"hljs-type\">int32_t</span>, n2&gt; price2 = {\n        <span class=\"hljs-number\">1</span>,  <span class=\"hljs-number\">5</span>,  <span class=\"hljs-number\">8</span>,  <span class=\"hljs-number\">9</span>,  <span class=\"hljs-number\">10</span>, <span class=\"hljs-number\">17</span>, <span class=\"hljs-number\">17</span>, <span class=\"hljs-number\">20</span>, <span class=\"hljs-number\">24</span>, <span class=\"hljs-number\">30</span>,  <span class=\"hljs-comment\">// price array</span>\n        <span class=\"hljs-number\">31</span>, <span class=\"hljs-number\">32</span>, <span class=\"hljs-number\">33</span>, <span class=\"hljs-number\">34</span>, <span class=\"hljs-number\">35</span>, <span class=\"hljs-number\">36</span>, <span class=\"hljs-number\">37</span>, <span class=\"hljs-number\">38</span>, <span class=\"hljs-number\">39</span>, <span class=\"hljs-number\">40</span>,\n        <span class=\"hljs-number\">41</span>, <span class=\"hljs-number\">42</span>, <span class=\"hljs-number\">43</span>, <span class=\"hljs-number\">44</span>, <span class=\"hljs-number\">45</span>, <span class=\"hljs-number\">46</span>, <span class=\"hljs-number\">47</span>, <span class=\"hljs-number\">48</span>, <span class=\"hljs-number\">49</span>, <span class=\"hljs-number\">50</span>};\n\n    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">int64_t</span> max_profit2=\n        dynamic_programming::cut_rod::<span class=\"hljs-built_in\">maxProfitByCuttingRod</span>(price2, n2);\n    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">int32_t</span> expected_max_profit2 = <span class=\"hljs-number\">90</span>;\n    <span class=\"hljs-built_in\">assert</span>(max_profit2 == expected_max_profit2);\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Maximum profit with &quot;</span> &lt;&lt; n2 &lt;&lt; <span class=\"hljs-string\">&quot; inch road is &quot;</span> &lt;&lt; max_profit2\n              &lt;&lt; std::endl;\n     <span class=\"hljs-comment\">// Test 3</span>\n    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">int16_t</span> n3 = <span class=\"hljs-number\">5</span>;                                        <span class=\"hljs-comment\">// size of rod</span>\n    std::array&lt;<span class=\"hljs-type\">int32_t</span>, n3&gt; price3 = {<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">9</span>,<span class=\"hljs-number\">17</span>,<span class=\"hljs-number\">23</span>,<span class=\"hljs-number\">45</span>};  <span class=\"hljs-comment\">// price array</span>\n    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">int64_t</span> max_profit3 =\n        dynamic_programming::cut_rod::<span class=\"hljs-built_in\">maxProfitByCuttingRod</span>(price3, n3);\n    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">int64_t</span> expected_max_profit3 = <span class=\"hljs-number\">45</span>;\n    <span class=\"hljs-built_in\">assert</span>(max_profit3 == expected_max_profit3);\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Maximum profit with &quot;</span> &lt;&lt; n3 &lt;&lt; <span class=\"hljs-string\">&quot; inch road is &quot;</span> &lt;&lt; max_profit3\n              &lt;&lt; std::endl;\n}\n\n<span class=\"hljs-comment\">/**\n * @brief Main function\n * @returns 0 on exit\n */</span>\n<span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span> </span>{\n    <span class=\"hljs-comment\">// Testing</span>\n    <span class=\"hljs-built_in\">test</span>();\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}\n"
    }
  },
  "contributors": [
    {
      "name": "stepfencurryxiao",
      "email": "stepfencurryxiao@gmail.com",
      "commits": 1
    },
    {
      "name": "Libin Yang",
      "email": "szuyanglb@outlook.com",
      "commits": 1
    },
    {
      "name": "Krishna Vedala",
      "email": "7001608+kvedala@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Pardeep Bhatt",
      "email": "pardeepbhatt5254@gmail.com",
      "commits": 1
    },
    {
      "name": "pkdism",
      "email": "pawan.dwivedi94@gmail.com",
      "commits": 1
    },
    {
      "name": "ABHISHEK-821005",
      "email": "69668943+ABHISHEK-821005@users.noreply.github.com",
      "commits": 12
    }
  ],
  "explanationUrl": {}
}

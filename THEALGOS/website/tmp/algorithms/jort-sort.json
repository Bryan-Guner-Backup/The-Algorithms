{
  "slug": "jort-sort",
  "name": "Jort Sort",
  "categories": ["sorts"],
  "body": {},
  "implementations": {
    "aarch64_assembly": {
      "dir": "sorters/jort_sort.s",
      "url": "https://github.com/TheAlgorithms/aarch64_assembly/tree/master/sorters/jort_sort.s",
      "code": "<span class=\"hljs-comment\">/* ARM assembly AARCH64 Raspberry PI 3B */</span>\n<span class=\"hljs-comment\">/*  program jortSort64.s   */</span>\n \n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-comment\">/* Constantes file                         */</span>\n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-comment\">/* for this file see task include a file in language AArch64 assembly*/</span>\n<span class=\"hljs-symbol\">.include</span> <span class=\"hljs-string\">&quot;../includeConstantesARM64.inc&quot;</span>\n \n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-comment\">/* Initialized data                        */</span>\n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-symbol\">.data</span>\n<span class=\"hljs-symbol\">szMessOk:</span>         <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;Ok, the list is sorted. \\n&quot;</span>\n<span class=\"hljs-symbol\">szMessNotOk:</span>      <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;Ouah!! this list is unsorted.\\n&quot;</span>\n<span class=\"hljs-symbol\">szCarriageReturn:</span>  <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;\\n&quot;</span>\n<span class=\"hljs-symbol\">tbNumber:</span>           .quad <span class=\"hljs-number\">3</span>\n                    .quad <span class=\"hljs-number\">4</span>\n                    .quad <span class=\"hljs-number\">20</span>\n                    .quad <span class=\"hljs-number\">5</span>\n                    <span class=\"hljs-meta\">.equ</span> LGTBNUMBER, (. - tbNumber)/<span class=\"hljs-number\">8</span>  <span class=\"hljs-comment\">// number element of area </span>\n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-comment\">/* UnInitialized data                      */</span>\n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-symbol\">.bss</span> \n<span class=\"hljs-symbol\">sZoneConversion:</span>        <span class=\"hljs-meta\">.skip</span> <span class=\"hljs-number\">100</span>\n<span class=\"hljs-symbol\">.align</span> <span class=\"hljs-number\">4</span>\n<span class=\"hljs-symbol\">tbNumberSorted:</span>      <span class=\"hljs-meta\">.skip</span> <span class=\"hljs-number\">8</span> * LGTBNUMBER\n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-comment\">/*  code section                           */</span>\n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-symbol\">.text</span>\n<span class=\"hljs-symbol\">.global</span> main \n<span class=\"hljs-symbol\">main:</span>                             <span class=\"hljs-comment\">// entry of program</span>\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrtbNumber\n    <span class=\"hljs-keyword\">ldr</span> x1,qAdrtbNumberSorted\n    <span class=\"hljs-keyword\">mov</span> x2,LGTBNUMBER\n    <span class=\"hljs-keyword\">bl</span> insertionSort              <span class=\"hljs-comment\">// sort area</span>\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrtbNumber\n    <span class=\"hljs-keyword\">ldr</span> x1,qAdrtbNumberSorted\n    <span class=\"hljs-keyword\">mov</span> x2,LGTBNUMBER\n    <span class=\"hljs-keyword\">bl</span> comparArea                <span class=\"hljs-comment\">// control area</span>\n    <span class=\"hljs-keyword\">cbz</span> x0,<span class=\"hljs-number\">1</span>f\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszMessNotOk       <span class=\"hljs-comment\">// not sorted</span>\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-keyword\">b</span> <span class=\"hljs-number\">100</span>f\n<span class=\"hljs-number\">1</span>:                               <span class=\"hljs-comment\">// ok it is good</span>\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszMessOk\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n<span class=\"hljs-number\">100</span>:                             <span class=\"hljs-comment\">// standard end of the program</span>\n    <span class=\"hljs-keyword\">mov</span> x0, <span class=\"hljs-number\">#0</span>                   <span class=\"hljs-comment\">// return code</span>\n    <span class=\"hljs-keyword\">mov</span> x8, <span class=\"hljs-symbol\">#EXIT</span>                <span class=\"hljs-comment\">// request to exit program</span>\n    <span class=\"hljs-keyword\">svc</span> <span class=\"hljs-number\">0</span>                        <span class=\"hljs-comment\">// perform the system call</span>\n \n<span class=\"hljs-symbol\">qAdrtbNumber:</span>          .quad tbNumber\n<span class=\"hljs-symbol\">qAdrtbNumberSorted:</span>    .quad tbNumberSorted\n<span class=\"hljs-symbol\">qAdrszMessNotOk:</span>       .quad szMessNotOk\n<span class=\"hljs-symbol\">qAdrszMessOk:</span>          .quad szMessOk\n<span class=\"hljs-symbol\">qAdrszCarriageReturn:</span>  .quad szCarriageReturn\n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/*     insertion sort                                             */</span> \n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/* x0 contains the address of area to sort  */</span>\n<span class=\"hljs-comment\">/* x1 contains the address of area sorted   */</span>\n<span class=\"hljs-comment\">/* x2 contains the number of element */</span>\n<span class=\"hljs-symbol\">insertionSort:</span>\n    stp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>,-<span class=\"hljs-number\">16</span>]!         <span class=\"hljs-comment\">// save  registers</span>\n    stp x2,x3,[<span class=\"hljs-built_in\">sp</span>,-<span class=\"hljs-number\">16</span>]!         <span class=\"hljs-comment\">// save  registers</span>\n    <span class=\"hljs-keyword\">mov</span> x3,<span class=\"hljs-number\">0</span>\n<span class=\"hljs-number\">1</span>:                              <span class=\"hljs-comment\">// copy area unsorted to other area</span>\n    <span class=\"hljs-keyword\">ldr</span> x4,[x0,x3,<span class=\"hljs-keyword\">lsl</span> <span class=\"hljs-number\">3</span>]\n    <span class=\"hljs-keyword\">str</span> x4,[x1,x3,<span class=\"hljs-keyword\">lsl</span> <span class=\"hljs-number\">3</span>]\n    <span class=\"hljs-keyword\">add</span> x3,x3,<span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">cmp</span> x3,x2\n    <span class=\"hljs-keyword\">blt</span> <span class=\"hljs-number\">1</span>b\n \n    <span class=\"hljs-keyword\">mov</span> x3,<span class=\"hljs-number\">1</span>                   <span class=\"hljs-comment\">// and sort area</span>\n<span class=\"hljs-number\">2</span>:\n    <span class=\"hljs-keyword\">ldr</span> x4,[x1,x3,<span class=\"hljs-keyword\">lsl</span> <span class=\"hljs-number\">3</span>]\n    <span class=\"hljs-keyword\">subs</span> x5,x3,<span class=\"hljs-number\">1</span>\n<span class=\"hljs-number\">3</span>:\n    <span class=\"hljs-keyword\">cbz</span> x5,<span class=\"hljs-number\">4</span>f\n    <span class=\"hljs-keyword\">ldr</span> x6,[x1,x5,<span class=\"hljs-keyword\">lsl</span> <span class=\"hljs-number\">3</span>]\n    <span class=\"hljs-keyword\">cmp</span> x6,x4\n    <span class=\"hljs-keyword\">ble</span> <span class=\"hljs-number\">4</span>f\n    <span class=\"hljs-keyword\">add</span> x7,x5,<span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">str</span> x6,[x1,x7,<span class=\"hljs-keyword\">lsl</span> <span class=\"hljs-number\">3</span>]\n    <span class=\"hljs-keyword\">subs</span> x5,x5,<span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">b</span> <span class=\"hljs-number\">3</span>b\n<span class=\"hljs-number\">4</span>:\n    <span class=\"hljs-keyword\">add</span> x5,x5,<span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">str</span> x4,[x1,x5,<span class=\"hljs-keyword\">lsl</span> <span class=\"hljs-number\">3</span>]\n    <span class=\"hljs-keyword\">add</span> x3,x3,<span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">cmp</span> x3,x2\n    <span class=\"hljs-keyword\">blt</span> <span class=\"hljs-number\">2</span>b\n<span class=\"hljs-number\">100</span>:\n    ldp x2,x3,[<span class=\"hljs-built_in\">sp</span>],<span class=\"hljs-number\">16</span>           <span class=\"hljs-comment\">// restaur  2 registers</span>\n    ldp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>],<span class=\"hljs-number\">16</span>           <span class=\"hljs-comment\">// restaur  2 registers</span>\n    ret\n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/*     Comparaison elements of two areas                          */</span> \n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/* x0 contains the address of area to sort  */</span>\n<span class=\"hljs-comment\">/* x1 contains the address of area sorted   */</span>\n<span class=\"hljs-comment\">/* x2 contains the number of element */</span>\n<span class=\"hljs-symbol\">comparArea:</span>\n    stp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>,-<span class=\"hljs-number\">16</span>]!         <span class=\"hljs-comment\">// save  registers</span>\n    stp x2,x3,[<span class=\"hljs-built_in\">sp</span>,-<span class=\"hljs-number\">16</span>]!         <span class=\"hljs-comment\">// save  registers</span>\n    <span class=\"hljs-keyword\">mov</span> x3,<span class=\"hljs-number\">0</span>\n<span class=\"hljs-number\">1</span>:\n    <span class=\"hljs-keyword\">ldr</span> x4,[x0,x3,<span class=\"hljs-keyword\">lsl</span> <span class=\"hljs-number\">3</span>]        <span class=\"hljs-comment\">// load element area 1</span>\n    <span class=\"hljs-keyword\">ldr</span> x5,[x1,x3,<span class=\"hljs-keyword\">lsl</span> <span class=\"hljs-number\">3</span>]        <span class=\"hljs-comment\">// load element area 2</span>\n    <span class=\"hljs-keyword\">cmp</span> x4,x5                   <span class=\"hljs-comment\">// equal ?</span>\n    <span class=\"hljs-keyword\">bne</span> <span class=\"hljs-number\">99</span>f                     <span class=\"hljs-comment\">// no -&gt; error</span>\n    <span class=\"hljs-keyword\">add</span> x3,x3,<span class=\"hljs-number\">1</span>                 <span class=\"hljs-comment\">// yes increment indice</span>\n    <span class=\"hljs-keyword\">cmp</span> x3,x2                   <span class=\"hljs-comment\">// maxi ?</span>\n    <span class=\"hljs-keyword\">blt</span> <span class=\"hljs-number\">1</span>b                      <span class=\"hljs-comment\">// no -&gt; loop</span>\n    <span class=\"hljs-keyword\">mov</span> x0,<span class=\"hljs-number\">0</span>                    <span class=\"hljs-comment\">// yes -&gt; it is ok </span>\n    <span class=\"hljs-keyword\">b</span> <span class=\"hljs-number\">100</span>f\n<span class=\"hljs-number\">99</span>:\n    <span class=\"hljs-keyword\">mov</span> x0,<span class=\"hljs-number\">1</span> \n<span class=\"hljs-number\">100</span>:\n    ldp x2,x3,[<span class=\"hljs-built_in\">sp</span>],<span class=\"hljs-number\">16</span>           <span class=\"hljs-comment\">// restaur  2 registers</span>\n    ldp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>],<span class=\"hljs-number\">16</span>           <span class=\"hljs-comment\">// restaur  2 registers</span>\n    ret\n \n \n<span class=\"hljs-comment\">/********************************************************/</span>\n<span class=\"hljs-comment\">/*        File Include fonctions                        */</span>\n<span class=\"hljs-comment\">/********************************************************/</span>\n<span class=\"hljs-comment\">/* for this file see task include a file in language AArch64 assembly */</span>\n<span class=\"hljs-symbol\">.include</span> <span class=\"hljs-string\">&quot;../includeARM64.inc&quot;</span>\n"
    }
  },
  "contributors": [
    {
      "name": "Mertcan Davulcu",
      "email": "54983926+mertcandav@users.noreply.github.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}

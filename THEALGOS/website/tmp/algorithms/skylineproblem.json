{
  "slug": "skylineproblem",
  "name": "SkylineProblem",
  "categories": ["others"],
  "body": {},
  "implementations": {
    "java": {
      "dir": "Others/SkylineProblem.java",
      "url": "https://github.com/TheAlgorithms/java/tree/master/Others/SkylineProblem.java",
      "code": "<span class=\"hljs-keyword\">package</span> Others;\n\n<span class=\"hljs-keyword\">import</span> java.util.ArrayList;\n<span class=\"hljs-keyword\">import</span> java.util.Iterator;\n<span class=\"hljs-keyword\">import</span> java.util.Scanner;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">SkylineProblem</span> {\n  Building[] building;\n  <span class=\"hljs-type\">int</span> count;\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">run</span><span class=\"hljs-params\">()</span> {\n    <span class=\"hljs-type\">Scanner</span> <span class=\"hljs-variable\">sc</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Scanner</span>(System.in);\n\n    <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">num</span> <span class=\"hljs-operator\">=</span> sc.nextInt();\n    <span class=\"hljs-built_in\">this</span>.building = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Building</span>[num];\n\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>; i &lt; num; i++) {\n      <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">input</span> <span class=\"hljs-operator\">=</span> sc.next();\n      String[] data = input.split(<span class=\"hljs-string\">&quot;,&quot;</span>);\n      <span class=\"hljs-built_in\">this</span>.add(Integer.parseInt(data[<span class=\"hljs-number\">0</span>]), Integer.parseInt(data[<span class=\"hljs-number\">1</span>]), Integer.parseInt(data[<span class=\"hljs-number\">2</span>]));\n    }\n    <span class=\"hljs-built_in\">this</span>.print(<span class=\"hljs-built_in\">this</span>.findSkyline(<span class=\"hljs-number\">0</span>, num - <span class=\"hljs-number\">1</span>));\n\n    sc.close();\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">add</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> left, <span class=\"hljs-type\">int</span> height, <span class=\"hljs-type\">int</span> right)</span> {\n    building[count++] = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Building</span>(left, height, right);\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">print</span><span class=\"hljs-params\">(ArrayList&lt;Skyline&gt; skyline)</span> {\n    Iterator&lt;Skyline&gt; it = skyline.iterator();\n\n    <span class=\"hljs-keyword\">while</span> (it.hasNext()) {\n      <span class=\"hljs-type\">Skyline</span> <span class=\"hljs-variable\">temp</span> <span class=\"hljs-operator\">=</span> it.next();\n      System.out.print(temp.coordinates + <span class=\"hljs-string\">&quot;,&quot;</span> + temp.height);\n      <span class=\"hljs-keyword\">if</span> (it.hasNext()) {\n        System.out.print(<span class=\"hljs-string\">&quot;,&quot;</span>);\n      }\n    }\n  }\n\n  <span class=\"hljs-keyword\">public</span> ArrayList&lt;Skyline&gt; <span class=\"hljs-title function_\">findSkyline</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> start, <span class=\"hljs-type\">int</span> end)</span> {\n    <span class=\"hljs-keyword\">if</span> (start == end) {\n      ArrayList&lt;Skyline&gt; list = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ArrayList</span>&lt;&gt;();\n      list.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Skyline</span>(building[start].left, building[start].height));\n      list.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Skyline</span>(building[end].right, <span class=\"hljs-number\">0</span>));\n\n      <span class=\"hljs-keyword\">return</span> list;\n    }\n\n    <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">mid</span> <span class=\"hljs-operator\">=</span> (start + end) / <span class=\"hljs-number\">2</span>;\n\n    ArrayList&lt;Skyline&gt; sky1 = <span class=\"hljs-built_in\">this</span>.findSkyline(start, mid);\n    ArrayList&lt;Skyline&gt; sky2 = <span class=\"hljs-built_in\">this</span>.findSkyline(mid + <span class=\"hljs-number\">1</span>, end);\n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">this</span>.mergeSkyline(sky1, sky2);\n  }\n\n  <span class=\"hljs-keyword\">public</span> ArrayList&lt;Skyline&gt; <span class=\"hljs-title function_\">mergeSkyline</span><span class=\"hljs-params\">(ArrayList&lt;Skyline&gt; sky1, ArrayList&lt;Skyline&gt; sky2)</span> {\n    <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">currentH1</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>, currentH2 = <span class=\"hljs-number\">0</span>;\n    ArrayList&lt;Skyline&gt; skyline = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ArrayList</span>&lt;&gt;();\n    <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">maxH</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-keyword\">while</span> (!sky1.isEmpty() &amp;&amp; !sky2.isEmpty()) {\n      <span class=\"hljs-keyword\">if</span> (sky1.get(<span class=\"hljs-number\">0</span>).coordinates &lt; sky2.get(<span class=\"hljs-number\">0</span>).coordinates) {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">currentX</span> <span class=\"hljs-operator\">=</span> sky1.get(<span class=\"hljs-number\">0</span>).coordinates;\n        currentH1 = sky1.get(<span class=\"hljs-number\">0</span>).height;\n\n        <span class=\"hljs-keyword\">if</span> (currentH1 &lt; currentH2) {\n          sky1.remove(<span class=\"hljs-number\">0</span>);\n          <span class=\"hljs-keyword\">if</span> (maxH != currentH2) skyline.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Skyline</span>(currentX, currentH2));\n        } <span class=\"hljs-keyword\">else</span> {\n          maxH = currentH1;\n          sky1.remove(<span class=\"hljs-number\">0</span>);\n          skyline.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Skyline</span>(currentX, currentH1));\n        }\n      } <span class=\"hljs-keyword\">else</span> {\n        <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">currentX</span> <span class=\"hljs-operator\">=</span> sky2.get(<span class=\"hljs-number\">0</span>).coordinates;\n        currentH2 = sky2.get(<span class=\"hljs-number\">0</span>).height;\n\n        <span class=\"hljs-keyword\">if</span> (currentH2 &lt; currentH1) {\n          sky2.remove(<span class=\"hljs-number\">0</span>);\n          <span class=\"hljs-keyword\">if</span> (maxH != currentH1) skyline.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Skyline</span>(currentX, currentH1));\n        } <span class=\"hljs-keyword\">else</span> {\n          maxH = currentH2;\n          sky2.remove(<span class=\"hljs-number\">0</span>);\n          skyline.add(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Skyline</span>(currentX, currentH2));\n        }\n      }\n    }\n\n    <span class=\"hljs-keyword\">while</span> (!sky1.isEmpty()) {\n      skyline.add(sky1.get(<span class=\"hljs-number\">0</span>));\n      sky1.remove(<span class=\"hljs-number\">0</span>);\n    }\n\n    <span class=\"hljs-keyword\">while</span> (!sky2.isEmpty()) {\n      skyline.add(sky2.get(<span class=\"hljs-number\">0</span>));\n      sky2.remove(<span class=\"hljs-number\">0</span>);\n    }\n\n    <span class=\"hljs-keyword\">return</span> skyline;\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Skyline</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> coordinates;\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> height;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">Skyline</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> coordinates, <span class=\"hljs-type\">int</span> height)</span> {\n      <span class=\"hljs-built_in\">this</span>.coordinates = coordinates;\n      <span class=\"hljs-built_in\">this</span>.height = height;\n    }\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Building</span> {\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> left;\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> height;\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-type\">int</span> right;\n\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">Building</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> left, <span class=\"hljs-type\">int</span> height, <span class=\"hljs-type\">int</span> right)</span> {\n      <span class=\"hljs-built_in\">this</span>.left = left;\n      <span class=\"hljs-built_in\">this</span>.height = height;\n      <span class=\"hljs-built_in\">this</span>.right = right;\n    }\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String[] args)</span> {\n    <span class=\"hljs-type\">SkylineProblem</span> <span class=\"hljs-variable\">skylineProblem</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SkylineProblem</span>();\n    skylineProblem.run();\n  }\n}\n"
    }
  },
  "contributors": [
    {
      "name": "rmakynen",
      "email": "rmakynen@W10-178.student.yo.oulu.fi",
      "commits": 1
    },
    {
      "name": "Libin Yang",
      "email": "szuyanglb@outlook.com",
      "commits": 2
    },
    {
      "name": "sangjun2",
      "email": "sj27294626@gmail.com",
      "commits": 2
    }
  ],
  "explanationUrl": {}
}

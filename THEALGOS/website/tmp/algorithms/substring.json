{
  "slug": "substring",
  "name": "Substring",
  "categories": ["strings"],
  "body": {},
  "implementations": {
    "aarch64_assembly": {
      "dir": "string/substring.s",
      "url": "https://github.com/TheAlgorithms/aarch64_assembly/tree/master/string/substring.s",
      "code": "<span class=\"hljs-comment\">/* ARM assembly AARCH64 Raspberry PI 3B */</span>\n<span class=\"hljs-comment\">/*  program subString64.s   */</span>\n \n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-comment\">/* Constantes file                         */</span>\n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-comment\">/* for this file see task include a file in language AArch64 assembly*/</span>\n<span class=\"hljs-symbol\">.include</span> <span class=\"hljs-string\">&quot;../includeConstantesARM64.inc&quot;</span>\n \n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-comment\">/* Initialized data                        */</span>\n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-symbol\">.data</span>\n<span class=\"hljs-symbol\">szMessString:</span>            <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;Result : &quot;</span> \n<span class=\"hljs-symbol\">szString1:</span>               <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>\n<span class=\"hljs-symbol\">szStringStart:</span>           <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;abcdefg&quot;</span>\n<span class=\"hljs-symbol\">szCarriageReturn:</span>        <span class=\"hljs-meta\">.asciz</span> <span class=\"hljs-string\">&quot;\\n&quot;</span>\n<span class=\"hljs-comment\">/*******************************************/</span> \n<span class=\"hljs-comment\">/* UnInitialized data                      */</span>\n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-symbol\">.bss</span> \n<span class=\"hljs-symbol\">szSubString:</span>             <span class=\"hljs-meta\">.skip</span> <span class=\"hljs-number\">500</span>             <span class=\"hljs-comment\">// buffer result</span>\n \n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-comment\">/*  code section                           */</span>\n<span class=\"hljs-comment\">/*******************************************/</span>\n<span class=\"hljs-symbol\">.text</span>\n<span class=\"hljs-symbol\">.global</span> main \n<span class=\"hljs-symbol\">main:</span> \n \n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszString1                        <span class=\"hljs-comment\">// address input string</span>\n    <span class=\"hljs-keyword\">ldr</span> x1,qAdrszSubString                      <span class=\"hljs-comment\">// address output string</span>\n    <span class=\"hljs-keyword\">mov</span> x2,<span class=\"hljs-number\">22</span>                                   <span class=\"hljs-comment\">// location</span>\n    <span class=\"hljs-keyword\">mov</span> x3,<span class=\"hljs-number\">4</span>                                    <span class=\"hljs-comment\">// length</span>\n    <span class=\"hljs-keyword\">bl</span> subStringNbChar                          <span class=\"hljs-comment\">// starting from n characters in and of m length</span>\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszMessString                     <span class=\"hljs-comment\">// display message</span>\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszSubString                      <span class=\"hljs-comment\">// display substring result</span>\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszCarriageReturn                 <span class=\"hljs-comment\">// display line return</span>\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-comment\">//</span>\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszString1\n    <span class=\"hljs-keyword\">ldr</span> x1,qAdrszSubString\n    <span class=\"hljs-keyword\">mov</span> x2,<span class=\"hljs-number\">15</span>                                   <span class=\"hljs-comment\">// location</span>\n    <span class=\"hljs-keyword\">bl</span> subStringEnd                             <span class=\"hljs-comment\">//starting from n characters in, up to the end of the string</span>\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszMessString                     <span class=\"hljs-comment\">// display message</span>\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszSubString\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszCarriageReturn                 <span class=\"hljs-comment\">// display line return</span>\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-comment\">//</span>\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszString1\n    <span class=\"hljs-keyword\">ldr</span> x1,qAdrszSubString\n    <span class=\"hljs-keyword\">bl</span> subStringMinus                           <span class=\"hljs-comment\">// whole string minus last character</span>\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszMessString                     <span class=\"hljs-comment\">// display message</span>\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszSubString\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszCarriageReturn                 <span class=\"hljs-comment\">// display line return</span>\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-comment\">//</span>\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszString1\n    <span class=\"hljs-keyword\">ldr</span> x1,qAdrszSubString\n    <span class=\"hljs-keyword\">mov</span> x2,<span class=\"hljs-string\">&#x27;c&#x27;</span>                                  <span class=\"hljs-comment\">// start character</span>\n    <span class=\"hljs-keyword\">mov</span> x3,<span class=\"hljs-number\">5</span>                                    <span class=\"hljs-comment\">// length</span>\n    <span class=\"hljs-keyword\">bl</span> subStringStChar                          <span class=\"hljs-comment\">//starting from a known character within the string and of m length</span>\n    <span class=\"hljs-keyword\">cmp</span> x0,-<span class=\"hljs-number\">1</span>                                   <span class=\"hljs-comment\">// error ?</span>\n    <span class=\"hljs-keyword\">beq</span> <span class=\"hljs-number\">2</span>f\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszMessString                     <span class=\"hljs-comment\">// display message</span>\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszSubString\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszCarriageReturn                 <span class=\"hljs-comment\">// display line return</span>\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-comment\">//</span>\n<span class=\"hljs-number\">2</span>:\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszString1\n    <span class=\"hljs-keyword\">ldr</span> x1,qAdrszSubString\n    <span class=\"hljs-keyword\">ldr</span> x2,qAdrszStringStart                    <span class=\"hljs-comment\">// sub string to start</span>\n    <span class=\"hljs-keyword\">mov</span> x3,<span class=\"hljs-number\">10</span>                                   <span class=\"hljs-comment\">// length</span>\n    <span class=\"hljs-keyword\">bl</span> subStringStString                        <span class=\"hljs-comment\">// starting from a known substring within the string and of m length</span>\n    <span class=\"hljs-keyword\">cmp</span> x0,-<span class=\"hljs-number\">1</span>                                   <span class=\"hljs-comment\">// error ?</span>\n    <span class=\"hljs-keyword\">beq</span> <span class=\"hljs-number\">3</span>f\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszMessString                     <span class=\"hljs-comment\">// display message</span>\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszSubString\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n    <span class=\"hljs-keyword\">ldr</span> x0,qAdrszCarriageReturn                 <span class=\"hljs-comment\">// display line return</span>\n    <span class=\"hljs-keyword\">bl</span> affichageMess\n<span class=\"hljs-number\">3</span>:\n<span class=\"hljs-number\">100</span>:                                            <span class=\"hljs-comment\">// standard end of the program</span>\n    <span class=\"hljs-keyword\">mov</span> x0,<span class=\"hljs-number\">0</span>                                    <span class=\"hljs-comment\">// return code</span>\n    <span class=\"hljs-keyword\">mov</span> x8,EXIT                                 <span class=\"hljs-comment\">// request to exit program</span>\n    <span class=\"hljs-keyword\">svc</span> <span class=\"hljs-number\">0</span>                                       <span class=\"hljs-comment\">// perform system call</span>\n<span class=\"hljs-symbol\">qAdrszMessString:</span>         .quad szMessString\n<span class=\"hljs-symbol\">qAdrszString1:</span>            .quad szString1\n<span class=\"hljs-symbol\">qAdrszSubString:</span>          .quad szSubString\n<span class=\"hljs-symbol\">qAdrszStringStart:</span>        .quad szStringStart\n<span class=\"hljs-symbol\">qAdrszCarriageReturn:</span>     .quad szCarriageReturn\n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/*     sub strings  index start  number of characters             */</span> \n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/* x0 contains the address of the input string */</span>\n<span class=\"hljs-comment\">/* x1 contains the address of the output string */</span>\n<span class=\"hljs-comment\">/* x2 contains the start index                  */</span>\n<span class=\"hljs-comment\">/* x3 contains numbers of characters to extract */</span>\n<span class=\"hljs-comment\">/* x0 returns number of characters or -1 if error */</span>\n<span class=\"hljs-symbol\">subStringNbChar:</span>\n    stp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>,-<span class=\"hljs-number\">16</span>]!            <span class=\"hljs-comment\">// save  registers</span>\n    <span class=\"hljs-keyword\">mov</span> x14,<span class=\"hljs-number\">#0</span>                     <span class=\"hljs-comment\">// counter byte output string </span>\n<span class=\"hljs-number\">1</span>:\n    <span class=\"hljs-keyword\">ldrb</span> w15,[x0,x2]               <span class=\"hljs-comment\">// load byte string input</span>\n    <span class=\"hljs-keyword\">cbz</span> x15,<span class=\"hljs-number\">2</span>f                     <span class=\"hljs-comment\">// zero final ?</span>\n    <span class=\"hljs-keyword\">strb</span> w15,[x1,x14]              <span class=\"hljs-comment\">// store byte output string</span>\n    <span class=\"hljs-keyword\">add</span> x2,x2,<span class=\"hljs-number\">1</span>                    <span class=\"hljs-comment\">// increment counter</span>\n    <span class=\"hljs-keyword\">add</span> x14,x14,<span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">cmp</span> x14,x3                     <span class=\"hljs-comment\">// end ?</span>\n    <span class=\"hljs-keyword\">blt</span> <span class=\"hljs-number\">1</span>b                         <span class=\"hljs-comment\">// no -&gt; loop</span>\n<span class=\"hljs-number\">2</span>:\n    <span class=\"hljs-keyword\">strb</span> wzr,[x1,x14]              <span class=\"hljs-comment\">// store final zero byte string 2</span>\n    <span class=\"hljs-keyword\">mov</span> x0,x14\n<span class=\"hljs-number\">100</span>:\n    ldp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>],<span class=\"hljs-number\">16</span>              <span class=\"hljs-comment\">// restaur  2 registers</span>\n    ret                            <span class=\"hljs-comment\">// return to address lr x30</span>\n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/*     sub strings  index start at end of string             */</span> \n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/* x0 contains the address of the input string */</span>\n<span class=\"hljs-comment\">/* x1 contains the address of the output string */</span>\n<span class=\"hljs-comment\">/* x2 contains the start index                  */</span>\n<span class=\"hljs-comment\">/* x0 returns number of characters or -1 if error */</span>\n<span class=\"hljs-symbol\">subStringEnd:</span>\n    stp x2,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>,-<span class=\"hljs-number\">16</span>]!            <span class=\"hljs-comment\">// save  registers</span>\n    <span class=\"hljs-keyword\">mov</span> x14,<span class=\"hljs-number\">0</span>                      <span class=\"hljs-comment\">// counter byte output string </span>\n<span class=\"hljs-number\">1</span>:\n    <span class=\"hljs-keyword\">ldrb</span> w15,[x0,x2]               <span class=\"hljs-comment\">// load byte string 1</span>\n    <span class=\"hljs-keyword\">cbz</span> x15,<span class=\"hljs-number\">2</span>f                     <span class=\"hljs-comment\">// zero final ?</span>\n    <span class=\"hljs-keyword\">strb</span> w15,[x1,x14]\n    <span class=\"hljs-keyword\">add</span> x2,x2,<span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">add</span> x14,x14,<span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">b</span> <span class=\"hljs-number\">1</span>b                           <span class=\"hljs-comment\">// loop</span>\n<span class=\"hljs-number\">2</span>:\n    <span class=\"hljs-keyword\">strb</span> wzr,[x1,x14]              <span class=\"hljs-comment\">// store final zero byte string 2</span>\n    <span class=\"hljs-keyword\">mov</span> x0,x14\n<span class=\"hljs-number\">100</span>:\n \n    ldp x2,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>],<span class=\"hljs-number\">16</span>              <span class=\"hljs-comment\">// restaur  2 registers</span>\n    ret                            <span class=\"hljs-comment\">// return to address lr x30</span>\n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/*      whole string minus last character                        */</span> \n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/* x0 contains the address of the input string */</span>\n<span class=\"hljs-comment\">/* x1 contains the address of the output string */</span>\n<span class=\"hljs-comment\">/* x0 returns number of characters or -1 if error */</span>\n<span class=\"hljs-symbol\">subStringMinus:</span>\n    stp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>,-<span class=\"hljs-number\">16</span>]!            <span class=\"hljs-comment\">// save  registers</span>\n    <span class=\"hljs-keyword\">mov</span> x12,<span class=\"hljs-number\">0</span>                      <span class=\"hljs-comment\">// counter byte input string</span>\n    <span class=\"hljs-keyword\">mov</span> x14,<span class=\"hljs-number\">0</span>                      <span class=\"hljs-comment\">// counter byte output string </span>\n<span class=\"hljs-number\">1</span>:\n    <span class=\"hljs-keyword\">ldrb</span> w15,[x0,x12]              <span class=\"hljs-comment\">// load byte string </span>\n    <span class=\"hljs-keyword\">cbz</span> x15,<span class=\"hljs-number\">2</span>f                     <span class=\"hljs-comment\">// zero final ?</span>\n    <span class=\"hljs-keyword\">strb</span> w15,[x1,x14]\n    <span class=\"hljs-keyword\">add</span> x12,x12,<span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">add</span> x14,x14,<span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">b</span> <span class=\"hljs-number\">1</span>b                           <span class=\"hljs-comment\">//  loop</span>\n<span class=\"hljs-number\">2</span>:\n    <span class=\"hljs-keyword\">sub</span> x14,x14,<span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">strb</span> wzr,[x1,x14]              <span class=\"hljs-comment\">// store final zero byte string 2</span>\n    <span class=\"hljs-keyword\">mov</span> x0,x14\n<span class=\"hljs-number\">100</span>:\n    ldp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>],<span class=\"hljs-number\">16</span>              <span class=\"hljs-comment\">// restaur  2 registers</span>\n    ret                            <span class=\"hljs-comment\">// return to address lr x30</span>\n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/*   starting from a known character within the string and of m length  */</span> \n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/* x0 contains the address of the input string */</span>\n<span class=\"hljs-comment\">/* x1 contains the address of the output string */</span>\n<span class=\"hljs-comment\">/* x2 contains the character    */</span>\n<span class=\"hljs-comment\">/* x3 contains the length\n/* x0 returns number of characters or -1 if error */</span>\n<span class=\"hljs-symbol\">subStringStChar:</span>\n    stp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>,-<span class=\"hljs-number\">16</span>]!            <span class=\"hljs-comment\">// save  registers</span>\n    <span class=\"hljs-keyword\">mov</span> x16,<span class=\"hljs-number\">0</span>                      <span class=\"hljs-comment\">// counter byte input string</span>\n    <span class=\"hljs-keyword\">mov</span> x14,<span class=\"hljs-number\">0</span>                      <span class=\"hljs-comment\">// counter byte output string </span>\n<span class=\"hljs-number\">1</span>:\n    <span class=\"hljs-keyword\">ldrb</span> w15,[x0,x16]              <span class=\"hljs-comment\">// load byte string </span>\n    <span class=\"hljs-keyword\">cbz</span> x15,<span class=\"hljs-number\">4</span>f                     <span class=\"hljs-comment\">// zero final ?</span>\n    <span class=\"hljs-keyword\">cmp</span> x15,x2                     <span class=\"hljs-comment\">// character find ?</span>\n    <span class=\"hljs-keyword\">beq</span> <span class=\"hljs-number\">2</span>f                         <span class=\"hljs-comment\">// yes</span>\n    <span class=\"hljs-keyword\">add</span> x16,x16,<span class=\"hljs-number\">1</span>                  <span class=\"hljs-comment\">// no -&gt; increment indice</span>\n    <span class=\"hljs-keyword\">b</span> <span class=\"hljs-number\">1</span>b                           <span class=\"hljs-comment\">//  loop</span>\n<span class=\"hljs-number\">2</span>:\n    <span class=\"hljs-keyword\">strb</span> w15,[x1,x14]\n    <span class=\"hljs-keyword\">add</span> x16,x16,<span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">add</span> x14,x14,<span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">cmp</span> x14,x3\n    <span class=\"hljs-keyword\">bge</span> <span class=\"hljs-number\">3</span>f\n    <span class=\"hljs-keyword\">ldrb</span> w15,[x0,x16]              <span class=\"hljs-comment\">// load byte string </span>\n    <span class=\"hljs-keyword\">cbnz</span> x15,<span class=\"hljs-number\">2</span>b                    <span class=\"hljs-comment\">// loop if no zero final</span>\n<span class=\"hljs-number\">3</span>:\n    <span class=\"hljs-keyword\">strb</span> wzr,[x1,x14]              <span class=\"hljs-comment\">// store final zero byte string 2</span>\n    <span class=\"hljs-keyword\">mov</span> x0,x14\n    <span class=\"hljs-keyword\">b</span> <span class=\"hljs-number\">100</span>f\n<span class=\"hljs-number\">4</span>:\n    <span class=\"hljs-keyword\">strb</span> w15,[x1,x14]\n    <span class=\"hljs-keyword\">mov</span> x0,#-<span class=\"hljs-number\">1</span>\n<span class=\"hljs-number\">100</span>:\n    ldp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>],<span class=\"hljs-number\">16</span>              <span class=\"hljs-comment\">// restaur  2 registers</span>\n    ret                            <span class=\"hljs-comment\">// return to address lr x30</span>\n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/*   starting from a known substring within the string and of m length  */</span> \n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/* x0 contains the address of the input string */</span>\n<span class=\"hljs-comment\">/* x1 contains the address of the output string */</span>\n<span class=\"hljs-comment\">/* x2 contains the address of string to start    */</span>\n<span class=\"hljs-comment\">/* x3 contains the length\n/* x0 returns number of characters or -1 if error */</span>\n<span class=\"hljs-symbol\">subStringStString:</span>\n    stp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>,-<span class=\"hljs-number\">16</span>]!            <span class=\"hljs-comment\">// save  registers</span>\n    stp x20,x21,[<span class=\"hljs-built_in\">sp</span>,-<span class=\"hljs-number\">16</span>]!          <span class=\"hljs-comment\">// save  registers</span>\n    <span class=\"hljs-keyword\">mov</span> x20,x0                     <span class=\"hljs-comment\">// save address</span>\n    <span class=\"hljs-keyword\">mov</span> x21,x1                     <span class=\"hljs-comment\">// save address output string</span>\n    <span class=\"hljs-keyword\">mov</span> x1,x2\n    <span class=\"hljs-keyword\">bl</span> searchSubString\n    <span class=\"hljs-keyword\">cmp</span> x0,-<span class=\"hljs-number\">1</span>                      <span class=\"hljs-comment\">// not found ?</span>\n    <span class=\"hljs-keyword\">beq</span> <span class=\"hljs-number\">100</span>f\n    <span class=\"hljs-keyword\">mov</span> x16,x0                     <span class=\"hljs-comment\">// counter byte input string</span>\n    <span class=\"hljs-keyword\">mov</span> x14,<span class=\"hljs-number\">0</span>\n<span class=\"hljs-number\">1</span>:\n    <span class=\"hljs-keyword\">ldrb</span> w15,[x20,x16]             <span class=\"hljs-comment\">// load byte string </span>\n    <span class=\"hljs-keyword\">strb</span> w15,[x21,x14]\n    <span class=\"hljs-keyword\">cmp</span> x15,<span class=\"hljs-number\">#0</span>                     <span class=\"hljs-comment\">// zero final ?</span>\n    csel x0,x14,x0,eq\n    <span class=\"hljs-keyword\">beq</span> <span class=\"hljs-number\">100</span>f\n    <span class=\"hljs-keyword\">add</span> x14,x14,<span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">cmp</span> x14,x3\n    <span class=\"hljs-keyword\">add</span> x15,x16,<span class=\"hljs-number\">1</span>\n    csel x16,x15,x16,lt\n    <span class=\"hljs-keyword\">blt</span> <span class=\"hljs-number\">1</span>b                         <span class=\"hljs-comment\">//  loop</span>\n    <span class=\"hljs-keyword\">strb</span> wzr,[x21,x14]\n    <span class=\"hljs-keyword\">mov</span> x0,x14                     <span class=\"hljs-comment\">// return indice</span>\n<span class=\"hljs-number\">100</span>:\n    ldp x20,x21,[<span class=\"hljs-built_in\">sp</span>],<span class=\"hljs-number\">16</span>              <span class=\"hljs-comment\">// restaur  2 registers</span>\n    ldp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>],<span class=\"hljs-number\">16</span>              <span class=\"hljs-comment\">// restaur  2 registers</span>\n    ret                            <span class=\"hljs-comment\">// return to address lr x30</span>\n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/*   search a substring in the string                            */</span> \n<span class=\"hljs-comment\">/******************************************************************/</span>\n<span class=\"hljs-comment\">/* x0 contains the address of the input string */</span>\n<span class=\"hljs-comment\">/* x1 contains the address of substring */</span>\n<span class=\"hljs-comment\">/* x0 returns index of substring in string or -1 if not found */</span>\n<span class=\"hljs-symbol\">searchSubString:</span>\n    stp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>,-<span class=\"hljs-number\">16</span>]!            <span class=\"hljs-comment\">// save  registers</span>\n    <span class=\"hljs-keyword\">mov</span> x12,<span class=\"hljs-number\">0</span>                      <span class=\"hljs-comment\">// counter byte input string</span>\n    <span class=\"hljs-keyword\">mov</span> x13,<span class=\"hljs-number\">0</span>                      <span class=\"hljs-comment\">// counter byte string </span>\n    <span class=\"hljs-keyword\">mov</span> x16,-<span class=\"hljs-number\">1</span>                     <span class=\"hljs-comment\">// index found</span>\n    <span class=\"hljs-keyword\">ldrb</span> w14,[x1,x13]\n<span class=\"hljs-number\">1</span>:\n    <span class=\"hljs-keyword\">ldrb</span> w15,[x0,x12]              <span class=\"hljs-comment\">// load byte string </span>\n    <span class=\"hljs-keyword\">cbz</span> x15,<span class=\"hljs-number\">4</span>f                     <span class=\"hljs-comment\">// zero final ?</span>\n    <span class=\"hljs-keyword\">cmp</span> x15,x14                    <span class=\"hljs-comment\">// compare character </span>\n    <span class=\"hljs-keyword\">beq</span> <span class=\"hljs-number\">2</span>f\n    <span class=\"hljs-keyword\">mov</span> x16,-<span class=\"hljs-number\">1</span>                     <span class=\"hljs-comment\">// no equals - &gt; raz index </span>\n    <span class=\"hljs-keyword\">mov</span> x13,<span class=\"hljs-number\">0</span>                      <span class=\"hljs-comment\">// and raz counter byte</span>\n    <span class=\"hljs-keyword\">add</span> x12,x12,<span class=\"hljs-number\">1</span>                  <span class=\"hljs-comment\">// and increment counter byte</span>\n    <span class=\"hljs-keyword\">b</span> <span class=\"hljs-number\">1</span>b                           <span class=\"hljs-comment\">// and loop</span>\n<span class=\"hljs-number\">2</span>:                                 <span class=\"hljs-comment\">// characters equals</span>\n    <span class=\"hljs-keyword\">cmp</span> x16,-<span class=\"hljs-number\">1</span>                     <span class=\"hljs-comment\">// first characters equals ?</span>\n    csel x16,x12,x16,eq\n   <span class=\"hljs-comment\">// moveq x6,x2                  // yes -&gt; index begin in x6</span>\n    <span class=\"hljs-keyword\">add</span> x13,x13,<span class=\"hljs-number\">1</span>                  <span class=\"hljs-comment\">// increment counter substring</span>\n    <span class=\"hljs-keyword\">ldrb</span> w14,[x1,x13]              <span class=\"hljs-comment\">// and load next byte</span>\n    <span class=\"hljs-keyword\">cbz</span> x14,<span class=\"hljs-number\">3</span>f                     <span class=\"hljs-comment\">// zero final ? yes -&gt; end search</span>\n    <span class=\"hljs-keyword\">add</span> x12,x12,<span class=\"hljs-number\">1</span>                  <span class=\"hljs-comment\">// else increment counter string</span>\n    <span class=\"hljs-keyword\">b</span> <span class=\"hljs-number\">1</span>b                           <span class=\"hljs-comment\">// and loop</span>\n<span class=\"hljs-number\">3</span>:\n    <span class=\"hljs-keyword\">mov</span> x0,x16                     <span class=\"hljs-comment\">// return indice</span>\n    <span class=\"hljs-keyword\">b</span> <span class=\"hljs-number\">100</span>f\n<span class=\"hljs-number\">4</span>:\n   <span class=\"hljs-keyword\">mov</span> x0,#-<span class=\"hljs-number\">1</span>                      <span class=\"hljs-comment\">// yes returns error</span>\n<span class=\"hljs-number\">100</span>:\n    ldp x1,<span class=\"hljs-built_in\">lr</span>,[<span class=\"hljs-built_in\">sp</span>],<span class=\"hljs-number\">16</span>              <span class=\"hljs-comment\">// restaur  2 registers</span>\n    ret                            <span class=\"hljs-comment\">// return to address lr x30</span>\n<span class=\"hljs-comment\">/********************************************************/</span>\n<span class=\"hljs-comment\">/*        File Include fonctions                        */</span>\n<span class=\"hljs-comment\">/********************************************************/</span>\n<span class=\"hljs-comment\">/* for this file see task include a file in language AArch64 assembly */</span>\n<span class=\"hljs-symbol\">.include</span> <span class=\"hljs-string\">&quot;../includeARM64.inc&quot;</span>\n"
    }
  },
  "contributors": [
    {
      "name": "Mertcan Davulcu",
      "email": "54983926+mertcandav@users.noreply.github.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}

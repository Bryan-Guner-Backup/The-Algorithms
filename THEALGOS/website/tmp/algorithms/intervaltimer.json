{
  "slug": "intervaltimer",
  "name": "IntervalTimer",
  "categories": ["timingfunctions"],
  "body": {},
  "implementations": {
    "javascript": {
      "dir": "Timing-Functions/IntervalTimer.js",
      "url": "https://github.com/TheAlgorithms/javascript/tree/master/Timing-Functions/IntervalTimer.js",
      "code": "<span class=\"hljs-comment\">/**\n * <span class=\"hljs-doctag\">@author</span> Nandan V\n * Sunday, 26 July 2020 8:33 AM\n * <span class=\"hljs-doctag\">@description</span> Singleton class that handles the &lt;b&gt;timing of tests&lt;/b&gt; and\n *   specs. &lt;br/&gt; The class is singleton as &lt;u&gt;javascript does not support\n *   multiple timer instances&lt;u/&gt;.\n */</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">IntervalTimer</span> {\n  <span class=\"hljs-comment\">/**\n   * <span class=\"hljs-doctag\">@description</span> Constructor for Timer.\n   * <span class=\"hljs-doctag\">@param</span> interval Sets the interval for running the timer.\n   * <span class=\"hljs-doctag\">@param</span> callBack The callback function to be executed.\n   * <span class=\"hljs-doctag\">@return</span> {<span class=\"hljs-type\">IntervalTimer</span>} If exists, the existing object.\n   */</span>\n  <span class=\"hljs-title function_\">constructor</span> (interval = <span class=\"hljs-number\">10</span>,\n    callBack = <span class=\"hljs-function\">() =&gt;</span> {}) {\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">prevInterval</span> = <span class=\"hljs-number\">0</span>\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">instance</span> == <span class=\"hljs-literal\">null</span>) {\n      <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">interval</span> = interval\n      <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">callBack</span> = callBack\n      <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">instance</span> = <span class=\"hljs-variable language_\">this</span>\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">instance</span>\n    }\n  }\n\n  <span class=\"hljs-comment\">/**\n   * <span class=\"hljs-doctag\">@description</span> Starts the timer.\n   */</span>\n  startTimer () {\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">timer</span> = <span class=\"hljs-built_in\">setInterval</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">callBack</span>, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">interval</span>)\n  }\n\n  <span class=\"hljs-comment\">/**\n   * <span class=\"hljs-doctag\">@description</span> Resets the timer.\n   * <span class=\"hljs-doctag\">@return</span> {<span class=\"hljs-type\">number</span>} Elapsed time in milliseconds.\n   */</span>\n  resetTimer () {\n    <span class=\"hljs-built_in\">clearInterval</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">timer</span>)\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">callBack</span> = <span class=\"hljs-function\">() =&gt;</span> {}\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">getElapsedTime</span>()\n  }\n\n  <span class=\"hljs-comment\">/**\n   * <span class=\"hljs-doctag\">@return</span> {<span class=\"hljs-type\">number</span>} Elapsed time in milliseconds since reset.\n   */</span>\n  getElapsedTime (offset = <span class=\"hljs-number\">0</span>) {\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">timeElapsed</span> = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">timer</span> - <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">prevInterval</span>\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">prevInterval</span> = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">timer</span>\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">timeElapsed</span> - offset\n  }\n\n  <span class=\"hljs-comment\">/**\n   * <span class=\"hljs-doctag\">@return</span> {<span class=\"hljs-type\">number</span>} Elapsed time since start.\n   */</span>\n  getRunTime () {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">timer</span>\n  }\n}\n\n<span class=\"hljs-comment\">/**\n * <span class=\"hljs-doctag\">@author</span> Nandan V\n * Saturday, 01 August 2020 8:33 AM\n * <span class=\"hljs-doctag\">@description</span> Example usage\n */</span>\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title class_\">ExampleIntervalTimer</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) {\n  <span class=\"hljs-comment\">/**\n   * Create am object with default settings.\n   * <span class=\"hljs-doctag\">@type</span> {<span class=\"hljs-type\">IntervalTimer</span>} Used to get timing information.\n   */</span>\n  <span class=\"hljs-keyword\">const</span> timer = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">IntervalTimer</span>()\n  timer.<span class=\"hljs-title function_\">startTimer</span>()\n\n  <span class=\"hljs-comment\">// ... Initialization code ...</span>\n  <span class=\"hljs-comment\">// I generally use it for timing tests in Jasmine JS.</span>\n\n  <span class=\"hljs-comment\">/**\n   * Gets the runtime till this point.\n   * Can be subtracted from ElapsedTime to offset timing of initialization code.\n   */</span>\n  <span class=\"hljs-keyword\">const</span> initOffset = timer.<span class=\"hljs-title function_\">getRunTime</span>()\n\n  <span class=\"hljs-comment\">// ... A test ...</span>\n  <span class=\"hljs-comment\">// The time taken to run the test.</span>\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(timer.<span class=\"hljs-title function_\">getElapsedTime</span>(initOffset))\n\n  <span class=\"hljs-comment\">/**\n   * Returns the elapsed time and resets the timer to 0.\n   */</span>\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(timer.<span class=\"hljs-title function_\">resetTimer</span>())\n}\n\n<span class=\"hljs-title class_\">ExampleIntervalTimer</span>()\n"
    }
  },
  "contributors": [
    {
      "name": "Nandan V",
      "email": "nvpotti.mec@gmail.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}

{
  "slug": "minimum-spanning-tree-prims",
  "name": "Minimum Spanning Tree Prims",
  "categories": ["graphs"],
  "body": {},
  "implementations": {
    "python": {
      "dir": "graphs/minimum_spanning_tree_prims.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/graphs/minimum_spanning_tree_prims.py",
      "code": "<span class=\"hljs-keyword\">import</span> sys\n<span class=\"hljs-keyword\">from</span> collections <span class=\"hljs-keyword\">import</span> defaultdict\n\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">PrimsAlgorithm</span>(<span class=\"hljs-params\">l</span>):  <span class=\"hljs-comment\"># noqa: E741</span>\n\n    nodePosition = []\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_position</span>(<span class=\"hljs-params\">vertex</span>):\n        <span class=\"hljs-keyword\">return</span> nodePosition[vertex]\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">set_position</span>(<span class=\"hljs-params\">vertex, pos</span>):\n        nodePosition[vertex] = pos\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">top_to_bottom</span>(<span class=\"hljs-params\">heap, start, size, positions</span>):\n        <span class=\"hljs-keyword\">if</span> start &gt; size // <span class=\"hljs-number\">2</span> - <span class=\"hljs-number\">1</span>:\n            <span class=\"hljs-keyword\">return</span>\n        <span class=\"hljs-keyword\">else</span>:\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-number\">2</span> * start + <span class=\"hljs-number\">2</span> &gt;= size:\n                m = <span class=\"hljs-number\">2</span> * start + <span class=\"hljs-number\">1</span>\n            <span class=\"hljs-keyword\">else</span>:\n                <span class=\"hljs-keyword\">if</span> heap[<span class=\"hljs-number\">2</span> * start + <span class=\"hljs-number\">1</span>] &lt; heap[<span class=\"hljs-number\">2</span> * start + <span class=\"hljs-number\">2</span>]:\n                    m = <span class=\"hljs-number\">2</span> * start + <span class=\"hljs-number\">1</span>\n                <span class=\"hljs-keyword\">else</span>:\n                    m = <span class=\"hljs-number\">2</span> * start + <span class=\"hljs-number\">2</span>\n            <span class=\"hljs-keyword\">if</span> heap[m] &lt; heap[start]:\n                temp, temp1 = heap[m], positions[m]\n                heap[m], positions[m] = heap[start], positions[start]\n                heap[start], positions[start] = temp, temp1\n\n                temp = get_position(positions[m])\n                set_position(positions[m], get_position(positions[start]))\n                set_position(positions[start], temp)\n\n                top_to_bottom(heap, m, size, positions)\n\n    <span class=\"hljs-comment\"># Update function if value of any node in min-heap decreases</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">bottom_to_top</span>(<span class=\"hljs-params\">val, index, heap, position</span>):\n        temp = position[index]\n\n        <span class=\"hljs-keyword\">while</span> index != <span class=\"hljs-number\">0</span>:\n            <span class=\"hljs-keyword\">if</span> index % <span class=\"hljs-number\">2</span> == <span class=\"hljs-number\">0</span>:\n                parent = <span class=\"hljs-built_in\">int</span>((index - <span class=\"hljs-number\">2</span>) / <span class=\"hljs-number\">2</span>)\n            <span class=\"hljs-keyword\">else</span>:\n                parent = <span class=\"hljs-built_in\">int</span>((index - <span class=\"hljs-number\">1</span>) / <span class=\"hljs-number\">2</span>)\n\n            <span class=\"hljs-keyword\">if</span> val &lt; heap[parent]:\n                heap[index] = heap[parent]\n                position[index] = position[parent]\n                set_position(position[parent], index)\n            <span class=\"hljs-keyword\">else</span>:\n                heap[index] = val\n                position[index] = temp\n                set_position(temp, index)\n                <span class=\"hljs-keyword\">break</span>\n            index = parent\n        <span class=\"hljs-keyword\">else</span>:\n            heap[<span class=\"hljs-number\">0</span>] = val\n            position[<span class=\"hljs-number\">0</span>] = temp\n            set_position(temp, <span class=\"hljs-number\">0</span>)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">heapify</span>(<span class=\"hljs-params\">heap, positions</span>):\n        start = <span class=\"hljs-built_in\">len</span>(heap) // <span class=\"hljs-number\">2</span> - <span class=\"hljs-number\">1</span>\n        <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(start, -<span class=\"hljs-number\">1</span>, -<span class=\"hljs-number\">1</span>):\n            top_to_bottom(heap, i, <span class=\"hljs-built_in\">len</span>(heap), positions)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">deleteMinimum</span>(<span class=\"hljs-params\">heap, positions</span>):\n        temp = positions[<span class=\"hljs-number\">0</span>]\n        heap[<span class=\"hljs-number\">0</span>] = sys.maxsize\n        top_to_bottom(heap, <span class=\"hljs-number\">0</span>, <span class=\"hljs-built_in\">len</span>(heap), positions)\n        <span class=\"hljs-keyword\">return</span> temp\n\n    visited = [<span class=\"hljs-number\">0</span> <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-built_in\">len</span>(l))]\n    Nbr_TV = [-<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-built_in\">len</span>(l))]  <span class=\"hljs-comment\"># Neighboring Tree Vertex of selected vertex</span>\n    <span class=\"hljs-comment\"># Minimum Distance of explored vertex with neighboring vertex of partial tree</span>\n    <span class=\"hljs-comment\"># formed in graph</span>\n    Distance_TV = []  <span class=\"hljs-comment\"># Heap of Distance of vertices from their neighboring vertex</span>\n    Positions = []\n\n    <span class=\"hljs-keyword\">for</span> x <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-built_in\">len</span>(l)):\n        p = sys.maxsize\n        Distance_TV.append(p)\n        Positions.append(x)\n        nodePosition.append(x)\n\n    TreeEdges = []\n    visited[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">1</span>\n    Distance_TV[<span class=\"hljs-number\">0</span>] = sys.maxsize\n    <span class=\"hljs-keyword\">for</span> x <span class=\"hljs-keyword\">in</span> l[<span class=\"hljs-number\">0</span>]:\n        Nbr_TV[x[<span class=\"hljs-number\">0</span>]] = <span class=\"hljs-number\">0</span>\n        Distance_TV[x[<span class=\"hljs-number\">0</span>]] = x[<span class=\"hljs-number\">1</span>]\n    heapify(Distance_TV, Positions)\n\n    <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-built_in\">len</span>(l)):\n        vertex = deleteMinimum(Distance_TV, Positions)\n        <span class=\"hljs-keyword\">if</span> visited[vertex] == <span class=\"hljs-number\">0</span>:\n            TreeEdges.append((Nbr_TV[vertex], vertex))\n            visited[vertex] = <span class=\"hljs-number\">1</span>\n            <span class=\"hljs-keyword\">for</span> v <span class=\"hljs-keyword\">in</span> l[vertex]:\n                <span class=\"hljs-keyword\">if</span> visited[v[<span class=\"hljs-number\">0</span>]] == <span class=\"hljs-number\">0</span> <span class=\"hljs-keyword\">and</span> v[<span class=\"hljs-number\">1</span>] &lt; Distance_TV[get_position(v[<span class=\"hljs-number\">0</span>])]:\n                    Distance_TV[get_position(v[<span class=\"hljs-number\">0</span>])] = v[<span class=\"hljs-number\">1</span>]\n                    bottom_to_top(v[<span class=\"hljs-number\">1</span>], get_position(v[<span class=\"hljs-number\">0</span>]), Distance_TV, Positions)\n                    Nbr_TV[v[<span class=\"hljs-number\">0</span>]] = vertex\n    <span class=\"hljs-keyword\">return</span> TreeEdges\n\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&quot;__main__&quot;</span>:  <span class=\"hljs-comment\"># pragma: no cover</span>\n    <span class=\"hljs-comment\"># &lt; --------- Prims Algorithm --------- &gt;</span>\n    n = <span class=\"hljs-built_in\">int</span>(<span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&quot;Enter number of vertices: &quot;</span>).strip())\n    e = <span class=\"hljs-built_in\">int</span>(<span class=\"hljs-built_in\">input</span>(<span class=\"hljs-string\">&quot;Enter number of edges: &quot;</span>).strip())\n    adjlist = defaultdict(<span class=\"hljs-built_in\">list</span>)\n    <span class=\"hljs-keyword\">for</span> x <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(e):\n        l = [<span class=\"hljs-built_in\">int</span>(x) <span class=\"hljs-keyword\">for</span> x <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">input</span>().strip().split()]  <span class=\"hljs-comment\"># noqa: E741</span>\n        adjlist[l[<span class=\"hljs-number\">0</span>]].append([l[<span class=\"hljs-number\">1</span>], l[<span class=\"hljs-number\">2</span>]])\n        adjlist[l[<span class=\"hljs-number\">1</span>]].append([l[<span class=\"hljs-number\">0</span>], l[<span class=\"hljs-number\">2</span>]])\n    <span class=\"hljs-built_in\">print</span>(PrimsAlgorithm(adjlist))\n"
    }
  },
  "contributors": [
    {
      "name": "ParthS007",
      "email": "parth1989shandilya@gmail.com",
      "commits": 1
    },
    {
      "name": "Meysam",
      "email": "MeysamAzad81@yahoo.com",
      "commits": 1
    },
    {
      "name": "matkosoric",
      "email": "soric.matko@gmail.com",
      "commits": 1
    },
    {
      "name": "William Zhang",
      "email": "39932068+WilliamHYZhang@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Farhan",
      "email": "farhankasmani956@gmail.com",
      "commits": 1
    },
    {
      "name": "AlexDvorak",
      "email": "opti.jawsome@gmail.com",
      "commits": 2
    },
    {
      "name": "Christian Clauss",
      "email": "cclauss@me.com",
      "commits": 3
    }
  ],
  "explanationUrl": {}
}

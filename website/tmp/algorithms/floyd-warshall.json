{
  "slug": "floyd-warshall",
  "name": "Floyd Warshall",
  "categories": ["dynamicprogramming"],
  "body": {},
  "implementations": {
    "python": {
      "dir": "dynamic_programming/floyd_warshall.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/dynamic_programming/floyd_warshall.py",
      "code": "<span class=\"hljs-keyword\">import</span> math\r\n\r\n\r\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Graph</span>:\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self, N=<span class=\"hljs-number\">0</span></span>):  <span class=\"hljs-comment\"># a graph with Node 0,1,...,N-1</span>\r\n        self.N = N\r\n        self.W = [\r\n            [math.inf <span class=\"hljs-keyword\">for</span> j <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">0</span>, N)] <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">0</span>, N)\r\n        ]  <span class=\"hljs-comment\"># adjacency matrix for weight</span>\r\n        self.dp = [\r\n            [math.inf <span class=\"hljs-keyword\">for</span> j <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">0</span>, N)] <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">0</span>, N)\r\n        ]  <span class=\"hljs-comment\"># dp[i][j] stores minimum distance from i to j</span>\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">addEdge</span>(<span class=\"hljs-params\">self, u, v, w</span>):\r\n        self.dp[u][v] = w\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">floyd_warshall</span>(<span class=\"hljs-params\">self</span>):\r\n        <span class=\"hljs-keyword\">for</span> k <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">0</span>, self.N):\r\n            <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">0</span>, self.N):\r\n                <span class=\"hljs-keyword\">for</span> j <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">0</span>, self.N):\r\n                    self.dp[i][j] = <span class=\"hljs-built_in\">min</span>(self.dp[i][j], self.dp[i][k] + self.dp[k][j])\r\n\r\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">showMin</span>(<span class=\"hljs-params\">self, u, v</span>):\r\n        <span class=\"hljs-keyword\">return</span> self.dp[u][v]\r\n\r\n\r\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&quot;__main__&quot;</span>:\r\n    graph = Graph(<span class=\"hljs-number\">5</span>)\r\n    graph.addEdge(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">9</span>)\r\n    graph.addEdge(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">10</span>)\r\n    graph.addEdge(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">5</span>)\r\n    graph.addEdge(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">7</span>)\r\n    graph.addEdge(<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">10</span>)\r\n    graph.addEdge(<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>)\r\n    graph.addEdge(<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">1</span>)\r\n    graph.addEdge(<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">6</span>)\r\n    graph.addEdge(<span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">3</span>)\r\n    graph.addEdge(<span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">4</span>)\r\n    graph.addEdge(<span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">9</span>)\r\n    graph.floyd_warshall()\r\n    graph.showMin(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">4</span>)\r\n    graph.showMin(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">3</span>)\r\n"
    },
    "javascript": {
      "dir": "Graphs/FloydWarshall.js",
      "url": "https://github.com/TheAlgorithms/javascript/tree/master/Graphs/FloydWarshall.js",
      "code": "<span class=\"hljs-comment\">/*\n  Source:\n    https://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm\n\n  Complexity:\n    O(|V|^3) where V is the set of vertices\n*/</span>\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">FloydWarshall</span> = (<span class=\"hljs-params\">dist</span>) =&gt; {\n  <span class=\"hljs-comment\">// Input:- dist: 2D Array where dist[i][j] = edge weight b/w i and j</span>\n  <span class=\"hljs-comment\">// Output:- dist: 2D Array where dist[i][j] = shortest dist b/w i and j</span>\n  <span class=\"hljs-keyword\">const</span> n = dist.<span class=\"hljs-property\">length</span>\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> k = <span class=\"hljs-number\">0</span>; k &lt; n; k++) {\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> i = <span class=\"hljs-number\">0</span>; i &lt; n; i++) {\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> j = <span class=\"hljs-number\">0</span>; j &lt; n; j++) {\n        <span class=\"hljs-keyword\">if</span> (dist[i][j] &gt; dist[i][k] + dist[k][j]) {\n          <span class=\"hljs-comment\">// dist from i to j via k is lesser than the current distance</span>\n          dist[i][j] = dist[i][k] + dist[k][j]\n        }\n      }\n    }\n  }\n  <span class=\"hljs-keyword\">return</span> dist\n}\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">main</span> = (<span class=\"hljs-params\"></span>) =&gt; {\n  <span class=\"hljs-comment\">// For the following graph (edge weights are shown in brackets)</span>\n  <span class=\"hljs-comment\">//  4       1       dist[1][2] = dist[2][1] = 1</span>\n  <span class=\"hljs-comment\">//   \\  (2)/ \\      dist[1][3] = dist[3][1] = 2</span>\n  <span class=\"hljs-comment\">//    \\   /   \\(1)  dist[1][4] = dist[4][1] = Infinity</span>\n  <span class=\"hljs-comment\">//  (1)\\ /     \\    dist[3][4] = dist[4][3] = 1</span>\n  <span class=\"hljs-comment\">//      3       2   dist[2][4] = dist[4][2] = Infinity</span>\n  <span class=\"hljs-comment\">//                  dist[2][3] = dist[3][2] = Infinity</span>\n  <span class=\"hljs-comment\">// Output should be:</span>\n  <span class=\"hljs-comment\">// [ [0, 1, 2, 3],</span>\n  <span class=\"hljs-comment\">//   [1, 0, 3, 4],</span>\n  <span class=\"hljs-comment\">//   [2, 3, 0, 1],</span>\n  <span class=\"hljs-comment\">//   [3, 4, 1, 0] ]</span>\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title class_\">FloydWarshall</span>(\n    [[<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-title class_\">Infinity</span>],\n      [<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-title class_\">Infinity</span>, <span class=\"hljs-title class_\">Infinity</span>],\n      [<span class=\"hljs-number\">2</span>, <span class=\"hljs-title class_\">Infinity</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>],\n      [<span class=\"hljs-title class_\">Infinity</span>, <span class=\"hljs-title class_\">Infinity</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">0</span>]\n    ]\n  ))\n}\n\n<span class=\"hljs-title function_\">main</span>()\n"
    },
    "c-plus-plus": {
      "dir": "dynamic_programming/floyd_warshall.cpp",
      "url": "https://github.com/TheAlgorithms/c-plus-plus/tree/master/dynamic_programming/floyd_warshall.cpp",
      "code": "<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;climits&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;iostream&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;string&gt;</span></span>\n\n<span class=\"hljs-keyword\">using</span> std::cin;\n<span class=\"hljs-keyword\">using</span> std::cout;\n<span class=\"hljs-keyword\">using</span> std::endl;\n\n<span class=\"hljs-comment\">// Wrapper class for storing a graph</span>\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Graph</span> {\n <span class=\"hljs-keyword\">public</span>:\n    <span class=\"hljs-type\">int</span> vertexNum;\n    <span class=\"hljs-type\">int</span> **edges;\n\n    <span class=\"hljs-comment\">// Constructs a graph with V vertices and E edges</span>\n    <span class=\"hljs-built_in\">Graph</span>(<span class=\"hljs-type\">int</span> V) {\n        <span class=\"hljs-keyword\">this</span>-&gt;vertexNum = V;\n        <span class=\"hljs-keyword\">this</span>-&gt;edges = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">int</span> *[V];\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; V; i++) {\n            <span class=\"hljs-keyword\">this</span>-&gt;edges[i] = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">int</span>[V];\n            <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> j = <span class=\"hljs-number\">0</span>; j &lt; V; j++) <span class=\"hljs-keyword\">this</span>-&gt;edges[i][j] = INT_MAX;\n            <span class=\"hljs-keyword\">this</span>-&gt;edges[i][i] = <span class=\"hljs-number\">0</span>;\n        }\n    }\n\n    ~<span class=\"hljs-built_in\">Graph</span>() {\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; vertexNum; i++) <span class=\"hljs-keyword\">delete</span>[] edges[i];\n        <span class=\"hljs-keyword\">delete</span>[] edges;\n    }\n\n    <span class=\"hljs-comment\">// Adds the given edge to the graph</span>\n    <span class=\"hljs-function\"><span class=\"hljs-type\">void</span> <span class=\"hljs-title\">addEdge</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> src, <span class=\"hljs-type\">int</span> dst, <span class=\"hljs-type\">int</span> weight)</span> </span>{\n        <span class=\"hljs-keyword\">this</span>-&gt;edges[src][dst] = weight;\n    }\n};\n\n<span class=\"hljs-comment\">// Utility function to print distances</span>\n<span class=\"hljs-function\"><span class=\"hljs-type\">void</span> <span class=\"hljs-title\">print</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> dist[], <span class=\"hljs-type\">int</span> V)</span> </span>{\n    cout &lt;&lt; <span class=\"hljs-string\">&quot;\\nThe Distance matrix for Floyd - Warshall&quot;</span> &lt;&lt; endl;\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; V; i++) {\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> j = <span class=\"hljs-number\">0</span>; j &lt; V; j++) {\n            <span class=\"hljs-keyword\">if</span> (dist[i * V + j] != INT_MAX)\n                cout &lt;&lt; dist[i * V + j] &lt;&lt; <span class=\"hljs-string\">&quot;\\t&quot;</span>;\n            <span class=\"hljs-keyword\">else</span>\n                cout &lt;&lt; <span class=\"hljs-string\">&quot;INF&quot;</span>\n                     &lt;&lt; <span class=\"hljs-string\">&quot;\\t&quot;</span>;\n        }\n        cout &lt;&lt; endl;\n    }\n}\n\n<span class=\"hljs-comment\">// The main function that finds the shortest path from a vertex</span>\n<span class=\"hljs-comment\">// to all other vertices using Floyd-Warshall Algorithm.</span>\n<span class=\"hljs-function\"><span class=\"hljs-type\">void</span> <span class=\"hljs-title\">FloydWarshall</span><span class=\"hljs-params\">(Graph graph)</span> </span>{\n    <span class=\"hljs-type\">int</span> V = graph.vertexNum;\n    <span class=\"hljs-type\">int</span> dist[V][V];\n\n    <span class=\"hljs-comment\">// Initialise distance array</span>\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; V; i++)\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> j = <span class=\"hljs-number\">0</span>; j &lt; V; j++) dist[i][j] = graph.edges[i][j];\n\n    <span class=\"hljs-comment\">// Calculate distances</span>\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> k = <span class=\"hljs-number\">0</span>; k &lt; V; k++)\n        <span class=\"hljs-comment\">// Choose an intermediate vertex</span>\n\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; V; i++)\n            <span class=\"hljs-comment\">// Choose a source vertex for given intermediate</span>\n\n            <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> j = <span class=\"hljs-number\">0</span>; j &lt; V; j++)\n                <span class=\"hljs-comment\">// Choose a destination vertex for above source vertex</span>\n\n                <span class=\"hljs-keyword\">if</span> (dist[i][k] != INT_MAX &amp;&amp; dist[k][j] != INT_MAX &amp;&amp;\n                    dist[i][k] + dist[k][j] &lt; dist[i][j])\n                    <span class=\"hljs-comment\">// If the distance through intermediate vertex is less than</span>\n                    <span class=\"hljs-comment\">// direct edge then update value in distance array</span>\n                    dist[i][j] = dist[i][k] + dist[k][j];\n\n    <span class=\"hljs-comment\">// Convert 2d array to 1d array for print</span>\n    <span class=\"hljs-type\">int</span> dist1d[V * V];\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; V; i++)\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> j = <span class=\"hljs-number\">0</span>; j &lt; V; j++) dist1d[i * V + j] = dist[i][j];\n\n    <span class=\"hljs-built_in\">print</span>(dist1d, V);\n}\n\n<span class=\"hljs-comment\">// Driver Function</span>\n<span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span> </span>{\n    <span class=\"hljs-type\">int</span> V, E;\n    <span class=\"hljs-type\">int</span> src, dst, weight;\n    cout &lt;&lt; <span class=\"hljs-string\">&quot;Enter number of vertices: &quot;</span>;\n    cin &gt;&gt; V;\n    cout &lt;&lt; <span class=\"hljs-string\">&quot;Enter number of edges: &quot;</span>;\n    cin &gt;&gt; E;\n    <span class=\"hljs-function\">Graph <span class=\"hljs-title\">G</span><span class=\"hljs-params\">(V)</span></span>;\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; E; i++) {\n        cout &lt;&lt; <span class=\"hljs-string\">&quot;\\nEdge &quot;</span> &lt;&lt; i + <span class=\"hljs-number\">1</span> &lt;&lt; <span class=\"hljs-string\">&quot;\\nEnter source: &quot;</span>;\n        cin &gt;&gt; src;\n        cout &lt;&lt; <span class=\"hljs-string\">&quot;Enter destination: &quot;</span>;\n        cin &gt;&gt; dst;\n        cout &lt;&lt; <span class=\"hljs-string\">&quot;Enter weight: &quot;</span>;\n        cin &gt;&gt; weight;\n        G.<span class=\"hljs-built_in\">addEdge</span>(src, dst, weight);\n    }\n    <span class=\"hljs-built_in\">FloydWarshall</span>(G);\n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}\n"
    },
    "java": {
      "dir": "DataStructures/Graphs/FloydWarshall.java",
      "url": "https://github.com/TheAlgorithms/java/tree/master/DataStructures/Graphs/FloydWarshall.java",
      "code": "<span class=\"hljs-keyword\">package</span> DataStructures.Graphs;\n\n<span class=\"hljs-keyword\">import</span> java.util.Scanner;\n\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">FloydWarshall</span> {\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> DistanceMatrix[][];\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">int</span> numberofvertices; <span class=\"hljs-comment\">// number of vertices in the graph</span>\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">final</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">INFINITY</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">999</span>;\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">FloydWarshall</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> numberofvertices)</span> {\n    DistanceMatrix =\n        <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">int</span>[numberofvertices + <span class=\"hljs-number\">1</span>]\n            [numberofvertices\n                + <span class=\"hljs-number\">1</span>]; <span class=\"hljs-comment\">// stores the value of distance from all the possible path form the source</span>\n    <span class=\"hljs-comment\">// vertex to destination vertex</span>\n    <span class=\"hljs-comment\">// The matrix is initialized with 0&#x27;s by default</span>\n    <span class=\"hljs-built_in\">this</span>.numberofvertices = numberofvertices;\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">floydwarshall</span><span class=\"hljs-params\">(\n      <span class=\"hljs-type\">int</span> AdjacencyMatrix[][])</span> <span class=\"hljs-comment\">// calculates all the distances from source to destination vertex</span>\n      {\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">source</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span>; source &lt;= numberofvertices; source++) {\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">destination</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span>; destination &lt;= numberofvertices; destination++) {\n        DistanceMatrix[source][destination] = AdjacencyMatrix[source][destination];\n      }\n    }\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">intermediate</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span>; intermediate &lt;= numberofvertices; intermediate++) {\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">source</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span>; source &lt;= numberofvertices; source++) {\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">destination</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span>; destination &lt;= numberofvertices; destination++) {\n          <span class=\"hljs-keyword\">if</span> (DistanceMatrix[source][intermediate] + DistanceMatrix[intermediate][destination]\n              &lt; DistanceMatrix[source][destination])\n          <span class=\"hljs-comment\">// if the new distance calculated is less then the earlier shortest</span>\n          <span class=\"hljs-comment\">// calculated distance it get replaced as new shortest distance</span>\n          {\n            DistanceMatrix[source][destination] =\n                DistanceMatrix[source][intermediate] + DistanceMatrix[intermediate][destination];\n          }\n        }\n      }\n    }\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">source</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span>; source &lt;= numberofvertices; source++) System.out.print(<span class=\"hljs-string\">&quot;\\t&quot;</span> + source);\n    System.out.println();\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">source</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span>; source &lt;= numberofvertices; source++) {\n      System.out.print(source + <span class=\"hljs-string\">&quot;\\t&quot;</span>);\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">destination</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span>; destination &lt;= numberofvertices; destination++) {\n        System.out.print(DistanceMatrix[source][destination] + <span class=\"hljs-string\">&quot;\\t&quot;</span>);\n      }\n      System.out.println();\n    }\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String... arg)</span> {\n    <span class=\"hljs-type\">Scanner</span> <span class=\"hljs-variable\">scan</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Scanner</span>(System.in);\n    System.out.println(<span class=\"hljs-string\">&quot;Enter the number of vertices&quot;</span>);\n    <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">numberOfVertices</span> <span class=\"hljs-operator\">=</span> scan.nextInt();\n    <span class=\"hljs-type\">int</span>[][] adjacencyMatrix = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">int</span>[numberOfVertices + <span class=\"hljs-number\">1</span>][numberOfVertices + <span class=\"hljs-number\">1</span>];\n    System.out.println(<span class=\"hljs-string\">&quot;Enter the Weighted Matrix for the graph&quot;</span>);\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">source</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span>; source &lt;= numberOfVertices; source++) {\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">destination</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span>; destination &lt;= numberOfVertices; destination++) {\n        adjacencyMatrix[source][destination] = scan.nextInt();\n        <span class=\"hljs-keyword\">if</span> (source == destination) {\n          adjacencyMatrix[source][destination] = <span class=\"hljs-number\">0</span>;\n          <span class=\"hljs-keyword\">continue</span>;\n        }\n        <span class=\"hljs-keyword\">if</span> (adjacencyMatrix[source][destination] == <span class=\"hljs-number\">0</span>) {\n          adjacencyMatrix[source][destination] = INFINITY;\n        }\n      }\n    }\n    System.out.println(<span class=\"hljs-string\">&quot;The Transitive Closure of the Graph&quot;</span>);\n    <span class=\"hljs-type\">FloydWarshall</span> <span class=\"hljs-variable\">floydwarshall</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">FloydWarshall</span>(numberOfVertices);\n    floydwarshall.floydwarshall(adjacencyMatrix);\n    scan.close();\n  }\n}\n"
    },
    "c": {
      "dir": "data_structures/graphs/floyd_warshall.c",
      "url": "https://github.com/TheAlgorithms/c/tree/master/data_structures/graphs/floyd_warshall.c",
      "code": "<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;limits.h&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;stdio.h&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;stdlib.h&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;string.h&gt;</span></span>\n\n<span class=\"hljs-comment\">// Structure for storing a graph</span>\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title\">Graph</span>\n{</span>\n    <span class=\"hljs-type\">int</span> vertexNum;\n    <span class=\"hljs-type\">int</span> **edges;\n};\n\n<span class=\"hljs-comment\">// Constructs a graph with V vertices and E edges</span>\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">createGraph</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">struct</span> Graph *G, <span class=\"hljs-type\">int</span> V)</span>\n{\n    G-&gt;vertexNum = V;\n    G-&gt;edges = (<span class=\"hljs-type\">int</span> **)<span class=\"hljs-built_in\">malloc</span>(V * <span class=\"hljs-keyword\">sizeof</span>(<span class=\"hljs-type\">int</span> *));\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; V; i++)\n    {\n        G-&gt;edges[i] = (<span class=\"hljs-type\">int</span> *)<span class=\"hljs-built_in\">malloc</span>(V * <span class=\"hljs-keyword\">sizeof</span>(<span class=\"hljs-type\">int</span>));\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> j = <span class=\"hljs-number\">0</span>; j &lt; V; j++) G-&gt;edges[i][j] = INT_MAX;\n        G-&gt;edges[i][i] = <span class=\"hljs-number\">0</span>;\n    }\n}\n\n<span class=\"hljs-comment\">// Adds the given edge to the graph</span>\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">addEdge</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">struct</span> Graph *G, <span class=\"hljs-type\">int</span> src, <span class=\"hljs-type\">int</span> dst, <span class=\"hljs-type\">int</span> weight)</span>\n{\n    G-&gt;edges[src][dst] = weight;\n}\n\n<span class=\"hljs-comment\">// Utility function to print distances</span>\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">print</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> dist[], <span class=\"hljs-type\">int</span> V)</span>\n{\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;\\nThe Distance matrix for Floyd - Warshall\\n&quot;</span>);\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; V; i++)\n    {\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> j = <span class=\"hljs-number\">0</span>; j &lt; V; j++)\n        {\n            <span class=\"hljs-keyword\">if</span> (dist[i * V + j] != INT_MAX)\n                <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;%d\\t&quot;</span>, dist[i * V + j]);\n            <span class=\"hljs-keyword\">else</span>\n                <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;INF\\t&quot;</span>);\n        }\n        <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;\\n&quot;</span>);\n    }\n}\n\n<span class=\"hljs-comment\">// The main function that finds the shortest path from a vertex</span>\n<span class=\"hljs-comment\">// to all other vertices using Floyd-Warshall Algorithm.</span>\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">FloydWarshall</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">struct</span> Graph *graph)</span>\n{\n    <span class=\"hljs-type\">int</span> V = graph-&gt;vertexNum;\n    <span class=\"hljs-type\">int</span> dist[V][V];\n\n    <span class=\"hljs-comment\">// Initialise distance array</span>\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; V; i++)\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> j = <span class=\"hljs-number\">0</span>; j &lt; V; j++) dist[i][j] = graph-&gt;edges[i][j];\n\n    <span class=\"hljs-comment\">// Calculate distances</span>\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> k = <span class=\"hljs-number\">0</span>; k &lt; V; k++)\n        <span class=\"hljs-comment\">// Choose an intermediate vertex</span>\n\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; V; i++)\n            <span class=\"hljs-comment\">// Choose a source vertex for given intermediate</span>\n\n            <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> j = <span class=\"hljs-number\">0</span>; j &lt; V; j++)\n                <span class=\"hljs-comment\">// Choose a destination vertex for above source vertex</span>\n\n                <span class=\"hljs-keyword\">if</span> (dist[i][k] != INT_MAX &amp;&amp; dist[k][j] != INT_MAX &amp;&amp;\n                    dist[i][k] + dist[k][j] &lt; dist[i][j])\n                    <span class=\"hljs-comment\">// If the distance through intermediate vertex is less than</span>\n                    <span class=\"hljs-comment\">// direct edge then update value in distance array</span>\n                    dist[i][j] = dist[i][k] + dist[k][j];\n\n    <span class=\"hljs-comment\">// Convert 2d array to 1d array for print</span>\n    <span class=\"hljs-type\">int</span> dist1d[V * V];\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; V; i++)\n        <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> j = <span class=\"hljs-number\">0</span>; j &lt; V; j++) dist1d[i * V + j] = dist[i][j];\n\n    print(dist1d, V);\n}\n\n<span class=\"hljs-comment\">// Driver Function</span>\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">()</span>\n{\n    <span class=\"hljs-type\">int</span> V, E;\n    <span class=\"hljs-type\">int</span> src, dst, weight;\n    <span class=\"hljs-class\"><span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title\">Graph</span> <span class=\"hljs-title\">G</span>;</span>\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Enter number of vertices: &quot;</span>);\n    <span class=\"hljs-built_in\">scanf</span>(<span class=\"hljs-string\">&quot;%d&quot;</span>, &amp;V);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Enter number of edges: &quot;</span>);\n    <span class=\"hljs-built_in\">scanf</span>(<span class=\"hljs-string\">&quot;%d&quot;</span>, &amp;E);\n    createGraph(&amp;G, V);\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; E; i++)\n    {\n        <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;\\nEdge %d \\nEnter source: &quot;</span>, i + <span class=\"hljs-number\">1</span>);\n        <span class=\"hljs-built_in\">scanf</span>(<span class=\"hljs-string\">&quot;%d&quot;</span>, &amp;src);\n        <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Enter destination: &quot;</span>);\n        <span class=\"hljs-built_in\">scanf</span>(<span class=\"hljs-string\">&quot;%d&quot;</span>, &amp;dst);\n        <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Enter weight: &quot;</span>);\n        <span class=\"hljs-built_in\">scanf</span>(<span class=\"hljs-string\">&quot;%d&quot;</span>, &amp;weight);\n        addEdge(&amp;G, src, dst, weight);\n    }\n    FloydWarshall(&amp;G);\n\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}\n"
    },
    "go": {
      "dir": "graphs/floydwarshall/floydwarshall.go",
      "url": "https://github.com/TheAlgorithms/go/tree/master/graphs/floydwarshall/floydwarshall.go",
      "code": "<span class=\"hljs-comment\">// Floyd-Warshall algorithm</span>\n<span class=\"hljs-comment\">// https://en.wikipedia.org/wiki/Floyd%E2%80%93Warshall_algorithm</span>\n\n<span class=\"hljs-keyword\">package</span> floydwarshall\n\n<span class=\"hljs-comment\">// Matrix Defining matrix to use 2d array easier</span>\n<span class=\"hljs-keyword\">type</span> Matrix [][]<span class=\"hljs-keyword\">float64</span>\n\n<span class=\"hljs-comment\">// Defining maximum value. If two vertices share this value, it means they are not connected</span>\n<span class=\"hljs-comment\">// var maxValue = math.Inf(1) // This is not being used in the code??</span>\n\n<span class=\"hljs-comment\">// FloydWarshall Returns all pair&#x27;s shortest path using Floyd Warshall algorithm</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span> <span class=\"hljs-title\">FloydWarshall</span><span class=\"hljs-params\">(graph Matrix)</span> <span class=\"hljs-title\">Matrix</span></span> {\n\t<span class=\"hljs-comment\">// If graph is empty or width != height, returns nil</span>\n\t<span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(graph) == <span class=\"hljs-number\">0</span> || <span class=\"hljs-built_in\">len</span>(graph) != <span class=\"hljs-built_in\">len</span>(graph[<span class=\"hljs-number\">0</span>]) {\n\t\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">nil</span>\n\t}\n\n\tnumVertecies := <span class=\"hljs-built_in\">len</span>(graph)\n\n\t<span class=\"hljs-comment\">// Initializing result matrix and filling it up with same values as given graph</span>\n\tresult := <span class=\"hljs-built_in\">make</span>(Matrix, numVertecies)\n\n\t<span class=\"hljs-keyword\">for</span> i := <span class=\"hljs-number\">0</span>; i &lt; numVertecies; i++ {\n\t\tresult[i] = <span class=\"hljs-built_in\">make</span>([]<span class=\"hljs-keyword\">float64</span>, numVertecies)\n\t\t<span class=\"hljs-keyword\">for</span> j := <span class=\"hljs-number\">0</span>; j &lt; numVertecies; j++ {\n\t\t\tresult[i][j] = graph[i][j]\n\t\t}\n\t}\n\n\t<span class=\"hljs-comment\">// Running over the result matrix and following the algorithm</span>\n\t<span class=\"hljs-keyword\">for</span> k := <span class=\"hljs-number\">0</span>; k &lt; numVertecies; k++ {\n\t\t<span class=\"hljs-keyword\">for</span> i := <span class=\"hljs-number\">0</span>; i &lt; numVertecies; i++ {\n\t\t\t<span class=\"hljs-keyword\">for</span> j := <span class=\"hljs-number\">0</span>; j &lt; numVertecies; j++ {\n\t\t\t\t<span class=\"hljs-comment\">// If there is a less costly path from i to j node, remembering it</span>\n\t\t\t\t<span class=\"hljs-keyword\">if</span> result[i][j] &gt; result[i][k]+result[k][j] {\n\t\t\t\t\tresult[i][j] = result[i][k] + result[k][j]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t<span class=\"hljs-keyword\">return</span> result\n}\n\n<span class=\"hljs-comment\">// func main() {</span>\n<span class=\"hljs-comment\">// \tvar graph Matrix</span>\n<span class=\"hljs-comment\">// \tgraph = Matrix{{0, maxValue, -2, maxValue},</span>\n<span class=\"hljs-comment\">// \t\t{4, 0, 3, maxValue},</span>\n<span class=\"hljs-comment\">// \t\t{maxValue, maxValue, 0, 2},</span>\n<span class=\"hljs-comment\">// \t\t{maxValue, -1, maxValue, 0}}</span>\n\n<span class=\"hljs-comment\">// \tresult := FloydWarshall(graph)</span>\n\n<span class=\"hljs-comment\">// \t//Print result</span>\n<span class=\"hljs-comment\">// \tfor i := 0; i &lt; len(result); i++ {</span>\n<span class=\"hljs-comment\">// \t\tfmt.Printf(&quot;%4g\\n&quot;, result[i])</span>\n<span class=\"hljs-comment\">// \t}</span>\n<span class=\"hljs-comment\">// }</span>\n"
    }
  },
  "contributors": [
    {
      "name": "Brayo",
      "email": "vukubrian@gmail.com",
      "commits": 1
    },
    {
      "name": "ioane margiani",
      "email": "imarg16@freeuni.edu.ge",
      "commits": 1
    },
    {
      "name": "utkarsh",
      "email": "ucponia@gmail.com",
      "commits": 1
    },
    {
      "name": "ParthS007",
      "email": "parth1989shandilya@gmail.com",
      "commits": 1
    },
    {
      "name": "Krishna Vedala",
      "email": "7001608+kvedala@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Chen Ostrovski",
      "email": "chenostrovski@gmail.com",
      "commits": 1
    },
    {
      "name": "William Zhang",
      "email": "39932068+WilliamHYZhang@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Stephen Gemin",
      "email": "45926479+StephenGemin@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "cclauss",
      "email": "cclauss@bluewin.ch",
      "commits": 1
    },
    {
      "name": "ashu01",
      "email": "as01hu@gmail.com",
      "commits": 1
    },
    {
      "name": "97arushisharma",
      "email": "97arushisharma@gmail.com",
      "commits": 1
    },
    {
      "name": "Sarot Busala",
      "email": "sabuza97@gmail.com",
      "commits": 1
    },
    {
      "name": "Ayush Nagar",
      "email": "32647423+ayushnagar123@users.noreply.github.com",
      "commits": 2
    },
    {
      "name": "AlexDvorak",
      "email": "opti.jawsome@gmail.com",
      "commits": 3
    },
    {
      "name": "Libin Yang",
      "email": "szuyanglb@outlook.com",
      "commits": 3
    },
    {
      "name": "arpanjain97",
      "email": "arpanjain97@gmail.com",
      "commits": 3
    }
  ],
  "explanationUrl": {}
}

{
  "slug": "inverse-of-matrix",
  "name": "Inverse of Matrix",
  "categories": ["matrix"],
  "body": {},
  "implementations": {
    "python": {
      "dir": "matrix/inverse_of_matrix.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/matrix/inverse_of_matrix.py",
      "code": "<span class=\"hljs-keyword\">from</span> __future__ <span class=\"hljs-keyword\">import</span> annotations\r\n\r\n<span class=\"hljs-keyword\">from</span> decimal <span class=\"hljs-keyword\">import</span> Decimal\r\n\r\n\r\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">inverse_of_matrix</span>(<span class=\"hljs-params\">matrix: <span class=\"hljs-built_in\">list</span>[<span class=\"hljs-built_in\">list</span>[<span class=\"hljs-built_in\">float</span>]]</span>) -&gt; <span class=\"hljs-built_in\">list</span>[<span class=\"hljs-built_in\">list</span>[<span class=\"hljs-built_in\">float</span>]]:\r\n    <span class=\"hljs-string\">&quot;&quot;&quot;\r\n    A matrix multiplied with its inverse gives the identity matrix.\r\n    This function finds the inverse of a 2x2 matrix.\r\n    If the determinant of a matrix is 0, its inverse does not exist.\r\n\r\n    Sources for fixing inaccurate float arithmetic:\r\n    https://stackoverflow.com/questions/6563058/how-do-i-use-accurate-float-arithmetic-in-python\r\n    https://docs.python.org/3/library/decimal.html\r\n\r\n    &gt;&gt;&gt; inverse_of_matrix([[2, 5], [2, 0]])\r\n    [[0.0, 0.5], [0.2, -0.2]]\r\n    &gt;&gt;&gt; inverse_of_matrix([[2.5, 5], [1, 2]])\r\n    Traceback (most recent call last):\r\n    ...\r\n    ValueError: This matrix has no inverse.\r\n    &gt;&gt;&gt; inverse_of_matrix([[12, -16], [-9, 0]])\r\n    [[0.0, -0.1111111111111111], [-0.0625, -0.08333333333333333]]\r\n    &gt;&gt;&gt; inverse_of_matrix([[12, 3], [16, 8]])\r\n    [[0.16666666666666666, -0.0625], [-0.3333333333333333, 0.25]]\r\n    &gt;&gt;&gt; inverse_of_matrix([[10, 5], [3, 2.5]])\r\n    [[0.25, -0.5], [-0.3, 1.0]]\r\n    &quot;&quot;&quot;</span>\r\n\r\n    D = Decimal  <span class=\"hljs-comment\"># An abbreviation to be conciseness</span>\r\n    <span class=\"hljs-comment\"># Calculate the determinant of the matrix</span>\r\n    determinant = D(matrix[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">0</span>]) * D(matrix[<span class=\"hljs-number\">1</span>][<span class=\"hljs-number\">1</span>]) - D(matrix[<span class=\"hljs-number\">1</span>][<span class=\"hljs-number\">0</span>]) * D(matrix[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">1</span>])\r\n    <span class=\"hljs-keyword\">if</span> determinant == <span class=\"hljs-number\">0</span>:\r\n        <span class=\"hljs-keyword\">raise</span> ValueError(<span class=\"hljs-string\">&quot;This matrix has no inverse.&quot;</span>)\r\n    <span class=\"hljs-comment\"># Creates a copy of the matrix with swapped positions of the elements</span>\r\n    swapped_matrix = [[<span class=\"hljs-number\">0.0</span>, <span class=\"hljs-number\">0.0</span>], [<span class=\"hljs-number\">0.0</span>, <span class=\"hljs-number\">0.0</span>]]\r\n    swapped_matrix[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">0</span>], swapped_matrix[<span class=\"hljs-number\">1</span>][<span class=\"hljs-number\">1</span>] = matrix[<span class=\"hljs-number\">1</span>][<span class=\"hljs-number\">1</span>], matrix[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">0</span>]\r\n    swapped_matrix[<span class=\"hljs-number\">1</span>][<span class=\"hljs-number\">0</span>], swapped_matrix[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">1</span>] = -matrix[<span class=\"hljs-number\">1</span>][<span class=\"hljs-number\">0</span>], -matrix[<span class=\"hljs-number\">0</span>][<span class=\"hljs-number\">1</span>]\r\n    <span class=\"hljs-comment\"># Calculate the inverse of the matrix</span>\r\n    <span class=\"hljs-keyword\">return</span> [[<span class=\"hljs-built_in\">float</span>(D(n) / determinant) <span class=\"hljs-keyword\">or</span> <span class=\"hljs-number\">0.0</span> <span class=\"hljs-keyword\">for</span> n <span class=\"hljs-keyword\">in</span> row] <span class=\"hljs-keyword\">for</span> row <span class=\"hljs-keyword\">in</span> swapped_matrix]\r\n"
    }
  },
  "contributors": [
    {
      "name": "Christian Clauss",
      "email": "cclauss@me.com",
      "commits": 1
    },
    {
      "name": "RobotGuy999",
      "email": "68413067+RobotGuy999@users.noreply.github.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}

{
  "slug": "eggdropping",
  "name": "EggDropping",
  "categories": ["dynamicprogramming"],
  "body": {},
  "implementations": {
    "java": {
      "dir": "DynamicProgramming/EggDropping.java",
      "url": "https://github.com/TheAlgorithms/java/tree/master/DynamicProgramming/EggDropping.java",
      "code": "<span class=\"hljs-keyword\">package</span> DynamicProgramming;\n\n<span class=\"hljs-comment\">/** DynamicProgramming solution for the Egg Dropping Puzzle */</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">EggDropping</span> {\n\n  <span class=\"hljs-comment\">// min trials with n eggs and m floors</span>\n\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">minTrials</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> n, <span class=\"hljs-type\">int</span> m)</span> {\n\n    <span class=\"hljs-type\">int</span>[][] eggFloor = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">int</span>[n + <span class=\"hljs-number\">1</span>][m + <span class=\"hljs-number\">1</span>];\n    <span class=\"hljs-type\">int</span> result, x;\n\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span>; i &lt;= n; i++) {\n      eggFloor[i][<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">0</span>; <span class=\"hljs-comment\">// Zero trial for zero floor.</span>\n      eggFloor[i][<span class=\"hljs-number\">1</span>] = <span class=\"hljs-number\">1</span>; <span class=\"hljs-comment\">// One trial for one floor</span>\n    }\n\n    <span class=\"hljs-comment\">// j trials for only 1 egg</span>\n\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">j</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span>; j &lt;= m; j++) eggFloor[<span class=\"hljs-number\">1</span>][j] = j;\n\n    <span class=\"hljs-comment\">// Using bottom-up approach in DP</span>\n\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">2</span>; i &lt;= n; i++) {\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">j</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">2</span>; j &lt;= m; j++) {\n        eggFloor[i][j] = Integer.MAX_VALUE;\n        <span class=\"hljs-keyword\">for</span> (x = <span class=\"hljs-number\">1</span>; x &lt;= j; x++) {\n          result = <span class=\"hljs-number\">1</span> + Math.max(eggFloor[i - <span class=\"hljs-number\">1</span>][x - <span class=\"hljs-number\">1</span>], eggFloor[i][j - x]);\n\n          <span class=\"hljs-comment\">// choose min of all values for particular x</span>\n          <span class=\"hljs-keyword\">if</span> (result &lt; eggFloor[i][j]) eggFloor[i][j] = result;\n        }\n      }\n    }\n\n    <span class=\"hljs-keyword\">return</span> eggFloor[n][m];\n  }\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">(String args[])</span> {\n    <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">n</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">2</span>, m = <span class=\"hljs-number\">4</span>;\n    <span class=\"hljs-comment\">// result outputs min no. of trials in worst case for n eggs and m floors</span>\n    <span class=\"hljs-type\">int</span> <span class=\"hljs-variable\">result</span> <span class=\"hljs-operator\">=</span> minTrials(n, m);\n    System.out.println(result);\n  }\n}\n"
    },
    "rust": {
      "dir": "src/dynamic_programming/egg_dropping.rs",
      "url": "https://github.com/TheAlgorithms/rust/tree/master/src/dynamic_programming/egg_dropping.rs",
      "code": "<span class=\"hljs-comment\">/// # Egg Dropping Puzzle</span>\n\n<span class=\"hljs-comment\">/// `egg_drop(eggs, floors)` returns the least number of egg droppings</span>\n<span class=\"hljs-comment\">///     required to determine the highest floor from which an egg will not</span>\n<span class=\"hljs-comment\">///     break upon dropping</span>\n<span class=\"hljs-comment\">///</span>\n<span class=\"hljs-comment\">/// Assumptions: n &gt; 0</span>\n<span class=\"hljs-keyword\">pub</span> <span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">egg_drop</span>(eggs: <span class=\"hljs-type\">u32</span>, floors: <span class=\"hljs-type\">u32</span>) <span class=\"hljs-punctuation\">-&gt;</span> <span class=\"hljs-type\">u32</span> {\n    <span class=\"hljs-built_in\">assert!</span>(eggs &gt; <span class=\"hljs-number\">0</span>);\n\n    <span class=\"hljs-comment\">// Explicity handle edge cases (optional)</span>\n    <span class=\"hljs-keyword\">if</span> eggs == <span class=\"hljs-number\">1</span> || floors == <span class=\"hljs-number\">0</span> || floors == <span class=\"hljs-number\">1</span> {\n        <span class=\"hljs-keyword\">return</span> floors;\n    }\n\n    <span class=\"hljs-keyword\">let</span> <span class=\"hljs-variable\">eggs_index</span> = eggs <span class=\"hljs-keyword\">as</span> <span class=\"hljs-type\">usize</span>;\n    <span class=\"hljs-keyword\">let</span> <span class=\"hljs-variable\">floors_index</span> = floors <span class=\"hljs-keyword\">as</span> <span class=\"hljs-type\">usize</span>;\n\n    <span class=\"hljs-comment\">// Store solutions to subproblems in 2D Vec,</span>\n    <span class=\"hljs-comment\">// where egg_drops[i][j] represents the solution to the egg dropping</span>\n    <span class=\"hljs-comment\">// problem with i eggs and j floors</span>\n    <span class=\"hljs-keyword\">let</span> <span class=\"hljs-keyword\">mut </span><span class=\"hljs-variable\">egg_drops</span>: <span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">Vec</span>&lt;<span class=\"hljs-type\">u32</span>&gt;&gt; = <span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-built_in\">vec!</span>[<span class=\"hljs-number\">0</span>; floors_index + <span class=\"hljs-number\">1</span>]; eggs_index + <span class=\"hljs-number\">1</span>];\n\n    <span class=\"hljs-comment\">// Assign solutions for egg_drop(n, 0) = 0, egg_drop(n, 1) = 1</span>\n    <span class=\"hljs-keyword\">for</span> <span class=\"hljs-variable\">egg_drop</span> <span class=\"hljs-keyword\">in</span> egg_drops.<span class=\"hljs-title function_ invoke__\">iter_mut</span>().<span class=\"hljs-title function_ invoke__\">skip</span>(<span class=\"hljs-number\">1</span>) {\n        egg_drop[<span class=\"hljs-number\">0</span>] = <span class=\"hljs-number\">0</span>;\n        egg_drop[<span class=\"hljs-number\">1</span>] = <span class=\"hljs-number\">1</span>;\n    }\n\n    <span class=\"hljs-comment\">// Assign solutions to egg_drop(1, k) = k</span>\n    <span class=\"hljs-keyword\">for</span> <span class=\"hljs-variable\">j</span> <span class=\"hljs-keyword\">in</span> <span class=\"hljs-number\">1</span>..=floors_index {\n        egg_drops[<span class=\"hljs-number\">1</span>][j] = j <span class=\"hljs-keyword\">as</span> <span class=\"hljs-type\">u32</span>;\n    }\n\n    <span class=\"hljs-comment\">// Complete solutions vector using optimal substructure property</span>\n    <span class=\"hljs-keyword\">for</span> <span class=\"hljs-variable\">i</span> <span class=\"hljs-keyword\">in</span> <span class=\"hljs-number\">2</span>..=eggs_index {\n        <span class=\"hljs-keyword\">for</span> <span class=\"hljs-variable\">j</span> <span class=\"hljs-keyword\">in</span> <span class=\"hljs-number\">2</span>..=floors_index {\n            egg_drops[i][j] = std::u32::MAX;\n\n            <span class=\"hljs-keyword\">for</span> <span class=\"hljs-variable\">k</span> <span class=\"hljs-keyword\">in</span> <span class=\"hljs-number\">1</span>..=j {\n                <span class=\"hljs-keyword\">let</span> <span class=\"hljs-variable\">res</span> = <span class=\"hljs-number\">1</span> + std::cmp::<span class=\"hljs-title function_ invoke__\">max</span>(egg_drops[i - <span class=\"hljs-number\">1</span>][k - <span class=\"hljs-number\">1</span>], egg_drops[i][j - k]);\n\n                <span class=\"hljs-keyword\">if</span> res &lt; egg_drops[i][j] {\n                    egg_drops[i][j] = res;\n                }\n            }\n        }\n    }\n\n    egg_drops[eggs_index][floors_index]\n}\n\n<span class=\"hljs-meta\">#[cfg(test)]</span>\n<span class=\"hljs-keyword\">mod</span> tests {\n    <span class=\"hljs-keyword\">use</span> super::egg_drop;\n\n    <span class=\"hljs-meta\">#[test]</span>\n    <span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">zero_floors</span>() {\n        <span class=\"hljs-built_in\">assert_eq!</span>(<span class=\"hljs-title function_ invoke__\">egg_drop</span>(<span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">0</span>), <span class=\"hljs-number\">0</span>);\n    }\n\n    <span class=\"hljs-meta\">#[test]</span>\n    <span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">one_egg</span>() {\n        <span class=\"hljs-built_in\">assert_eq!</span>(<span class=\"hljs-title function_ invoke__\">egg_drop</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">8</span>), <span class=\"hljs-number\">8</span>);\n    }\n\n    <span class=\"hljs-meta\">#[test]</span>\n    <span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">eggs2_floors2</span>() {\n        <span class=\"hljs-built_in\">assert_eq!</span>(<span class=\"hljs-title function_ invoke__\">egg_drop</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">2</span>), <span class=\"hljs-number\">2</span>);\n    }\n\n    <span class=\"hljs-meta\">#[test]</span>\n    <span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">eggs3_floors5</span>() {\n        <span class=\"hljs-built_in\">assert_eq!</span>(<span class=\"hljs-title function_ invoke__\">egg_drop</span>(<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">5</span>), <span class=\"hljs-number\">3</span>);\n    }\n\n    <span class=\"hljs-meta\">#[test]</span>\n    <span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">eggs2_floors10</span>() {\n        <span class=\"hljs-built_in\">assert_eq!</span>(<span class=\"hljs-title function_ invoke__\">egg_drop</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">10</span>), <span class=\"hljs-number\">4</span>);\n    }\n\n    <span class=\"hljs-meta\">#[test]</span>\n    <span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">eggs2_floors36</span>() {\n        <span class=\"hljs-built_in\">assert_eq!</span>(<span class=\"hljs-title function_ invoke__\">egg_drop</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">36</span>), <span class=\"hljs-number\">8</span>);\n    }\n\n    <span class=\"hljs-meta\">#[test]</span>\n    <span class=\"hljs-keyword\">fn</span> <span class=\"hljs-title function_\">large_floors</span>() {\n        <span class=\"hljs-built_in\">assert_eq!</span>(<span class=\"hljs-title function_ invoke__\">egg_drop</span>(<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">100</span>), <span class=\"hljs-number\">14</span>);\n    }\n}\n"
    }
  },
  "contributors": [
    {
      "name": "Jake Curran",
      "email": "jake@jakecurran.com",
      "commits": 1
    },
    {
      "name": "Libin Yang",
      "email": "szuyanglb@outlook.com",
      "commits": 2
    },
    {
      "name": "Deepak",
      "email": "deepakkumar180997@gmail.com",
      "commits": 2
    }
  ],
  "explanationUrl": {}
}

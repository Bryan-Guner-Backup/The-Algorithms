{
  "slug": "lcm-sum",
  "name": "Lcm Sum",
  "categories": ["math"],
  "body": {},
  "implementations": {
    "c-plus-plus": {
      "dir": "math/lcm_sum.cpp",
      "url": "https://github.com/TheAlgorithms/c-plus-plus/tree/master/math/lcm_sum.cpp",
      "code": "<span class=\"hljs-comment\">/**\n * @file\n * @brief An algorithm to calculate the sum of LCM: \\f$\\mathrm{LCM}(1,n) +\n * \\mathrm{LCM}(2,n) + \\ldots + \\mathrm{LCM}(n,n)\\f$\n * @details An algorithm to calculate the sum of LCM: \\f$\\mathrm{LCM}(1,n) +\n * \\mathrm{LCM}(2,n) + \\ldots + \\mathrm{LCM}(n,n)\\f$ where\n * \\f$\\mathrm{LCM}(i,n)\\f$ denotes the Least Common Multiple of the integers i\n * and n. For n greater than or equal to 1. The value of the sum is calculated\n * by formula: \\f[ \\sum\\mathrm{LCM}(i, n) = \\frac{1}{2} \\left[\\left(\\sum (d *\n * \\mathrm{ETF}(d)) + 1\\right) * n\\right] \\f] where \\mathrm{ETF}(i) represents\n * Euler totient function of i.\n * @author [Chesta Mittal](https://github.com/chestamittal)\n */</span>\n\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;cassert&gt;</span>   <span class=\"hljs-comment\">/// for assert</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;iostream&gt;</span>  <span class=\"hljs-comment\">/// for std::cin and std::cout</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;vector&gt;</span>    <span class=\"hljs-comment\">/// for std::vector</span></span>\n\n<span class=\"hljs-comment\">/**\n * @namespace math\n * @brief Mathematical algorithms\n */</span>\n<span class=\"hljs-keyword\">namespace</span> math {\n<span class=\"hljs-comment\">/**\n * Function to compute sum of euler totients in sumOfEulerTotient vector\n * @param num input number\n * @returns int Sum of LCMs, i.e. âˆ‘LCM(i, num) from i = 1 to num\n */</span>\n<span class=\"hljs-function\"><span class=\"hljs-type\">uint64_t</span> <span class=\"hljs-title\">lcmSum</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">uint16_t</span>&amp; num)</span> </span>{\n    <span class=\"hljs-type\">uint64_t</span> i = <span class=\"hljs-number\">0</span>, j = <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-function\">std::vector&lt;<span class=\"hljs-type\">uint64_t</span>&gt; <span class=\"hljs-title\">eulerTotient</span><span class=\"hljs-params\">(num + <span class=\"hljs-number\">1</span>)</span></span>;\n    <span class=\"hljs-function\">std::vector&lt;<span class=\"hljs-type\">uint64_t</span>&gt; <span class=\"hljs-title\">sumOfEulerTotient</span><span class=\"hljs-params\">(num + <span class=\"hljs-number\">1</span>)</span></span>;\n\n    <span class=\"hljs-comment\">// storing initial values in eulerTotient vector</span>\n    <span class=\"hljs-keyword\">for</span> (i = <span class=\"hljs-number\">1</span>; i &lt;= num; i++) {\n        eulerTotient[i] = i;\n    }\n\n    <span class=\"hljs-comment\">// applying totient sieve</span>\n    <span class=\"hljs-keyword\">for</span> (i = <span class=\"hljs-number\">2</span>; i &lt;= num; i++) {\n        <span class=\"hljs-keyword\">if</span> (eulerTotient[i] == i) {\n            <span class=\"hljs-keyword\">for</span> (j = i; j &lt;= num; j += i) {\n                eulerTotient[j] = eulerTotient[j] / i;\n                eulerTotient[j] = eulerTotient[j] * (i - <span class=\"hljs-number\">1</span>);\n            }\n        }\n    }\n\n    <span class=\"hljs-comment\">// computing sum of euler totients</span>\n    <span class=\"hljs-keyword\">for</span> (i = <span class=\"hljs-number\">1</span>; i &lt;= num; i++) {\n        <span class=\"hljs-keyword\">for</span> (j = i; j &lt;= num; j += i) {\n            sumOfEulerTotient[j] += eulerTotient[i] * i;\n        }\n    }\n\n    <span class=\"hljs-keyword\">return</span> ((sumOfEulerTotient[num] + <span class=\"hljs-number\">1</span>) * num) / <span class=\"hljs-number\">2</span>;\n}\n}  <span class=\"hljs-comment\">// namespace math</span>\n\n<span class=\"hljs-comment\">/**\n * Function for testing lcmSum function.\n * test cases and assert statement.\n * @returns `void`\n */</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">static</span> <span class=\"hljs-type\">void</span> <span class=\"hljs-title\">test</span><span class=\"hljs-params\">()</span> </span>{\n    <span class=\"hljs-type\">uint64_t</span> n = <span class=\"hljs-number\">2</span>;\n    <span class=\"hljs-type\">uint64_t</span> test_1 = math::<span class=\"hljs-built_in\">lcmSum</span>(n);\n    <span class=\"hljs-built_in\">assert</span>(test_1 == <span class=\"hljs-number\">4</span>);\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Passed Test 1!&quot;</span> &lt;&lt; std::endl;\n\n    n = <span class=\"hljs-number\">5</span>;\n    <span class=\"hljs-type\">uint64_t</span> test_2 = math::<span class=\"hljs-built_in\">lcmSum</span>(n);\n    <span class=\"hljs-built_in\">assert</span>(test_2 == <span class=\"hljs-number\">55</span>);\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Passed Test 2!&quot;</span> &lt;&lt; std::endl;\n\n    n = <span class=\"hljs-number\">10</span>;\n    <span class=\"hljs-type\">uint64_t</span> test_3 = math::<span class=\"hljs-built_in\">lcmSum</span>(n);\n    <span class=\"hljs-built_in\">assert</span>(test_3 == <span class=\"hljs-number\">320</span>);\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Passed Test 3!&quot;</span> &lt;&lt; std::endl;\n\n    n = <span class=\"hljs-number\">11</span>;\n    <span class=\"hljs-type\">uint64_t</span> test_4 = math::<span class=\"hljs-built_in\">lcmSum</span>(n);\n    <span class=\"hljs-built_in\">assert</span>(test_4 == <span class=\"hljs-number\">616</span>);\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Passed Test 4!&quot;</span> &lt;&lt; std::endl;\n\n    n = <span class=\"hljs-number\">15</span>;\n    <span class=\"hljs-type\">uint64_t</span> test_5 = math::<span class=\"hljs-built_in\">lcmSum</span>(n);\n    <span class=\"hljs-built_in\">assert</span>(test_5 == <span class=\"hljs-number\">1110</span>);\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Passed Test 5!&quot;</span> &lt;&lt; std::endl;\n}\n\n<span class=\"hljs-comment\">/**\n * @brief Main function\n * @returns 0 on exit\n */</span>\n<span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span> </span>{\n    <span class=\"hljs-built_in\">test</span>();  <span class=\"hljs-comment\">// execute the tests</span>\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}\n"
    }
  },
  "contributors": [],
  "explanationUrl": {}
}

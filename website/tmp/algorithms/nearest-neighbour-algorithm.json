{
  "slug": "nearest-neighbour-algorithm",
  "name": "Nearest Neighbour Algorithm",
  "categories": ["graphs"],
  "body": {},
  "implementations": {
    "dart": {
      "dir": "graphs/nearest_neighbour_algorithm.dart",
      "url": "https://github.com/TheAlgorithms/dart/tree/master/graphs/nearest_neighbour_algorithm.dart",
      "code": "<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;dart:math&#x27;</span>;\n\n<span class=\"hljs-comment\">/// <span class=\"language-markdown\">Graph represented as adjacency matrix</span></span>\n<span class=\"hljs-comment\">/// <span class=\"language-markdown\">[nodes] - node names preserved in order</span></span>\n<span class=\"hljs-comment\">/// <span class=\"language-markdown\">[adjacencyMatrix] edge weights, distances between nodes</span></span>\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Graph</span> </span>{\n  <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">String</span>&gt; nodes;\n  <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">double</span>&gt;&gt; adjacencyMatrix;\n\n  Graph(<span class=\"hljs-keyword\">this</span>.nodes, <span class=\"hljs-keyword\">this</span>.adjacencyMatrix);\n}\n\n<span class=\"hljs-comment\">/// <span class=\"language-markdown\">Find path visiting all nodes in given [graph] using greedy approach</span></span>\n<span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">String</span>&gt; nearestNeighbourSearch(Graph graph) {\n  <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">String</span>&gt; path = [];\n  <span class=\"hljs-built_in\">Set</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; unvisitedNodes = <span class=\"hljs-built_in\">Set</span>.from(<span class=\"hljs-built_in\">Iterable</span>.generate(graph.nodes.length));\n\n  <span class=\"hljs-built_in\">int</span> currentNode = <span class=\"hljs-number\">0</span>;\n  <span class=\"hljs-keyword\">while</span> (unvisitedNodes.isNotEmpty) {\n    unvisitedNodes.remove(currentNode);\n    <span class=\"hljs-built_in\">int</span> nearestNeighbour;\n    <span class=\"hljs-built_in\">double</span> nearestNeighbourDistance;\n\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-built_in\">int</span> neighbour <span class=\"hljs-keyword\">in</span> unvisitedNodes) {\n      <span class=\"hljs-built_in\">double</span> neighbourDistance = graph.adjacencyMatrix[currentNode][neighbour];\n      <span class=\"hljs-keyword\">if</span> (nearestNeighbour == <span class=\"hljs-keyword\">null</span> ||\n          neighbourDistance &lt; nearestNeighbourDistance) {\n        nearestNeighbour = neighbour;\n        nearestNeighbourDistance = neighbourDistance;\n      }\n    }\n\n    path.add(graph.nodes[currentNode]);\n    currentNode = nearestNeighbour;\n  }\n\n  <span class=\"hljs-keyword\">return</span> path;\n}\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Point</span> </span>{\n  <span class=\"hljs-built_in\">double</span> x;\n  <span class=\"hljs-built_in\">double</span> y;\n\n  <span class=\"hljs-meta\">@override</span>\n  <span class=\"hljs-built_in\">String</span> toString() =&gt; <span class=\"hljs-string\">&quot;P(<span class=\"hljs-subst\">$x</span>, <span class=\"hljs-subst\">$y</span>)&quot;</span>;\n\n  Point(<span class=\"hljs-keyword\">this</span>.x, <span class=\"hljs-keyword\">this</span>.y);\n}\n\n<span class=\"hljs-comment\">/// <span class=\"language-markdown\">Euclidean distance between [p1] and [p2]</span></span>\n<span class=\"hljs-built_in\">double</span> distance(Point p1, Point p2) {\n  <span class=\"hljs-keyword\">return</span> sqrt(pow(p2.x - p1.x, <span class=\"hljs-number\">2</span>) + pow(p2.y - p1.y, <span class=\"hljs-number\">2</span>));\n}\n\n<span class=\"hljs-comment\">/// <span class=\"language-markdown\">Form graph using given [points].</span></span>\n<span class=\"hljs-comment\">/// <span class=\"language-markdown\">Edge weights will correspond to distances</span></span>\nGraph fromPoints(<span class=\"hljs-built_in\">List</span>&lt;Point&gt; points) {\n  <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">String</span>&gt; nodes = [];\n  <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">double</span>&gt;&gt; adjacencyMatrix = [];\n\n  <span class=\"hljs-keyword\">for</span> (Point p1 <span class=\"hljs-keyword\">in</span> points) {\n    <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">double</span>&gt; neigbourDistances = [];\n    <span class=\"hljs-keyword\">for</span> (Point p2 <span class=\"hljs-keyword\">in</span> points) {\n      neigbourDistances.add(distance(p1, p2));\n    }\n    nodes.add(p1.toString());\n    adjacencyMatrix.add(neigbourDistances);\n  }\n\n  <span class=\"hljs-keyword\">return</span> Graph(nodes, adjacencyMatrix);\n}\n\n<span class=\"hljs-keyword\">void</span> main() {\n  Graph graph = Graph([\n    <span class=\"hljs-string\">&quot;A&quot;</span>,\n    <span class=\"hljs-string\">&quot;B&quot;</span>,\n    <span class=\"hljs-string\">&quot;C&quot;</span>,\n    <span class=\"hljs-string\">&quot;D&quot;</span>,\n    <span class=\"hljs-string\">&quot;E&quot;</span>\n  ], [\n    [<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">12</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">54</span>, <span class=\"hljs-number\">100</span>],\n    [<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">1</span>],\n    [<span class=\"hljs-number\">300</span>, <span class=\"hljs-number\">20</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">433</span>, <span class=\"hljs-number\">123</span>],\n    [<span class=\"hljs-number\">32</span>, <span class=\"hljs-number\">31</span>, <span class=\"hljs-number\">54</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">3</span>],\n    [<span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">65</span>, <span class=\"hljs-number\">12</span>, <span class=\"hljs-number\">32</span>, <span class=\"hljs-number\">0</span>]\n  ]);\n\n  <span class=\"hljs-built_in\">print</span>(nearestNeighbourSearch(graph));\n\n  <span class=\"hljs-built_in\">List</span>&lt;Point&gt; points = [\n    <span class=\"hljs-keyword\">new</span> Point(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>),\n    <span class=\"hljs-keyword\">new</span> Point(<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">10</span>),\n    <span class=\"hljs-keyword\">new</span> Point(<span class=\"hljs-number\">-10</span>, <span class=\"hljs-number\">10</span>),\n    <span class=\"hljs-keyword\">new</span> Point(<span class=\"hljs-number\">3.33</span>, <span class=\"hljs-number\">8.11</span>),\n    <span class=\"hljs-keyword\">new</span> Point(<span class=\"hljs-number\">12</span>, <span class=\"hljs-number\">11</span>),\n    <span class=\"hljs-keyword\">new</span> Point(<span class=\"hljs-number\">-1</span>, <span class=\"hljs-number\">1</span>),\n    <span class=\"hljs-keyword\">new</span> Point(<span class=\"hljs-number\">-2</span>, <span class=\"hljs-number\">2</span>)\n  ];\n\n  <span class=\"hljs-built_in\">print</span>(nearestNeighbourSearch(fromPoints(points)));\n}\n"
    }
  },
  "contributors": [
    {
      "name": "Parowicz",
      "email": "arturparowicz@gmail.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}

{
  "slug": "min-heap",
  "name": "Min Heap",
  "categories": ["datastructures", "heap"],
  "body": {},
  "implementations": {
    "python": {
      "dir": "data_structures/heap/min_heap.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/data_structures/heap/min_heap.py",
      "code": "<span class=\"hljs-comment\"># Min heap data structure</span>\n<span class=\"hljs-comment\"># with decrease key functionality - in O(log(n)) time</span>\n\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Node</span>:\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self, name, val</span>):\n        self.name = name\n        self.val = val\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__str__</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{self.__class__.__name__}</span>(<span class=\"hljs-subst\">{self.name}</span>, <span class=\"hljs-subst\">{self.val}</span>)&quot;</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__lt__</span>(<span class=\"hljs-params\">self, other</span>):\n        <span class=\"hljs-keyword\">return</span> self.val &lt; other.val\n\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MinHeap</span>:\n    <span class=\"hljs-string\">&quot;&quot;&quot;\n    &gt;&gt;&gt; r = Node(&quot;R&quot;, -1)\n    &gt;&gt;&gt; b = Node(&quot;B&quot;, 6)\n    &gt;&gt;&gt; a = Node(&quot;A&quot;, 3)\n    &gt;&gt;&gt; x = Node(&quot;X&quot;, 1)\n    &gt;&gt;&gt; e = Node(&quot;E&quot;, 4)\n    &gt;&gt;&gt; print(b)\n    Node(B, 6)\n    &gt;&gt;&gt; myMinHeap = MinHeap([r, b, a, x, e])\n    &gt;&gt;&gt; myMinHeap.decrease_key(b, -17)\n    &gt;&gt;&gt; print(b)\n    Node(B, -17)\n    &gt;&gt;&gt; print(myMinHeap[&quot;B&quot;])\n    -17\n    &quot;&quot;&quot;</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self, array</span>):\n        self.idx_of_element = {}\n        self.heap_dict = {}\n        self.heap = self.build_heap(array)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__getitem__</span>(<span class=\"hljs-params\">self, key</span>):\n        <span class=\"hljs-keyword\">return</span> self.get_value(key)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_parent_idx</span>(<span class=\"hljs-params\">self, idx</span>):\n        <span class=\"hljs-keyword\">return</span> (idx - <span class=\"hljs-number\">1</span>) // <span class=\"hljs-number\">2</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_left_child_idx</span>(<span class=\"hljs-params\">self, idx</span>):\n        <span class=\"hljs-keyword\">return</span> idx * <span class=\"hljs-number\">2</span> + <span class=\"hljs-number\">1</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_right_child_idx</span>(<span class=\"hljs-params\">self, idx</span>):\n        <span class=\"hljs-keyword\">return</span> idx * <span class=\"hljs-number\">2</span> + <span class=\"hljs-number\">2</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_value</span>(<span class=\"hljs-params\">self, key</span>):\n        <span class=\"hljs-keyword\">return</span> self.heap_dict[key]\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">build_heap</span>(<span class=\"hljs-params\">self, array</span>):\n        lastIdx = <span class=\"hljs-built_in\">len</span>(array) - <span class=\"hljs-number\">1</span>\n        startFrom = self.get_parent_idx(lastIdx)\n\n        <span class=\"hljs-keyword\">for</span> idx, i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">enumerate</span>(array):\n            self.idx_of_element[i] = idx\n            self.heap_dict[i.name] = i.val\n\n        <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(startFrom, -<span class=\"hljs-number\">1</span>, -<span class=\"hljs-number\">1</span>):\n            self.sift_down(i, array)\n        <span class=\"hljs-keyword\">return</span> array\n\n    <span class=\"hljs-comment\"># this is min-heapify method</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">sift_down</span>(<span class=\"hljs-params\">self, idx, array</span>):\n        <span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span>:\n            l = self.get_left_child_idx(idx)  <span class=\"hljs-comment\"># noqa: E741</span>\n            r = self.get_right_child_idx(idx)\n\n            smallest = idx\n            <span class=\"hljs-keyword\">if</span> l &lt; <span class=\"hljs-built_in\">len</span>(array) <span class=\"hljs-keyword\">and</span> array[l] &lt; array[idx]:\n                smallest = l\n            <span class=\"hljs-keyword\">if</span> r &lt; <span class=\"hljs-built_in\">len</span>(array) <span class=\"hljs-keyword\">and</span> array[r] &lt; array[smallest]:\n                smallest = r\n\n            <span class=\"hljs-keyword\">if</span> smallest != idx:\n                array[idx], array[smallest] = array[smallest], array[idx]\n                (\n                    self.idx_of_element[array[idx]],\n                    self.idx_of_element[array[smallest]],\n                ) = (\n                    self.idx_of_element[array[smallest]],\n                    self.idx_of_element[array[idx]],\n                )\n                idx = smallest\n            <span class=\"hljs-keyword\">else</span>:\n                <span class=\"hljs-keyword\">break</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">sift_up</span>(<span class=\"hljs-params\">self, idx</span>):\n        p = self.get_parent_idx(idx)\n        <span class=\"hljs-keyword\">while</span> p &gt;= <span class=\"hljs-number\">0</span> <span class=\"hljs-keyword\">and</span> self.heap[p] &gt; self.heap[idx]:\n            self.heap[p], self.heap[idx] = self.heap[idx], self.heap[p]\n            self.idx_of_element[self.heap[p]], self.idx_of_element[self.heap[idx]] = (\n                self.idx_of_element[self.heap[idx]],\n                self.idx_of_element[self.heap[p]],\n            )\n            idx = p\n            p = self.get_parent_idx(idx)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">peek</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-keyword\">return</span> self.heap[<span class=\"hljs-number\">0</span>]\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">remove</span>(<span class=\"hljs-params\">self</span>):\n        self.heap[<span class=\"hljs-number\">0</span>], self.heap[-<span class=\"hljs-number\">1</span>] = self.heap[-<span class=\"hljs-number\">1</span>], self.heap[<span class=\"hljs-number\">0</span>]\n        self.idx_of_element[self.heap[<span class=\"hljs-number\">0</span>]], self.idx_of_element[self.heap[-<span class=\"hljs-number\">1</span>]] = (\n            self.idx_of_element[self.heap[-<span class=\"hljs-number\">1</span>]],\n            self.idx_of_element[self.heap[<span class=\"hljs-number\">0</span>]],\n        )\n\n        x = self.heap.pop()\n        <span class=\"hljs-keyword\">del</span> self.idx_of_element[x]\n        self.sift_down(<span class=\"hljs-number\">0</span>, self.heap)\n        <span class=\"hljs-keyword\">return</span> x\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">insert</span>(<span class=\"hljs-params\">self, node</span>):\n        self.heap.append(node)\n        self.idx_of_element[node] = <span class=\"hljs-built_in\">len</span>(self.heap) - <span class=\"hljs-number\">1</span>\n        self.heap_dict[node.name] = node.val\n        self.sift_up(<span class=\"hljs-built_in\">len</span>(self.heap) - <span class=\"hljs-number\">1</span>)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">is_empty</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">True</span> <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(self.heap) == <span class=\"hljs-number\">0</span> <span class=\"hljs-keyword\">else</span> <span class=\"hljs-literal\">False</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">decrease_key</span>(<span class=\"hljs-params\">self, node, newValue</span>):\n        <span class=\"hljs-keyword\">assert</span> (\n            self.heap[self.idx_of_element[node]].val &gt; newValue\n        ), <span class=\"hljs-string\">&quot;newValue must be less that current value&quot;</span>\n        node.val = newValue\n        self.heap_dict[node.name] = newValue\n        self.sift_up(self.idx_of_element[node])\n\n\n<span class=\"hljs-comment\"># USAGE</span>\n\nr = Node(<span class=\"hljs-string\">&quot;R&quot;</span>, -<span class=\"hljs-number\">1</span>)\nb = Node(<span class=\"hljs-string\">&quot;B&quot;</span>, <span class=\"hljs-number\">6</span>)\na = Node(<span class=\"hljs-string\">&quot;A&quot;</span>, <span class=\"hljs-number\">3</span>)\nx = Node(<span class=\"hljs-string\">&quot;X&quot;</span>, <span class=\"hljs-number\">1</span>)\ne = Node(<span class=\"hljs-string\">&quot;E&quot;</span>, <span class=\"hljs-number\">4</span>)\n\n<span class=\"hljs-comment\"># Use one of these two ways to generate Min-Heap</span>\n\n<span class=\"hljs-comment\"># Generating Min-Heap from array</span>\nmyMinHeap = MinHeap([r, b, a, x, e])\n\n<span class=\"hljs-comment\"># Generating Min-Heap by Insert method</span>\n<span class=\"hljs-comment\"># myMinHeap.insert(a)</span>\n<span class=\"hljs-comment\"># myMinHeap.insert(b)</span>\n<span class=\"hljs-comment\"># myMinHeap.insert(x)</span>\n<span class=\"hljs-comment\"># myMinHeap.insert(r)</span>\n<span class=\"hljs-comment\"># myMinHeap.insert(e)</span>\n\n<span class=\"hljs-comment\"># Before</span>\n<span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;Min Heap - before decrease key&quot;</span>)\n<span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> myMinHeap.heap:\n    <span class=\"hljs-built_in\">print</span>(i)\n\n<span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;Min Heap - After decrease key of node [B -&gt; -17]&quot;</span>)\nmyMinHeap.decrease_key(b, -<span class=\"hljs-number\">17</span>)\n\n<span class=\"hljs-comment\"># After</span>\n<span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> myMinHeap.heap:\n    <span class=\"hljs-built_in\">print</span>(i)\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&quot;__main__&quot;</span>:\n    <span class=\"hljs-keyword\">import</span> doctest\n\n    doctest.testmod()\n"
    },
    "java": {
      "dir": "DataStructures/Heaps/MinHeap.java",
      "url": "https://github.com/TheAlgorithms/java/tree/master/DataStructures/Heaps/MinHeap.java",
      "code": "<span class=\"hljs-keyword\">package</span> DataStructures.Heaps;\n\n<span class=\"hljs-keyword\">import</span> java.util.ArrayList;\n<span class=\"hljs-keyword\">import</span> java.util.List;\n\n<span class=\"hljs-comment\">/**\n * Heap tree where a node&#x27;s key is higher than or equal to its parent&#x27;s and lower than or equal to\n * its children&#x27;s.\n *\n * <span class=\"hljs-doctag\">@author</span> Nicolas Renard\n */</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MinHeap</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Heap</span> {\n\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">final</span> List&lt;HeapElement&gt; minHeap;\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">MinHeap</span><span class=\"hljs-params\">(List&lt;HeapElement&gt; listElements)</span> {\n    minHeap = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ArrayList</span>&lt;&gt;();\n    <span class=\"hljs-keyword\">for</span> (HeapElement heapElement : listElements) {\n      <span class=\"hljs-keyword\">if</span> (heapElement != <span class=\"hljs-literal\">null</span>) insertElement(heapElement);\n      <span class=\"hljs-keyword\">else</span> System.out.println(<span class=\"hljs-string\">&quot;Null element. Not added to heap&quot;</span>);\n    }\n    <span class=\"hljs-keyword\">if</span> (minHeap.size() == <span class=\"hljs-number\">0</span>) System.out.println(<span class=\"hljs-string\">&quot;No element has been added, empty heap.&quot;</span>);\n  }\n\n  <span class=\"hljs-comment\">// Get the element at a given index. The key for the list is equal to index value - 1</span>\n  <span class=\"hljs-keyword\">public</span> HeapElement <span class=\"hljs-title function_\">getElement</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> elementIndex)</span> {\n    <span class=\"hljs-keyword\">if</span> ((elementIndex &lt;= <span class=\"hljs-number\">0</span>) || (elementIndex &gt; minHeap.size()))\n      <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">IndexOutOfBoundsException</span>(<span class=\"hljs-string\">&quot;Index out of heap range&quot;</span>);\n    <span class=\"hljs-keyword\">return</span> minHeap.get(elementIndex - <span class=\"hljs-number\">1</span>);\n  }\n\n  <span class=\"hljs-comment\">// Get the key of the element at a given index</span>\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">double</span> <span class=\"hljs-title function_\">getElementKey</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> elementIndex)</span> {\n    <span class=\"hljs-keyword\">return</span> minHeap.get(elementIndex - <span class=\"hljs-number\">1</span>).getKey();\n  }\n\n  <span class=\"hljs-comment\">// Swaps two elements in the heap</span>\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">swap</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> index1, <span class=\"hljs-type\">int</span> index2)</span> {\n    <span class=\"hljs-type\">HeapElement</span> <span class=\"hljs-variable\">temporaryElement</span> <span class=\"hljs-operator\">=</span> minHeap.get(index1 - <span class=\"hljs-number\">1</span>);\n    minHeap.set(index1 - <span class=\"hljs-number\">1</span>, minHeap.get(index2 - <span class=\"hljs-number\">1</span>));\n    minHeap.set(index2 - <span class=\"hljs-number\">1</span>, temporaryElement);\n  }\n\n  <span class=\"hljs-comment\">// Toggle an element up to its right place as long as its key is lower than its parent&#x27;s</span>\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">toggleUp</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> elementIndex)</span> {\n    <span class=\"hljs-type\">double</span> <span class=\"hljs-variable\">key</span> <span class=\"hljs-operator\">=</span> minHeap.get(elementIndex - <span class=\"hljs-number\">1</span>).getKey();\n    <span class=\"hljs-keyword\">while</span> (getElementKey((<span class=\"hljs-type\">int</span>) Math.floor(elementIndex / <span class=\"hljs-number\">2.0</span>)) &gt; key) {\n      swap(elementIndex, (<span class=\"hljs-type\">int</span>) Math.floor(elementIndex / <span class=\"hljs-number\">2.0</span>));\n      elementIndex = (<span class=\"hljs-type\">int</span>) Math.floor(elementIndex / <span class=\"hljs-number\">2.0</span>);\n    }\n  }\n\n  <span class=\"hljs-comment\">// Toggle an element down to its right place as long as its key is higher</span>\n  <span class=\"hljs-comment\">// than any of its children&#x27;s</span>\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">toggleDown</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> elementIndex)</span> {\n    <span class=\"hljs-type\">double</span> <span class=\"hljs-variable\">key</span> <span class=\"hljs-operator\">=</span> minHeap.get(elementIndex - <span class=\"hljs-number\">1</span>).getKey();\n    <span class=\"hljs-type\">boolean</span> <span class=\"hljs-variable\">wrongOrder</span> <span class=\"hljs-operator\">=</span>\n        (key &gt; getElementKey(elementIndex * <span class=\"hljs-number\">2</span>))\n            || (key &gt; getElementKey(Math.min(elementIndex * <span class=\"hljs-number\">2</span>, minHeap.size())));\n    <span class=\"hljs-keyword\">while</span> ((<span class=\"hljs-number\">2</span> * elementIndex &lt;= minHeap.size()) &amp;&amp; wrongOrder) {\n      <span class=\"hljs-comment\">// Check whether it shall swap the element with its left child or its right one if any.</span>\n      <span class=\"hljs-keyword\">if</span> ((<span class=\"hljs-number\">2</span> * elementIndex &lt; minHeap.size())\n          &amp;&amp; (getElementKey(elementIndex * <span class=\"hljs-number\">2</span> + <span class=\"hljs-number\">1</span>) &lt; getElementKey(elementIndex * <span class=\"hljs-number\">2</span>))) {\n        swap(elementIndex, <span class=\"hljs-number\">2</span> * elementIndex + <span class=\"hljs-number\">1</span>);\n        elementIndex = <span class=\"hljs-number\">2</span> * elementIndex + <span class=\"hljs-number\">1</span>;\n      } <span class=\"hljs-keyword\">else</span> {\n        swap(elementIndex, <span class=\"hljs-number\">2</span> * elementIndex);\n        elementIndex = <span class=\"hljs-number\">2</span> * elementIndex;\n      }\n      wrongOrder =\n          (key &gt; getElementKey(elementIndex * <span class=\"hljs-number\">2</span>))\n              || (key &gt; getElementKey(Math.min(elementIndex * <span class=\"hljs-number\">2</span>, minHeap.size())));\n    }\n  }\n\n  <span class=\"hljs-keyword\">private</span> HeapElement <span class=\"hljs-title function_\">extractMin</span><span class=\"hljs-params\">()</span> {\n    <span class=\"hljs-type\">HeapElement</span> <span class=\"hljs-variable\">result</span> <span class=\"hljs-operator\">=</span> minHeap.get(<span class=\"hljs-number\">0</span>);\n    deleteElement(<span class=\"hljs-number\">0</span>);\n    <span class=\"hljs-keyword\">return</span> result;\n  }\n\n  <span class=\"hljs-meta\">@Override</span>\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">insertElement</span><span class=\"hljs-params\">(HeapElement element)</span> {\n    minHeap.add(element);\n    toggleUp(minHeap.size());\n  }\n\n  <span class=\"hljs-meta\">@Override</span>\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">deleteElement</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> elementIndex)</span> {\n    <span class=\"hljs-keyword\">if</span> (minHeap.isEmpty())\n      <span class=\"hljs-keyword\">try</span> {\n        <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">EmptyHeapException</span>(<span class=\"hljs-string\">&quot;Attempt to delete an element from an empty heap&quot;</span>);\n      } <span class=\"hljs-keyword\">catch</span> (EmptyHeapException e) {\n        e.printStackTrace();\n      }\n    <span class=\"hljs-keyword\">if</span> ((elementIndex &gt; minHeap.size()) || (elementIndex &lt;= <span class=\"hljs-number\">0</span>))\n      <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">IndexOutOfBoundsException</span>(<span class=\"hljs-string\">&quot;Index out of heap range&quot;</span>);\n    <span class=\"hljs-comment\">// The last element in heap replaces the one to be deleted</span>\n    minHeap.set(elementIndex - <span class=\"hljs-number\">1</span>, getElement(minHeap.size()));\n    minHeap.remove(minHeap.size());\n    <span class=\"hljs-comment\">// Shall the new element be moved up...</span>\n    <span class=\"hljs-keyword\">if</span> (getElementKey(elementIndex) &lt; getElementKey((<span class=\"hljs-type\">int</span>) Math.floor(elementIndex / <span class=\"hljs-number\">2.0</span>)))\n      toggleUp(elementIndex);\n    <span class=\"hljs-comment\">// ... or down ?</span>\n    <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (((<span class=\"hljs-number\">2</span> * elementIndex &lt;= minHeap.size())\n            &amp;&amp; (getElementKey(elementIndex) &gt; getElementKey(elementIndex * <span class=\"hljs-number\">2</span>)))\n        || ((<span class=\"hljs-number\">2</span> * elementIndex &lt; minHeap.size())\n            &amp;&amp; (getElementKey(elementIndex) &gt; getElementKey(elementIndex * <span class=\"hljs-number\">2</span>))))\n      toggleDown(elementIndex);\n  }\n\n  <span class=\"hljs-meta\">@Override</span>\n  <span class=\"hljs-keyword\">public</span> HeapElement <span class=\"hljs-title function_\">getElement</span><span class=\"hljs-params\">()</span> <span class=\"hljs-keyword\">throws</span> EmptyHeapException {\n    <span class=\"hljs-keyword\">try</span> {\n      <span class=\"hljs-keyword\">return</span> extractMin();\n    } <span class=\"hljs-keyword\">catch</span> (Exception e) {\n      <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">EmptyHeapException</span>(<span class=\"hljs-string\">&quot;Heap is empty. Error retrieving element&quot;</span>);\n    }\n  }\n}\n"
    },
    "c": {
      "dir": "data_structures/heap/min_heap.c",
      "url": "https://github.com/TheAlgorithms/c/tree/master/data_structures/heap/min_heap.c",
      "code": "<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;stdio.h&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;stdlib.h&gt;</span></span>\n\n<span class=\"hljs-keyword\">typedef</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title\">min_heap</span>\n{</span>\n    <span class=\"hljs-type\">int</span> *p;\n    <span class=\"hljs-type\">int</span> size;\n    <span class=\"hljs-type\">int</span> count;\n} Heap;\n\nHeap *<span class=\"hljs-title function_\">create_heap</span><span class=\"hljs-params\">(Heap *heap)</span>; <span class=\"hljs-comment\">/*Creates a min_heap structure and returns a\n                                  pointer to the struct*/</span>\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">down_heapify</span><span class=\"hljs-params\">(Heap *heap, <span class=\"hljs-type\">int</span> index)</span>; <span class=\"hljs-comment\">/*Pushes an element downwards in the\n                                             heap to find its correct position*/</span>\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">up_heapify</span><span class=\"hljs-params\">(Heap *heap, <span class=\"hljs-type\">int</span> index)</span>; <span class=\"hljs-comment\">/*Pushes an element upwards in the heap\n                                           to find its correct position*/</span>\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">push</span><span class=\"hljs-params\">(Heap *heap, <span class=\"hljs-type\">int</span> x)</span>;           <span class=\"hljs-comment\">/*Inserts an element in the heap*/</span>\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">pop</span><span class=\"hljs-params\">(Heap *heap)</span>; <span class=\"hljs-comment\">/*Removes the top element from the heap*/</span>\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">top</span><span class=\"hljs-params\">(Heap *heap)</span>; <span class=\"hljs-comment\">/*Returns the top element of the heap or returns INT_MIN if\n                        heap is empty*/</span>\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">empty</span><span class=\"hljs-params\">(Heap *heap)</span>; <span class=\"hljs-comment\">/*Checks if heap is empty*/</span>\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">size</span><span class=\"hljs-params\">(Heap *heap)</span>;  <span class=\"hljs-comment\">/*Returns the size of heap*/</span>\n\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">()</span>\n{\n    Heap *head = create_heap(head);\n    push(head, <span class=\"hljs-number\">10</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Pushing element : 10\\n&quot;</span>);\n    push(head, <span class=\"hljs-number\">3</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Pushing element : 3\\n&quot;</span>);\n    push(head, <span class=\"hljs-number\">2</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Pushing element : 2\\n&quot;</span>);\n    push(head, <span class=\"hljs-number\">8</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Pushing element : 8\\n&quot;</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Top element = %d \\n&quot;</span>, top(head));\n    push(head, <span class=\"hljs-number\">1</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Pushing element : 1\\n&quot;</span>);\n    push(head, <span class=\"hljs-number\">7</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Pushing element : 7\\n&quot;</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Top element = %d \\n&quot;</span>, top(head));\n    pop(head);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Popping an element.\\n&quot;</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Top element = %d \\n&quot;</span>, top(head));\n    pop(head);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Popping an element.\\n&quot;</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Top element = %d \\n&quot;</span>, top(head));\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;\\n&quot;</span>);\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}\nHeap *<span class=\"hljs-title function_\">create_heap</span><span class=\"hljs-params\">(Heap *heap)</span>\n{\n    heap = (Heap *)<span class=\"hljs-built_in\">malloc</span>(<span class=\"hljs-keyword\">sizeof</span>(Heap));\n    heap-&gt;size = <span class=\"hljs-number\">1</span>;\n    heap-&gt;p = (<span class=\"hljs-type\">int</span> *)<span class=\"hljs-built_in\">malloc</span>(heap-&gt;size * <span class=\"hljs-keyword\">sizeof</span>(<span class=\"hljs-type\">int</span>));\n    heap-&gt;count = <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-keyword\">return</span> heap;\n}\n\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">down_heapify</span><span class=\"hljs-params\">(Heap *heap, <span class=\"hljs-type\">int</span> index)</span>\n{\n    <span class=\"hljs-keyword\">if</span> (index &gt;= heap-&gt;count)\n        <span class=\"hljs-keyword\">return</span>;\n    <span class=\"hljs-type\">int</span> left = index * <span class=\"hljs-number\">2</span> + <span class=\"hljs-number\">1</span>;\n    <span class=\"hljs-type\">int</span> right = index * <span class=\"hljs-number\">2</span> + <span class=\"hljs-number\">2</span>;\n    <span class=\"hljs-type\">int</span> leftflag = <span class=\"hljs-number\">0</span>, rightflag = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-type\">int</span> minimum = *((heap-&gt;p) + index);\n    <span class=\"hljs-keyword\">if</span> (left &lt; heap-&gt;count &amp;&amp; minimum &gt; *((heap-&gt;p) + left))\n    {\n        minimum = *((heap-&gt;p) + left);\n        leftflag = <span class=\"hljs-number\">1</span>;\n    }\n    <span class=\"hljs-keyword\">if</span> (right &lt; heap-&gt;count &amp;&amp; minimum &gt; *((heap-&gt;p) + right))\n    {\n        minimum = *((heap-&gt;p) + right);\n        leftflag = <span class=\"hljs-number\">0</span>;\n        rightflag = <span class=\"hljs-number\">1</span>;\n    }\n    <span class=\"hljs-keyword\">if</span> (leftflag)\n    {\n        *((heap-&gt;p) + left) = *((heap-&gt;p) + index);\n        *((heap-&gt;p) + index) = minimum;\n        down_heapify(heap, left);\n    }\n    <span class=\"hljs-keyword\">if</span> (rightflag)\n    {\n        *((heap-&gt;p) + right) = *((heap-&gt;p) + index);\n        *((heap-&gt;p) + index) = minimum;\n        down_heapify(heap, right);\n    }\n}\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">up_heapify</span><span class=\"hljs-params\">(Heap *heap, <span class=\"hljs-type\">int</span> index)</span>\n{\n    <span class=\"hljs-type\">int</span> parent = (index - <span class=\"hljs-number\">1</span>) / <span class=\"hljs-number\">2</span>;\n    <span class=\"hljs-keyword\">if</span> (parent &lt; <span class=\"hljs-number\">0</span>)\n        <span class=\"hljs-keyword\">return</span>;\n    <span class=\"hljs-keyword\">if</span> (*((heap-&gt;p) + index) &lt; *((heap-&gt;p) + parent))\n    {\n        <span class=\"hljs-type\">int</span> temp = *((heap-&gt;p) + index);\n        *((heap-&gt;p) + index) = *((heap-&gt;p) + parent);\n        *((heap-&gt;p) + parent) = temp;\n        up_heapify(heap, parent);\n    }\n}\n\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">push</span><span class=\"hljs-params\">(Heap *heap, <span class=\"hljs-type\">int</span> x)</span>\n{\n    <span class=\"hljs-keyword\">if</span> (heap-&gt;count &gt;= heap-&gt;size)\n        <span class=\"hljs-keyword\">return</span>;\n    *((heap-&gt;p) + heap-&gt;count) = x;\n    heap-&gt;count++;\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">4</span> * heap-&gt;count &gt;= <span class=\"hljs-number\">3</span> * heap-&gt;size)\n    {\n        heap-&gt;size *= <span class=\"hljs-number\">2</span>;\n        (heap-&gt;p) = (<span class=\"hljs-type\">int</span> *)<span class=\"hljs-built_in\">realloc</span>((heap-&gt;p), (heap-&gt;size) * <span class=\"hljs-keyword\">sizeof</span>(<span class=\"hljs-type\">int</span>));\n    }\n    up_heapify(heap, heap-&gt;count - <span class=\"hljs-number\">1</span>);\n}\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">pop</span><span class=\"hljs-params\">(Heap *heap)</span>\n{\n    <span class=\"hljs-keyword\">if</span> (heap-&gt;count == <span class=\"hljs-number\">0</span>)\n        <span class=\"hljs-keyword\">return</span>;\n    heap-&gt;count--;\n    <span class=\"hljs-type\">int</span> temp = *((heap-&gt;p) + heap-&gt;count);\n    *((heap-&gt;p) + heap-&gt;count) = *(heap-&gt;p);\n    *(heap-&gt;p) = temp;\n    down_heapify(heap, <span class=\"hljs-number\">0</span>);\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">4</span> * heap-&gt;count &lt;= heap-&gt;size)\n    {\n        heap-&gt;size /= <span class=\"hljs-number\">2</span>;\n        (heap-&gt;p) = (<span class=\"hljs-type\">int</span> *)<span class=\"hljs-built_in\">realloc</span>((heap-&gt;p), (heap-&gt;size) * <span class=\"hljs-keyword\">sizeof</span>(<span class=\"hljs-type\">int</span>));\n    }\n}\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">top</span><span class=\"hljs-params\">(Heap *heap)</span>\n{\n    <span class=\"hljs-keyword\">if</span> (heap-&gt;count != <span class=\"hljs-number\">0</span>)\n        <span class=\"hljs-keyword\">return</span> *(heap-&gt;p);\n    <span class=\"hljs-keyword\">else</span>\n        <span class=\"hljs-keyword\">return</span> INT_MIN;\n}\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">empty</span><span class=\"hljs-params\">(Heap *heap)</span>\n{\n    <span class=\"hljs-keyword\">if</span> (heap-&gt;count != <span class=\"hljs-number\">0</span>)\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-keyword\">else</span>\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">1</span>;\n}\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">size</span><span class=\"hljs-params\">(Heap *heap)</span> { <span class=\"hljs-keyword\">return</span> heap-&gt;count; }\n"
    },
    "dart": {
      "dir": "data_structures/Heap/Binary_Heap/Min_Heap.dart",
      "url": "https://github.com/TheAlgorithms/dart/tree/master/data_structures/Heap/Binary_Heap/Min_Heap.dart",
      "code": "<span class=\"hljs-comment\">//Author:Shawn</span>\n<span class=\"hljs-comment\">//Email:stepfencurryxiao@gmail.com</span>\n\n<span class=\"hljs-comment\">/*\n *         1\n *       /   \\\n *      2     3\n *     / \\   / \\\n *     5 4   6  7\n *    / \\\n *    8 9\n *  \n * Array:[1,2,3,5,4,6,7,8,9]\n * \n * rightchild : 2n + 2\n * leftcgild : 2n + 1\n*/</span>\n\n<span class=\"hljs-built_in\">List</span> upAdjust(<span class=\"hljs-built_in\">List</span> arr, <span class=\"hljs-built_in\">int</span> length) {\n  <span class=\"hljs-comment\">//Mark inserted nodes</span>\n  <span class=\"hljs-keyword\">var</span> child = length - <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-comment\">//Father nodes</span>\n  <span class=\"hljs-built_in\">int</span> parent = (child - <span class=\"hljs-number\">1</span>) ~/ <span class=\"hljs-number\">2</span>;\n  <span class=\"hljs-comment\">//Save the inserted node temporarily</span>\n  <span class=\"hljs-built_in\">int</span> temp = arr[child];\n\n  <span class=\"hljs-keyword\">while</span> (child &gt; <span class=\"hljs-number\">0</span> &amp;&amp; temp &lt; arr[parent]) {\n    <span class=\"hljs-comment\">//When temp finds the correct location, we will assign the value of temp to this node</span>\n    arr[child] = arr[parent];\n    child = parent;\n    parent = (child - <span class=\"hljs-number\">1</span>) ~/ <span class=\"hljs-number\">2</span>;\n  }\n  arr[child] = temp;\n  <span class=\"hljs-keyword\">return</span> arr;\n}\n\n<span class=\"hljs-comment\">/* *\n** Sink operation, delete operation is equivalent to\n** after an element is assigned to the root element, the sink  operation is performed on the root element\n* @param arr\n*@ param parent subscript of element to sink\n*@ param length array length\n*/</span>\n<span class=\"hljs-built_in\">List</span> downAdjust(<span class=\"hljs-built_in\">List</span> arr, <span class=\"hljs-built_in\">int</span> parent, <span class=\"hljs-built_in\">int</span> length) {\n  <span class=\"hljs-comment\">//Save elements to sink</span>\n  <span class=\"hljs-built_in\">int</span> temp = arr[parent];\n  <span class=\"hljs-comment\">//Locate left child node location</span>\n  <span class=\"hljs-built_in\">int</span> child = <span class=\"hljs-number\">2</span> * parent + <span class=\"hljs-number\">1</span>;\n  <span class=\"hljs-comment\">//Begin to sink</span>\n  <span class=\"hljs-keyword\">while</span> (child &lt; length) {\n    <span class=\"hljs-comment\">//If the right child node is smaller than the left child, locate the right child</span>\n    <span class=\"hljs-keyword\">if</span> (child + <span class=\"hljs-number\">1</span> &lt; length &amp;&amp; arr[child] &gt; arr[child + <span class=\"hljs-number\">1</span>]) {\n      child++;\n    }\n    <span class=\"hljs-comment\">//Sink ends if parent is smaller or equal to child</span>\n    <span class=\"hljs-keyword\">if</span> (temp &lt;= arr[child]) <span class=\"hljs-keyword\">break</span>;\n\n    arr[parent] = arr[child];\n    parent = child;\n    child = <span class=\"hljs-number\">2</span> * parent + <span class=\"hljs-number\">1</span>;\n  }\n  arr[parent] = temp;\n  <span class=\"hljs-keyword\">return</span> arr;\n}\n\n<span class=\"hljs-built_in\">List</span> buildHead(<span class=\"hljs-built_in\">List</span> arr, <span class=\"hljs-built_in\">int</span> length) {\n  <span class=\"hljs-comment\">//Sink from the last non leaf node</span>\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-built_in\">int</span> i = (length - <span class=\"hljs-number\">2</span>) ~/ <span class=\"hljs-number\">2</span>; i &gt;= <span class=\"hljs-number\">0</span>; i--) {\n    arr = downAdjust(arr, i, length);\n  }\n  <span class=\"hljs-keyword\">return</span> arr;\n}\n\n<span class=\"hljs-keyword\">void</span> main() {\n  <span class=\"hljs-built_in\">List</span> arr = [<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">6</span>, <span class=\"hljs-number\">7</span>, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">9</span>];\n  <span class=\"hljs-built_in\">List</span> BinaryHeap = buildHead(arr, arr.length);\n  <span class=\"hljs-built_in\">print</span>(BinaryHeap);\n}\n"
    }
  },
  "contributors": [
    {
      "name": "Kaustav Bhattacharya",
      "email": "kaustavbhattacharya07@gmail.com",
      "commits": 1
    },
    {
      "name": "Maria Lungeanu",
      "email": "Maria.Lungeanu@anritsu.com",
      "commits": 1
    },
    {
      "name": "khalil2535",
      "email": "khalil2535@localhost",
      "commits": 1
    },
    {
      "name": "Palash Sharma",
      "email": "54630543+palashsharma891@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Raj",
      "email": "raj1998211@gmail.com",
      "commits": 1
    },
    {
      "name": "Stepfen Shawn",
      "email": "m18824909883@163.com",
      "commits": 2
    },
    {
      "name": "stepfencurryxiao",
      "email": "stepfencurryxiao@gmail.com",
      "commits": 2
    },
    {
      "name": "zacharyjones123",
      "email": "zrjones@ncsu.edu",
      "commits": 2
    },
    {
      "name": "Nicolas Renard",
      "email": "nicolas.renard.76@outlook.fr",
      "commits": 2
    },
    {
      "name": "Christian Clauss",
      "email": "cclauss@me.com",
      "commits": 4
    },
    {
      "name": "Libin Yang",
      "email": "szuyanglb@outlook.com",
      "commits": 4
    }
  ],
  "explanationUrl": {}
}

{
  "slug": "connected-components",
  "name": "Connected Components",
  "categories": ["graphs"],
  "body": {},
  "implementations": {
    "python": {
      "dir": "graphs/connected_components.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/graphs/connected_components.py",
      "code": "<span class=\"hljs-string\">&quot;&quot;&quot;\nhttps://en.wikipedia.org/wiki/Component_(graph_theory)\n\nFinding connected components in graph\n\n&quot;&quot;&quot;</span>\n\ntest_graph_1 = {<span class=\"hljs-number\">0</span>: [<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>], <span class=\"hljs-number\">1</span>: [<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">3</span>], <span class=\"hljs-number\">2</span>: [<span class=\"hljs-number\">0</span>], <span class=\"hljs-number\">3</span>: [<span class=\"hljs-number\">1</span>], <span class=\"hljs-number\">4</span>: [<span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">6</span>], <span class=\"hljs-number\">5</span>: [<span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">6</span>], <span class=\"hljs-number\">6</span>: [<span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">5</span>]}\n\ntest_graph_2 = {<span class=\"hljs-number\">0</span>: [<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>], <span class=\"hljs-number\">1</span>: [<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">3</span>], <span class=\"hljs-number\">2</span>: [<span class=\"hljs-number\">0</span>], <span class=\"hljs-number\">3</span>: [<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>], <span class=\"hljs-number\">4</span>: [], <span class=\"hljs-number\">5</span>: []}\n\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">dfs</span>(<span class=\"hljs-params\">graph: <span class=\"hljs-built_in\">dict</span>, vert: <span class=\"hljs-built_in\">int</span>, visited: <span class=\"hljs-built_in\">list</span></span>) -&gt; <span class=\"hljs-built_in\">list</span>:\n    <span class=\"hljs-string\">&quot;&quot;&quot;\n    Use depth first search to find all vertices\n    being in the same component as initial vertex\n    &gt;&gt;&gt; dfs(test_graph_1, 0, 5 * [False])\n    [0, 1, 3, 2]\n    &gt;&gt;&gt; dfs(test_graph_2, 0, 6 * [False])\n    [0, 1, 3, 2]\n    &quot;&quot;&quot;</span>\n\n    visited[vert] = <span class=\"hljs-literal\">True</span>\n    connected_verts = []\n\n    <span class=\"hljs-keyword\">for</span> neighbour <span class=\"hljs-keyword\">in</span> graph[vert]:\n        <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> visited[neighbour]:\n            connected_verts += dfs(graph, neighbour, visited)\n\n    <span class=\"hljs-keyword\">return</span> [vert] + connected_verts\n\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">connected_components</span>(<span class=\"hljs-params\">graph: <span class=\"hljs-built_in\">dict</span></span>) -&gt; <span class=\"hljs-built_in\">list</span>:\n    <span class=\"hljs-string\">&quot;&quot;&quot;\n    This function takes graph as a parameter\n    and then returns the list of connected components\n    &gt;&gt;&gt; connected_components(test_graph_1)\n    [[0, 1, 3, 2], [4, 5, 6]]\n    &gt;&gt;&gt; connected_components(test_graph_2)\n    [[0, 1, 3, 2], [4], [5]]\n    &quot;&quot;&quot;</span>\n\n    graph_size = <span class=\"hljs-built_in\">len</span>(graph)\n    visited = graph_size * [<span class=\"hljs-literal\">False</span>]\n    components_list = []\n\n    <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(graph_size):\n        <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> visited[i]:\n            i_connected = dfs(graph, i, visited)\n            components_list.append(i_connected)\n\n    <span class=\"hljs-keyword\">return</span> components_list\n\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&quot;__main__&quot;</span>:\n    <span class=\"hljs-keyword\">import</span> doctest\n\n    doctest.testmod()\n"
    },
    "javascript": {
      "dir": "Graphs/ConnectedComponents.js",
      "url": "https://github.com/TheAlgorithms/javascript/tree/master/Graphs/ConnectedComponents.js",
      "code": "<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">GraphUnweightedUndirectedAdjacencyList</span> {\n  <span class=\"hljs-comment\">// Unweighted Undirected Graph class</span>\n  <span class=\"hljs-title function_\">constructor</span> () {\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">connections</span> = {}\n  }\n\n  addNode (node) {\n    <span class=\"hljs-comment\">// Function to add a node to the graph (connection represented by set)</span>\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">connections</span>[node] = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Set</span>()\n  }\n\n  addEdge (node1, node2) {\n    <span class=\"hljs-comment\">// Function to add an edge (adds the node too if they are not present in the graph)</span>\n    <span class=\"hljs-keyword\">if</span> (!(node1 <span class=\"hljs-keyword\">in</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">connections</span>)) { <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">addNode</span>(node1) }\n    <span class=\"hljs-keyword\">if</span> (!(node2 <span class=\"hljs-keyword\">in</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">connections</span>)) { <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">addNode</span>(node2) }\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">connections</span>[node1].<span class=\"hljs-title function_\">add</span>(node2)\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">connections</span>[node2].<span class=\"hljs-title function_\">add</span>(node1)\n  }\n\n  DFSComponent (components, node, visited) {\n    <span class=\"hljs-comment\">// Helper function to populate the visited set with the nodes in each component</span>\n\n    <span class=\"hljs-comment\">// adding the first visited node in the component to the array</span>\n    components.<span class=\"hljs-title function_\">push</span>(node)\n    <span class=\"hljs-keyword\">const</span> stack = [node]\n    <span class=\"hljs-comment\">// populating the visited set using DFS (Iterative)</span>\n    <span class=\"hljs-keyword\">while</span> (stack.<span class=\"hljs-property\">length</span> &gt; <span class=\"hljs-number\">0</span>) {\n      <span class=\"hljs-keyword\">const</span> curr = stack.<span class=\"hljs-title function_\">pop</span>()\n      visited.<span class=\"hljs-title function_\">add</span>(curr.<span class=\"hljs-title function_\">toString</span>())\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">const</span> neighbour <span class=\"hljs-keyword\">of</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">connections</span>[curr].<span class=\"hljs-title function_\">keys</span>()) {\n        <span class=\"hljs-keyword\">if</span> (!visited.<span class=\"hljs-title function_\">has</span>(neighbour.<span class=\"hljs-title function_\">toString</span>())) { stack.<span class=\"hljs-title function_\">push</span>(neighbour) }\n      }\n    }\n  }\n\n  connectedComponents () {\n    <span class=\"hljs-comment\">// Function to generate the Connected Components</span>\n    <span class=\"hljs-comment\">// Result is an array containing 1 node from each component</span>\n    <span class=\"hljs-keyword\">const</span> visited = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Set</span>()\n    <span class=\"hljs-keyword\">const</span> components = []\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">const</span> node <span class=\"hljs-keyword\">of</span> <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">keys</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">connections</span>)) {\n      <span class=\"hljs-keyword\">if</span> (!visited.<span class=\"hljs-title function_\">has</span>(node.<span class=\"hljs-title function_\">toString</span>())) { <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">DFSComponent</span>(components, node, visited) }\n    }\n    <span class=\"hljs-keyword\">return</span> components\n  }\n}\n\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">main</span> () {\n  <span class=\"hljs-keyword\">const</span> graph = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">GraphUnweightedUndirectedAdjacencyList</span>()\n  graph.<span class=\"hljs-title function_\">addEdge</span>(<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>) <span class=\"hljs-comment\">// Component 1</span>\n  graph.<span class=\"hljs-title function_\">addEdge</span>(<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>) <span class=\"hljs-comment\">// Component 2</span>\n  graph.<span class=\"hljs-title function_\">addEdge</span>(<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">5</span>) <span class=\"hljs-comment\">// Component 2</span>\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(graph.<span class=\"hljs-title function_\">connectedComponents</span>())\n}\n\n<span class=\"hljs-title function_\">main</span>()\n"
    },
    "c-plus-plus": {
      "dir": "graph/connected_components.cpp",
      "url": "https://github.com/TheAlgorithms/c-plus-plus/tree/master/graph/connected_components.cpp",
      "code": "<span class=\"hljs-comment\">/**\n *\n * \\file\n * \\brief [Graph Connected Components\n * (Connected Components)]\n * (https://en.wikipedia.org/wiki/Component_(graph_theory))\n *\n * \\author [Ayaan Khan](http://github.com/ayaankhan98)\n *\n * \\details\n * A graph is a collection of nodes also called vertices and these vertices\n * are connected by edges. A connected component in a graph refers to a set of\n * vertices which are reachable form one another.\n *\n * &lt;pre&gt;\n * Example - Here is graph with 3 connected components\n *\n *      1   4           5               8\n *     / \\ /           / \\             / \\\n *    2---3           6   7           9   10\n *\n *    first          second           third\n *    component      component        component\n * &lt;/pre&gt;\n *\n */</span>\n\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;algorithm&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;cassert&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;iostream&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;vector&gt;</span></span>\n\n<span class=\"hljs-comment\">/**\n * @namespace graph\n * @brief Graph Algorithms\n */</span>\n\n<span class=\"hljs-keyword\">namespace</span> graph {\n<span class=\"hljs-comment\">/**\n * @brief Function that add edge between two nodes or vertices of graph\n *\n * @param adj adjacency list of graph.\n * @param u any node or vertex of graph.\n * @param v any node or vertex of graph.\n */</span>\n<span class=\"hljs-function\"><span class=\"hljs-type\">void</span> <span class=\"hljs-title\">addEdge</span><span class=\"hljs-params\">(std::vector&lt;std::vector&lt;<span class=\"hljs-type\">int</span>&gt;&gt; *adj, <span class=\"hljs-type\">int</span> u, <span class=\"hljs-type\">int</span> v)</span> </span>{\n    (*adj)[u - <span class=\"hljs-number\">1</span>].<span class=\"hljs-built_in\">push_back</span>(v - <span class=\"hljs-number\">1</span>);\n    (*adj)[v - <span class=\"hljs-number\">1</span>].<span class=\"hljs-built_in\">push_back</span>(u - <span class=\"hljs-number\">1</span>);\n}\n\n<span class=\"hljs-comment\">/**\n * @brief Utility function for depth first seach algorithm\n * this function explores the vertex which is passed into.\n *\n * @param adj adjacency list of graph.\n * @param u vertex or node to be explored.\n * @param visited already visited vertices.\n */</span>\n<span class=\"hljs-function\"><span class=\"hljs-type\">void</span> <span class=\"hljs-title\">explore</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">const</span> std::vector&lt;std::vector&lt;<span class=\"hljs-type\">int</span>&gt;&gt; *adj, <span class=\"hljs-type\">int</span> u,\n             std::vector&lt;<span class=\"hljs-type\">bool</span>&gt; *visited)</span> </span>{\n    (*visited)[u] = <span class=\"hljs-literal\">true</span>;\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">auto</span> v : (*adj)[u]) {\n        <span class=\"hljs-keyword\">if</span> (!(*visited)[v]) {\n            <span class=\"hljs-built_in\">explore</span>(adj, v, visited);\n        }\n    }\n}\n\n<span class=\"hljs-comment\">/**\n * @brief Function that perfoms depth first search algorithm on graph\n * and calculated the number of connected components.\n *\n * @param adj adjacency list of graph.\n *\n * @return connected_components number of connected components in graph.\n */</span>\n<span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">getConnectedComponents</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">const</span> std::vector&lt;std::vector&lt;<span class=\"hljs-type\">int</span>&gt;&gt; *adj)</span> </span>{\n    <span class=\"hljs-type\">int</span> n = adj-&gt;<span class=\"hljs-built_in\">size</span>();\n    <span class=\"hljs-type\">int</span> connected_components = <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-function\">std::vector&lt;<span class=\"hljs-type\">bool</span>&gt; <span class=\"hljs-title\">visited</span><span class=\"hljs-params\">(n, <span class=\"hljs-literal\">false</span>)</span></span>;\n\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-type\">int</span> i = <span class=\"hljs-number\">0</span>; i &lt; n; i++) {\n        <span class=\"hljs-keyword\">if</span> (!visited[i]) {\n            <span class=\"hljs-built_in\">explore</span>(adj, i, &amp;visited);\n            connected_components++;\n        }\n    }\n    <span class=\"hljs-keyword\">return</span> connected_components;\n}\n}  <span class=\"hljs-comment\">// namespace graph</span>\n\n<span class=\"hljs-comment\">/** Function to test the algorithm */</span>\n<span class=\"hljs-function\"><span class=\"hljs-type\">void</span> <span class=\"hljs-title\">tests</span><span class=\"hljs-params\">()</span> </span>{\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Running predefined tests...&quot;</span> &lt;&lt; std::endl;\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Initiating Test 1...&quot;</span> &lt;&lt; std::endl;\n    std::vector&lt;std::vector&lt;<span class=\"hljs-type\">int</span>&gt;&gt; <span class=\"hljs-built_in\">adj1</span>(<span class=\"hljs-number\">9</span>, std::<span class=\"hljs-built_in\">vector</span>&lt;<span class=\"hljs-type\">int</span>&gt;());\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj1, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj1, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">3</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj1, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj1, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">7</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj1, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">6</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj1, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">9</span>);\n\n    <span class=\"hljs-built_in\">assert</span>(graph::<span class=\"hljs-built_in\">getConnectedComponents</span>(&amp;adj1) == <span class=\"hljs-number\">3</span>);\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Test 1 Passed...&quot;</span> &lt;&lt; std::endl;\n\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Innitiating Test 2...&quot;</span> &lt;&lt; std::endl;\n    std::vector&lt;std::vector&lt;<span class=\"hljs-type\">int</span>&gt;&gt; <span class=\"hljs-built_in\">adj2</span>(<span class=\"hljs-number\">10</span>, std::<span class=\"hljs-built_in\">vector</span>&lt;<span class=\"hljs-type\">int</span>&gt;());\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj2, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj2, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">3</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj2, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">4</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj2, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj2, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj2, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">8</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj2, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">10</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj2, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">10</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj2, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">9</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj2, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">7</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj2, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">6</span>);\n    graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj2, <span class=\"hljs-number\">6</span>, <span class=\"hljs-number\">7</span>);\n\n    <span class=\"hljs-built_in\">assert</span>(graph::<span class=\"hljs-built_in\">getConnectedComponents</span>(&amp;adj2) == <span class=\"hljs-number\">2</span>);\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Test 2 Passed...&quot;</span> &lt;&lt; std::endl;\n}\n\n<span class=\"hljs-comment\">/** Main function */</span>\n<span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span> </span>{\n    <span class=\"hljs-comment\">/// running predefined tests</span>\n    <span class=\"hljs-built_in\">tests</span>();\n\n    <span class=\"hljs-type\">int</span> vertices = <span class=\"hljs-built_in\">int</span>(), edges = <span class=\"hljs-built_in\">int</span>();\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Enter the number of vertices : &quot;</span>;\n    std::cin &gt;&gt; vertices;\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Enter the number of edges : &quot;</span>;\n    std::cin &gt;&gt; edges;\n\n    std::vector&lt;std::vector&lt;<span class=\"hljs-type\">int</span>&gt;&gt; <span class=\"hljs-built_in\">adj</span>(vertices, std::<span class=\"hljs-built_in\">vector</span>&lt;<span class=\"hljs-type\">int</span>&gt;());\n\n    <span class=\"hljs-type\">int</span> u = <span class=\"hljs-built_in\">int</span>(), v = <span class=\"hljs-built_in\">int</span>();\n    <span class=\"hljs-keyword\">while</span> (edges--) {\n        std::cin &gt;&gt; u &gt;&gt; v;\n        graph::<span class=\"hljs-built_in\">addEdge</span>(&amp;adj, u, v);\n    }\n\n    <span class=\"hljs-type\">int</span> cc = graph::<span class=\"hljs-built_in\">getConnectedComponents</span>(&amp;adj);\n    std::cout &lt;&lt; cc &lt;&lt; std::endl;\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}\n"
    }
  },
  "contributors": [
    {
      "name": "Christian Clauss",
      "email": "cclauss@me.com",
      "commits": 1
    },
    {
      "name": "vinayak",
      "email": "itssvinayak@gmail.com",
      "commits": 1
    },
    {
      "name": "Krishna Vedala",
      "email": "7001608+kvedala@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Filip Hlasek",
      "email": "fhlasek@gmail.com",
      "commits": 1
    },
    {
      "name": "Nika Losaberidze",
      "email": "nlosa16@freeuni.edu.ge",
      "commits": 1
    },
    {
      "name": "Tapajyoti Bose",
      "email": "44058757+ruppysuppy@users.noreply.github.com",
      "commits": 2
    },
    {
      "name": "Ayaan Khan",
      "email": "ayaankhan98@gmail.com",
      "commits": 11
    }
  ],
  "explanationUrl": {}
}

{
  "slug": "nysiis",
  "name": "NYSIIS",
  "categories": ["datastructures", "linkedlist"],
  "body": {},
  "implementations": {
    "c-sharp": {
      "dir": "Algorithms/Encoders/NysiisEncoder.cs",
      "url": "https://github.com/TheAlgorithms/C-Sharp/blob/master/Algorithms/Encoders/NysiisEncoder.cs",
      "code": "<span class=\"hljs-keyword\">using</span> System.Globalization;\n<span class=\"hljs-keyword\">using</span> System.Linq;\n<span class=\"hljs-keyword\">using</span> System.Text;\n\n<span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-title\">Algorithms.Encoders</span>\n{\n    <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;summary&gt;</span></span>\n    <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span>     Class for NYSIIS encoding strings.</span>\n    <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;/summary&gt;</span></span>\n    <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">NysiisEncoder</span>\n    {\n        <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">static</span> <span class=\"hljs-keyword\">readonly</span> <span class=\"hljs-built_in\">char</span>[] Vowels = { <span class=\"hljs-string\">&#x27;A&#x27;</span>, <span class=\"hljs-string\">&#x27;E&#x27;</span>, <span class=\"hljs-string\">&#x27;I&#x27;</span>, <span class=\"hljs-string\">&#x27;O&#x27;</span>, <span class=\"hljs-string\">&#x27;U&#x27;</span> };\n\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;summary&gt;</span></span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span>     Encodes a string using the NYSIIS Algorithm.</span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;/summary&gt;</span></span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;param name=&quot;text&quot;&gt;</span>The string to encode.<span class=\"hljs-doctag\">&lt;/param&gt;</span></span>\n        <span class=\"hljs-comment\"><span class=\"hljs-doctag\">///</span> <span class=\"hljs-doctag\">&lt;returns&gt;</span>The NYSIIS encoded string (all uppercase).<span class=\"hljs-doctag\">&lt;/returns&gt;</span></span>\n        <span class=\"hljs-function\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-built_in\">string</span> <span class=\"hljs-title\">Encode</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">string</span> text</span>)</span>\n        {\n            text = text.ToUpper(CultureInfo.CurrentCulture);\n            text = TrimSpaces(text);\n            text = StartReplace(text);\n            text = EndReplace(text);\n\n            <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">1</span>; i &lt; text.Length; i++)\n            {\n                text = ReplaceStep(text, i);\n            }\n\n            text = RemoveDuplicates(text);\n            <span class=\"hljs-keyword\">return</span> TrimEnd(text);\n        }\n\n        <span class=\"hljs-function\"><span class=\"hljs-keyword\">private</span> <span class=\"hljs-built_in\">string</span> <span class=\"hljs-title\">TrimSpaces</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">string</span> text</span>)</span> =&gt; text.Replace(<span class=\"hljs-string\">&quot; &quot;</span>, <span class=\"hljs-built_in\">string</span>.Empty);\n\n        <span class=\"hljs-function\"><span class=\"hljs-keyword\">private</span> <span class=\"hljs-built_in\">string</span> <span class=\"hljs-title\">RemoveDuplicates</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">string</span> text</span>)</span>\n        {\n            <span class=\"hljs-keyword\">var</span> sb = <span class=\"hljs-keyword\">new</span> StringBuilder();\n            sb.Append(text[<span class=\"hljs-number\">0</span>]);\n            <span class=\"hljs-keyword\">foreach</span> (<span class=\"hljs-keyword\">var</span> c <span class=\"hljs-keyword\">in</span> text)\n            {\n                <span class=\"hljs-keyword\">if</span> (sb[^<span class=\"hljs-number\">1</span>] != c)\n                {\n                    sb.Append(c);\n                }\n            }\n\n            <span class=\"hljs-keyword\">return</span> sb.ToString();\n        }\n\n        <span class=\"hljs-function\"><span class=\"hljs-keyword\">private</span> <span class=\"hljs-built_in\">string</span> <span class=\"hljs-title\">TrimEnd</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">string</span> text</span>)</span>\n        {\n            <span class=\"hljs-keyword\">var</span> checks = <span class=\"hljs-keyword\">new</span> (<span class=\"hljs-built_in\">string</span> <span class=\"hljs-keyword\">from</span>, <span class=\"hljs-built_in\">string</span> to)?[]\n            {\n                (<span class=\"hljs-string\">&quot;S&quot;</span>, <span class=\"hljs-built_in\">string</span>.Empty),\n                (<span class=\"hljs-string\">&quot;AY&quot;</span>, <span class=\"hljs-string\">&quot;Y&quot;</span>),\n                (<span class=\"hljs-string\">&quot;A&quot;</span>, <span class=\"hljs-built_in\">string</span>.Empty),\n            };\n            <span class=\"hljs-keyword\">var</span> replacement = checks.FirstOrDefault(t =&gt; text.EndsWith(t!.Value.<span class=\"hljs-keyword\">from</span>));\n            <span class=\"hljs-keyword\">if</span> (replacement <span class=\"hljs-keyword\">is</span> { })\n            {\n                <span class=\"hljs-keyword\">var</span> (<span class=\"hljs-keyword\">from</span>, to) = replacement!.Value;\n                text = Replace(text, text.Length - <span class=\"hljs-keyword\">from</span>.Length, <span class=\"hljs-keyword\">from</span>.Length, to);\n            }\n\n            <span class=\"hljs-keyword\">return</span> text;\n        }\n\n        <span class=\"hljs-function\"><span class=\"hljs-keyword\">private</span> <span class=\"hljs-built_in\">string</span> <span class=\"hljs-title\">ReplaceStep</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">string</span> text, <span class=\"hljs-built_in\">int</span> i</span>)</span>\n        {\n            (<span class=\"hljs-built_in\">string</span> <span class=\"hljs-keyword\">from</span>, <span class=\"hljs-built_in\">string</span> to)[] replacements =\n            {\n                (<span class=\"hljs-string\">&quot;EV&quot;</span>, <span class=\"hljs-string\">&quot;AF&quot;</span>),\n                (<span class=\"hljs-string\">&quot;E&quot;</span>, <span class=\"hljs-string\">&quot;A&quot;</span>),\n                (<span class=\"hljs-string\">&quot;I&quot;</span>, <span class=\"hljs-string\">&quot;A&quot;</span>),\n                (<span class=\"hljs-string\">&quot;O&quot;</span>, <span class=\"hljs-string\">&quot;A&quot;</span>),\n                (<span class=\"hljs-string\">&quot;U&quot;</span>, <span class=\"hljs-string\">&quot;A&quot;</span>),\n                (<span class=\"hljs-string\">&quot;Q&quot;</span>, <span class=\"hljs-string\">&quot;G&quot;</span>),\n                (<span class=\"hljs-string\">&quot;Z&quot;</span>, <span class=\"hljs-string\">&quot;S&quot;</span>),\n                (<span class=\"hljs-string\">&quot;M&quot;</span>, <span class=\"hljs-string\">&quot;N&quot;</span>),\n                (<span class=\"hljs-string\">&quot;KN&quot;</span>, <span class=\"hljs-string\">&quot;NN&quot;</span>),\n                (<span class=\"hljs-string\">&quot;K&quot;</span>, <span class=\"hljs-string\">&quot;C&quot;</span>),\n                (<span class=\"hljs-string\">&quot;SCH&quot;</span>, <span class=\"hljs-string\">&quot;SSS&quot;</span>),\n                (<span class=\"hljs-string\">&quot;PH&quot;</span>, <span class=\"hljs-string\">&quot;FF&quot;</span>),\n            };\n            <span class=\"hljs-keyword\">var</span> replaced = TryReplace(text, i, replacements, <span class=\"hljs-keyword\">out</span> text);\n            <span class=\"hljs-keyword\">if</span> (replaced)\n            {\n                <span class=\"hljs-keyword\">return</span> text;\n            }\n\n            <span class=\"hljs-comment\">// H[vowel] or [vowel]H -&gt; text[i-1]</span>\n            <span class=\"hljs-keyword\">if</span> (text[i] == <span class=\"hljs-string\">&#x27;H&#x27;</span>)\n            {\n                <span class=\"hljs-keyword\">if</span> (!Vowels.Contains(text[i - <span class=\"hljs-number\">1</span>]))\n                {\n                    <span class=\"hljs-keyword\">return</span> ReplaceWithPrevious();\n                }\n\n                <span class=\"hljs-keyword\">if</span> (i &lt; text.Length - <span class=\"hljs-number\">1</span> &amp;&amp; !Vowels.Contains(text[i + <span class=\"hljs-number\">1</span>]))\n                {\n                    <span class=\"hljs-keyword\">return</span> ReplaceWithPrevious();\n                }\n            }\n\n            <span class=\"hljs-comment\">// [vowel]W -&gt; [vowel]</span>\n            <span class=\"hljs-keyword\">if</span> (text[i] == <span class=\"hljs-string\">&#x27;W&#x27;</span> &amp;&amp; Vowels.Contains(text[i - <span class=\"hljs-number\">1</span>]))\n            {\n                <span class=\"hljs-keyword\">return</span> ReplaceWithPrevious();\n            }\n\n            <span class=\"hljs-keyword\">return</span> text;\n\n            <span class=\"hljs-function\"><span class=\"hljs-built_in\">string</span> <span class=\"hljs-title\">ReplaceWithPrevious</span>(<span class=\"hljs-params\"></span>)</span> =&gt; Replace(text, i, <span class=\"hljs-number\">1</span>, text[i - <span class=\"hljs-number\">1</span>].ToString());\n        }\n\n        <span class=\"hljs-function\"><span class=\"hljs-keyword\">private</span> <span class=\"hljs-built_in\">bool</span> <span class=\"hljs-title\">TryReplace</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">string</span> text, <span class=\"hljs-built_in\">int</span> index, (<span class=\"hljs-built_in\">string</span>, <span class=\"hljs-built_in\">string</span></span>)[] opts, <span class=\"hljs-keyword\">out</span> <span class=\"hljs-built_in\">string</span> result)</span>\n        {\n            <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> i = <span class=\"hljs-number\">0</span>; i &lt; opts.Length; i++)\n            {\n                <span class=\"hljs-keyword\">var</span> check = opts[i].Item1;\n                <span class=\"hljs-keyword\">var</span> repl = opts[i].Item2;\n                <span class=\"hljs-keyword\">if</span> (text.Length &gt;= index + check.Length &amp;&amp; text.Substring(index, check.Length) == check)\n                {\n                    result = Replace(text, index, check.Length, repl);\n                    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>;\n                }\n            }\n\n            result = text;\n            <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;\n        }\n\n        <span class=\"hljs-function\"><span class=\"hljs-keyword\">private</span> <span class=\"hljs-built_in\">string</span> <span class=\"hljs-title\">StartReplace</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">string</span> start</span>)</span>\n        {\n            <span class=\"hljs-keyword\">var</span> checks = <span class=\"hljs-keyword\">new</span> (<span class=\"hljs-built_in\">string</span> <span class=\"hljs-keyword\">from</span>, <span class=\"hljs-built_in\">string</span> to)?[]\n            {\n                (<span class=\"hljs-string\">&quot;MAC&quot;</span>, <span class=\"hljs-string\">&quot;MCC&quot;</span>),\n                (<span class=\"hljs-string\">&quot;KN&quot;</span>, <span class=\"hljs-string\">&quot;NN&quot;</span>),\n                (<span class=\"hljs-string\">&quot;K&quot;</span>, <span class=\"hljs-string\">&quot;C&quot;</span>),\n                (<span class=\"hljs-string\">&quot;PH&quot;</span>, <span class=\"hljs-string\">&quot;FF&quot;</span>),\n                (<span class=\"hljs-string\">&quot;PF&quot;</span>, <span class=\"hljs-string\">&quot;FF&quot;</span>),\n                (<span class=\"hljs-string\">&quot;SCH&quot;</span>, <span class=\"hljs-string\">&quot;SSS&quot;</span>),\n            };\n            <span class=\"hljs-keyword\">var</span> replacement = checks.FirstOrDefault(t =&gt; start.StartsWith(t!.Value.<span class=\"hljs-keyword\">from</span>));\n            <span class=\"hljs-keyword\">if</span> (replacement <span class=\"hljs-keyword\">is</span> { })\n            {\n                <span class=\"hljs-keyword\">var</span> (<span class=\"hljs-keyword\">from</span>, to) = replacement!.Value;\n                start = Replace(start, <span class=\"hljs-number\">0</span>, <span class=\"hljs-keyword\">from</span>.Length, to);\n            }\n\n            <span class=\"hljs-keyword\">return</span> start;\n        }\n\n        <span class=\"hljs-function\"><span class=\"hljs-keyword\">private</span> <span class=\"hljs-built_in\">string</span> <span class=\"hljs-title\">EndReplace</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">string</span> end</span>)</span>\n        {\n            <span class=\"hljs-keyword\">var</span> checks = <span class=\"hljs-keyword\">new</span> (<span class=\"hljs-built_in\">string</span> <span class=\"hljs-keyword\">from</span>, <span class=\"hljs-built_in\">string</span> to)?[]\n            {\n                (<span class=\"hljs-string\">&quot;EE&quot;</span>, <span class=\"hljs-string\">&quot;Y&quot;</span>),\n                (<span class=\"hljs-string\">&quot;IE&quot;</span>, <span class=\"hljs-string\">&quot;Y&quot;</span>),\n                (<span class=\"hljs-string\">&quot;DT&quot;</span>, <span class=\"hljs-string\">&quot;D&quot;</span>),\n                (<span class=\"hljs-string\">&quot;RT&quot;</span>, <span class=\"hljs-string\">&quot;D&quot;</span>),\n                (<span class=\"hljs-string\">&quot;NT&quot;</span>, <span class=\"hljs-string\">&quot;D&quot;</span>),\n                (<span class=\"hljs-string\">&quot;ND&quot;</span>, <span class=\"hljs-string\">&quot;D&quot;</span>),\n            };\n            <span class=\"hljs-keyword\">var</span> replacement = checks.FirstOrDefault(t =&gt; end.EndsWith(t!.Value.<span class=\"hljs-keyword\">from</span>));\n            <span class=\"hljs-keyword\">if</span> (replacement <span class=\"hljs-keyword\">is</span> { })\n            {\n                <span class=\"hljs-keyword\">var</span> (<span class=\"hljs-keyword\">from</span>, to) = replacement!.Value;\n                end = Replace(end, end.Length - <span class=\"hljs-keyword\">from</span>.Length, <span class=\"hljs-keyword\">from</span>.Length, to);\n            }\n\n            <span class=\"hljs-keyword\">return</span> end;\n        }\n\n        <span class=\"hljs-function\"><span class=\"hljs-keyword\">private</span> <span class=\"hljs-built_in\">string</span> <span class=\"hljs-title\">Replace</span>(<span class=\"hljs-params\"><span class=\"hljs-built_in\">string</span> text, <span class=\"hljs-built_in\">int</span> index, <span class=\"hljs-built_in\">int</span> length, <span class=\"hljs-built_in\">string</span> substitute</span>)</span> =&gt;\n            text[..index] + substitute + text[(index + length) ..];\n    }\n}\n"
    }
  },
  "contributors": [],
  "explanationUrl": {}
}

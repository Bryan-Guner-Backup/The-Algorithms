{
  "slug": "max-heap",
  "name": "Max Heap",
  "categories": ["datastructures", "heap"],
  "body": {},
  "implementations": {
    "python": {
      "dir": "data_structures/heap/max_heap.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/data_structures/heap/max_heap.py",
      "code": "<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BinaryHeap</span>:\n    <span class=\"hljs-string\">&quot;&quot;&quot;\n    A max-heap implementation in Python\n    &gt;&gt;&gt; binary_heap = BinaryHeap()\n    &gt;&gt;&gt; binary_heap.insert(6)\n    &gt;&gt;&gt; binary_heap.insert(10)\n    &gt;&gt;&gt; binary_heap.insert(15)\n    &gt;&gt;&gt; binary_heap.insert(12)\n    &gt;&gt;&gt; binary_heap.pop()\n    15\n    &gt;&gt;&gt; binary_heap.pop()\n    12\n    &gt;&gt;&gt; binary_heap.get_list\n    [10, 6]\n    &gt;&gt;&gt; len(binary_heap)\n    2\n    &quot;&quot;&quot;</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        self.__heap = [<span class=\"hljs-number\">0</span>]\n        self.__size = <span class=\"hljs-number\">0</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__swap_up</span>(<span class=\"hljs-params\">self, i: <span class=\"hljs-built_in\">int</span></span>) -&gt; <span class=\"hljs-literal\">None</span>:\n        <span class=\"hljs-string\">&quot;&quot;&quot;Swap the element up&quot;&quot;&quot;</span>\n        temporary = self.__heap[i]\n        <span class=\"hljs-keyword\">while</span> i // <span class=\"hljs-number\">2</span> &gt; <span class=\"hljs-number\">0</span>:\n            <span class=\"hljs-keyword\">if</span> self.__heap[i] &gt; self.__heap[i // <span class=\"hljs-number\">2</span>]:\n                self.__heap[i] = self.__heap[i // <span class=\"hljs-number\">2</span>]\n                self.__heap[i // <span class=\"hljs-number\">2</span>] = temporary\n            i //= <span class=\"hljs-number\">2</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">insert</span>(<span class=\"hljs-params\">self, value: <span class=\"hljs-built_in\">int</span></span>) -&gt; <span class=\"hljs-literal\">None</span>:\n        <span class=\"hljs-string\">&quot;&quot;&quot;Insert new element&quot;&quot;&quot;</span>\n        self.__heap.append(value)\n        self.__size += <span class=\"hljs-number\">1</span>\n        self.__swap_up(self.__size)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__swap_down</span>(<span class=\"hljs-params\">self, i: <span class=\"hljs-built_in\">int</span></span>) -&gt; <span class=\"hljs-literal\">None</span>:\n        <span class=\"hljs-string\">&quot;&quot;&quot;Swap the element down&quot;&quot;&quot;</span>\n        <span class=\"hljs-keyword\">while</span> self.__size &gt;= <span class=\"hljs-number\">2</span> * i:\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-number\">2</span> * i + <span class=\"hljs-number\">1</span> &gt; self.__size:\n                bigger_child = <span class=\"hljs-number\">2</span> * i\n            <span class=\"hljs-keyword\">else</span>:\n                <span class=\"hljs-keyword\">if</span> self.__heap[<span class=\"hljs-number\">2</span> * i] &gt; self.__heap[<span class=\"hljs-number\">2</span> * i + <span class=\"hljs-number\">1</span>]:\n                    bigger_child = <span class=\"hljs-number\">2</span> * i\n                <span class=\"hljs-keyword\">else</span>:\n                    bigger_child = <span class=\"hljs-number\">2</span> * i + <span class=\"hljs-number\">1</span>\n            temporary = self.__heap[i]\n            <span class=\"hljs-keyword\">if</span> self.__heap[i] &lt; self.__heap[bigger_child]:\n                self.__heap[i] = self.__heap[bigger_child]\n                self.__heap[bigger_child] = temporary\n            i = bigger_child\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">pop</span>(<span class=\"hljs-params\">self</span>) -&gt; <span class=\"hljs-built_in\">int</span>:\n        <span class=\"hljs-string\">&quot;&quot;&quot;Pop the root element&quot;&quot;&quot;</span>\n        max_value = self.__heap[<span class=\"hljs-number\">1</span>]\n        self.__heap[<span class=\"hljs-number\">1</span>] = self.__heap[self.__size]\n        self.__size -= <span class=\"hljs-number\">1</span>\n        self.__heap.pop()\n        self.__swap_down(<span class=\"hljs-number\">1</span>)\n        <span class=\"hljs-keyword\">return</span> max_value\n\n<span class=\"hljs-meta\">    @property</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">get_list</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-keyword\">return</span> self.__heap[<span class=\"hljs-number\">1</span>:]\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__len__</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-string\">&quot;&quot;&quot;Length of the array&quot;&quot;&quot;</span>\n        <span class=\"hljs-keyword\">return</span> self.__size\n\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&quot;__main__&quot;</span>:\n    <span class=\"hljs-keyword\">import</span> doctest\n\n    doctest.testmod()\n    <span class=\"hljs-comment\"># create an instance of BinaryHeap</span>\n    binary_heap = BinaryHeap()\n    binary_heap.insert(<span class=\"hljs-number\">6</span>)\n    binary_heap.insert(<span class=\"hljs-number\">10</span>)\n    binary_heap.insert(<span class=\"hljs-number\">15</span>)\n    binary_heap.insert(<span class=\"hljs-number\">12</span>)\n    <span class=\"hljs-comment\"># pop root(max-values because it is max heap)</span>\n    <span class=\"hljs-built_in\">print</span>(binary_heap.pop())  <span class=\"hljs-comment\"># 15</span>\n    <span class=\"hljs-built_in\">print</span>(binary_heap.pop())  <span class=\"hljs-comment\"># 12</span>\n    <span class=\"hljs-comment\"># get the list and size after operations</span>\n    <span class=\"hljs-built_in\">print</span>(binary_heap.get_list)\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-built_in\">len</span>(binary_heap))\n"
    },
    "javascript": {
      "dir": "Data-Structures/Heap/MaxHeap.js",
      "url": "https://github.com/TheAlgorithms/javascript/tree/master/Data-Structures/Heap/MaxHeap.js",
      "code": "<span class=\"hljs-comment\">/**\n * Author: Samarth Jain\n * Max Heap implementation in Javascript\n */</span>\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">BinaryHeap</span> {\n  <span class=\"hljs-title function_\">constructor</span> () {\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span> = []\n  }\n\n  insert (value) {\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>.<span class=\"hljs-title function_\">push</span>(value)\n    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">heapify</span>()\n  }\n\n  size () {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>.<span class=\"hljs-property\">length</span>\n  }\n\n  empty () {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">size</span>() === <span class=\"hljs-number\">0</span>\n  }\n\n  <span class=\"hljs-comment\">// using iterative approach to reorder the heap after insertion</span>\n  heapify () {\n    <span class=\"hljs-keyword\">let</span> index = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">size</span>() - <span class=\"hljs-number\">1</span>\n\n    <span class=\"hljs-keyword\">while</span> (index &gt; <span class=\"hljs-number\">0</span>) {\n      <span class=\"hljs-keyword\">const</span> element = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>[index]\n      <span class=\"hljs-keyword\">const</span> parentIndex = <span class=\"hljs-title class_\">Math</span>.<span class=\"hljs-title function_\">floor</span>((index - <span class=\"hljs-number\">1</span>) / <span class=\"hljs-number\">2</span>)\n      <span class=\"hljs-keyword\">const</span> parent = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>[parentIndex]\n\n      <span class=\"hljs-keyword\">if</span> (parent[<span class=\"hljs-number\">0</span>] &gt;= element[<span class=\"hljs-number\">0</span>]) <span class=\"hljs-keyword\">break</span>\n      <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>[index] = parent\n      <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>[parentIndex] = element\n      index = parentIndex\n    }\n  }\n\n  <span class=\"hljs-comment\">// Extracting the maximum element from the Heap</span>\n  extractMax () {\n    <span class=\"hljs-keyword\">const</span> max = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>[<span class=\"hljs-number\">0</span>]\n    <span class=\"hljs-keyword\">const</span> tmp = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>.<span class=\"hljs-title function_\">pop</span>()\n    <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">empty</span>()) {\n      <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>[<span class=\"hljs-number\">0</span>] = tmp\n      <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">sinkDown</span>(<span class=\"hljs-number\">0</span>)\n    }\n    <span class=\"hljs-keyword\">return</span> max\n  }\n\n  <span class=\"hljs-comment\">// To restore the balance of the heap after extraction.</span>\n  sinkDown (index) {\n    <span class=\"hljs-keyword\">const</span> left = <span class=\"hljs-number\">2</span> * index + <span class=\"hljs-number\">1</span>\n    <span class=\"hljs-keyword\">const</span> right = <span class=\"hljs-number\">2</span> * index + <span class=\"hljs-number\">2</span>\n    <span class=\"hljs-keyword\">let</span> largest = index\n    <span class=\"hljs-keyword\">const</span> length = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">size</span>()\n\n    <span class=\"hljs-keyword\">if</span> (left &lt; length &amp;&amp; <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>[left][<span class=\"hljs-number\">0</span>] &gt; <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>[largest][<span class=\"hljs-number\">0</span>]) {\n      largest = left\n    }\n    <span class=\"hljs-keyword\">if</span> (right &lt; length &amp;&amp; <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>[right][<span class=\"hljs-number\">0</span>] &gt; <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>[largest][<span class=\"hljs-number\">0</span>]) {\n      largest = right\n    }\n    <span class=\"hljs-comment\">// swap</span>\n    <span class=\"hljs-keyword\">if</span> (largest !== index) {\n      <span class=\"hljs-keyword\">const</span> tmp = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>[largest]\n      <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>[largest] = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>[index]\n      <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">heap</span>[index] = tmp\n      <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">sinkDown</span>(largest)\n    }\n  }\n}\n\n<span class=\"hljs-keyword\">const</span> maxHeap = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">BinaryHeap</span>()\nmaxHeap.<span class=\"hljs-title function_\">insert</span>([<span class=\"hljs-number\">4</span>])\nmaxHeap.<span class=\"hljs-title function_\">insert</span>([<span class=\"hljs-number\">3</span>])\nmaxHeap.<span class=\"hljs-title function_\">insert</span>([<span class=\"hljs-number\">6</span>])\nmaxHeap.<span class=\"hljs-title function_\">insert</span>([<span class=\"hljs-number\">1</span>])\nmaxHeap.<span class=\"hljs-title function_\">insert</span>([<span class=\"hljs-number\">8</span>])\nmaxHeap.<span class=\"hljs-title function_\">insert</span>([<span class=\"hljs-number\">2</span>])\n\n<span class=\"hljs-keyword\">while</span> (!maxHeap.<span class=\"hljs-title function_\">empty</span>()) {\n  <span class=\"hljs-keyword\">const</span> mx = maxHeap.<span class=\"hljs-title function_\">extractMax</span>()\n  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(mx)\n}\n"
    },
    "java": {
      "dir": "DataStructures/Heaps/MaxHeap.java",
      "url": "https://github.com/TheAlgorithms/java/tree/master/DataStructures/Heaps/MaxHeap.java",
      "code": "<span class=\"hljs-keyword\">package</span> DataStructures.Heaps;\n\n<span class=\"hljs-keyword\">import</span> java.util.ArrayList;\n<span class=\"hljs-keyword\">import</span> java.util.List;\n\n<span class=\"hljs-comment\">/**\n * Heap tree where a node&#x27;s key is higher than or equal to its parent&#x27;s and lower than or equal to\n * its children&#x27;s.\n *\n * <span class=\"hljs-doctag\">@author</span> Nicolas Renard\n */</span>\n<span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">MaxHeap</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">Heap</span> {\n\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">final</span> List&lt;HeapElement&gt; maxHeap;\n\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-title function_\">MaxHeap</span><span class=\"hljs-params\">(List&lt;HeapElement&gt; listElements)</span> {\n    maxHeap = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">ArrayList</span>&lt;&gt;();\n    <span class=\"hljs-keyword\">for</span> (HeapElement heapElement : listElements) {\n      <span class=\"hljs-keyword\">if</span> (heapElement != <span class=\"hljs-literal\">null</span>) insertElement(heapElement);\n      <span class=\"hljs-keyword\">else</span> System.out.println(<span class=\"hljs-string\">&quot;Null element. Not added to heap&quot;</span>);\n    }\n    <span class=\"hljs-keyword\">if</span> (maxHeap.size() == <span class=\"hljs-number\">0</span>) System.out.println(<span class=\"hljs-string\">&quot;No element has been added, empty heap.&quot;</span>);\n  }\n\n  <span class=\"hljs-comment\">/**\n   * Get the element at a given index. The key for the list is equal to index value - 1\n   *\n   * <span class=\"hljs-doctag\">@param</span> elementIndex index\n   * <span class=\"hljs-doctag\">@return</span> heapElement\n   */</span>\n  <span class=\"hljs-keyword\">public</span> HeapElement <span class=\"hljs-title function_\">getElement</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> elementIndex)</span> {\n    <span class=\"hljs-keyword\">if</span> ((elementIndex &lt;= <span class=\"hljs-number\">0</span>) || (elementIndex &gt; maxHeap.size()))\n      <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">IndexOutOfBoundsException</span>(<span class=\"hljs-string\">&quot;Index out of heap range&quot;</span>);\n    <span class=\"hljs-keyword\">return</span> maxHeap.get(elementIndex - <span class=\"hljs-number\">1</span>);\n  }\n\n  <span class=\"hljs-comment\">// Get the key of the element at a given index</span>\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-type\">double</span> <span class=\"hljs-title function_\">getElementKey</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> elementIndex)</span> {\n    <span class=\"hljs-keyword\">return</span> maxHeap.get(elementIndex - <span class=\"hljs-number\">1</span>).getKey();\n  }\n\n  <span class=\"hljs-comment\">// Swaps two elements in the heap</span>\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">swap</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> index1, <span class=\"hljs-type\">int</span> index2)</span> {\n    <span class=\"hljs-type\">HeapElement</span> <span class=\"hljs-variable\">temporaryElement</span> <span class=\"hljs-operator\">=</span> maxHeap.get(index1 - <span class=\"hljs-number\">1</span>);\n    maxHeap.set(index1 - <span class=\"hljs-number\">1</span>, maxHeap.get(index2 - <span class=\"hljs-number\">1</span>));\n    maxHeap.set(index2 - <span class=\"hljs-number\">1</span>, temporaryElement);\n  }\n\n  <span class=\"hljs-comment\">// Toggle an element up to its right place as long as its key is lower than its parent&#x27;s</span>\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">toggleUp</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> elementIndex)</span> {\n    <span class=\"hljs-type\">double</span> <span class=\"hljs-variable\">key</span> <span class=\"hljs-operator\">=</span> maxHeap.get(elementIndex - <span class=\"hljs-number\">1</span>).getKey();\n    <span class=\"hljs-keyword\">while</span> (getElementKey((<span class=\"hljs-type\">int</span>) Math.floor(elementIndex / <span class=\"hljs-number\">2.0</span>)) &lt; key) {\n      swap(elementIndex, (<span class=\"hljs-type\">int</span>) Math.floor(elementIndex / <span class=\"hljs-number\">2.0</span>));\n      elementIndex = (<span class=\"hljs-type\">int</span>) Math.floor(elementIndex / <span class=\"hljs-number\">2.0</span>);\n    }\n  }\n\n  <span class=\"hljs-comment\">// Toggle an element down to its right place as long as its key is higher</span>\n  <span class=\"hljs-comment\">// than any of its children&#x27;s</span>\n  <span class=\"hljs-keyword\">private</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">toggleDown</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> elementIndex)</span> {\n    <span class=\"hljs-type\">double</span> <span class=\"hljs-variable\">key</span> <span class=\"hljs-operator\">=</span> maxHeap.get(elementIndex - <span class=\"hljs-number\">1</span>).getKey();\n    <span class=\"hljs-type\">boolean</span> <span class=\"hljs-variable\">wrongOrder</span> <span class=\"hljs-operator\">=</span>\n        (key &lt; getElementKey(elementIndex * <span class=\"hljs-number\">2</span>))\n            || (key &lt; getElementKey(Math.min(elementIndex * <span class=\"hljs-number\">2</span>, maxHeap.size())));\n    <span class=\"hljs-keyword\">while</span> ((<span class=\"hljs-number\">2</span> * elementIndex &lt;= maxHeap.size()) &amp;&amp; wrongOrder) {\n      <span class=\"hljs-comment\">// Check whether it shall swap the element with its left child or its right one if any.</span>\n      <span class=\"hljs-keyword\">if</span> ((<span class=\"hljs-number\">2</span> * elementIndex &lt; maxHeap.size())\n          &amp;&amp; (getElementKey(elementIndex * <span class=\"hljs-number\">2</span> + <span class=\"hljs-number\">1</span>) &gt; getElementKey(elementIndex * <span class=\"hljs-number\">2</span>))) {\n        swap(elementIndex, <span class=\"hljs-number\">2</span> * elementIndex + <span class=\"hljs-number\">1</span>);\n        elementIndex = <span class=\"hljs-number\">2</span> * elementIndex + <span class=\"hljs-number\">1</span>;\n      } <span class=\"hljs-keyword\">else</span> {\n        swap(elementIndex, <span class=\"hljs-number\">2</span> * elementIndex);\n        elementIndex = <span class=\"hljs-number\">2</span> * elementIndex;\n      }\n      wrongOrder =\n          (key &lt; getElementKey(elementIndex * <span class=\"hljs-number\">2</span>))\n              || (key &lt; getElementKey(Math.min(elementIndex * <span class=\"hljs-number\">2</span>, maxHeap.size())));\n    }\n  }\n\n  <span class=\"hljs-keyword\">private</span> HeapElement <span class=\"hljs-title function_\">extractMax</span><span class=\"hljs-params\">()</span> {\n    <span class=\"hljs-type\">HeapElement</span> <span class=\"hljs-variable\">result</span> <span class=\"hljs-operator\">=</span> maxHeap.get(<span class=\"hljs-number\">0</span>);\n    deleteElement(<span class=\"hljs-number\">0</span>);\n    <span class=\"hljs-keyword\">return</span> result;\n  }\n\n  <span class=\"hljs-meta\">@Override</span>\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">insertElement</span><span class=\"hljs-params\">(HeapElement element)</span> {\n    maxHeap.add(element);\n    toggleUp(maxHeap.size());\n  }\n\n  <span class=\"hljs-meta\">@Override</span>\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">void</span> <span class=\"hljs-title function_\">deleteElement</span><span class=\"hljs-params\">(<span class=\"hljs-type\">int</span> elementIndex)</span> {\n    <span class=\"hljs-keyword\">if</span> (maxHeap.isEmpty())\n      <span class=\"hljs-keyword\">try</span> {\n        <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">EmptyHeapException</span>(<span class=\"hljs-string\">&quot;Attempt to delete an element from an empty heap&quot;</span>);\n      } <span class=\"hljs-keyword\">catch</span> (EmptyHeapException e) {\n        e.printStackTrace();\n      }\n    <span class=\"hljs-keyword\">if</span> ((elementIndex &gt; maxHeap.size()) || (elementIndex &lt;= <span class=\"hljs-number\">0</span>))\n      <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">IndexOutOfBoundsException</span>(<span class=\"hljs-string\">&quot;Index out of heap range&quot;</span>);\n    <span class=\"hljs-comment\">// The last element in heap replaces the one to be deleted</span>\n    maxHeap.set(elementIndex - <span class=\"hljs-number\">1</span>, getElement(maxHeap.size()));\n    maxHeap.remove(maxHeap.size());\n    <span class=\"hljs-comment\">// Shall the new element be moved up...</span>\n    <span class=\"hljs-keyword\">if</span> (getElementKey(elementIndex) &gt; getElementKey((<span class=\"hljs-type\">int</span>) Math.floor(elementIndex / <span class=\"hljs-number\">2.0</span>)))\n      toggleUp(elementIndex);\n    <span class=\"hljs-comment\">// ... or down ?</span>\n    <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (((<span class=\"hljs-number\">2</span> * elementIndex &lt;= maxHeap.size())\n            &amp;&amp; (getElementKey(elementIndex) &lt; getElementKey(elementIndex * <span class=\"hljs-number\">2</span>)))\n        || ((<span class=\"hljs-number\">2</span> * elementIndex &lt; maxHeap.size())\n            &amp;&amp; (getElementKey(elementIndex) &lt; getElementKey(elementIndex * <span class=\"hljs-number\">2</span>))))\n      toggleDown(elementIndex);\n  }\n\n  <span class=\"hljs-meta\">@Override</span>\n  <span class=\"hljs-keyword\">public</span> HeapElement <span class=\"hljs-title function_\">getElement</span><span class=\"hljs-params\">()</span> <span class=\"hljs-keyword\">throws</span> EmptyHeapException {\n    <span class=\"hljs-keyword\">try</span> {\n      <span class=\"hljs-keyword\">return</span> extractMax();\n    } <span class=\"hljs-keyword\">catch</span> (Exception e) {\n      <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">EmptyHeapException</span>(<span class=\"hljs-string\">&quot;Heap is empty. Error retrieving element&quot;</span>);\n    }\n  }\n}\n"
    },
    "c": {
      "dir": "data_structures/heap/max_heap.c",
      "url": "https://github.com/TheAlgorithms/c/tree/master/data_structures/heap/max_heap.c",
      "code": "<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;limits.h&gt;</span>  <span class=\"hljs-comment\">/// for INT_MIN</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;stdio.h&gt;</span>   <span class=\"hljs-comment\">/// for IO operations</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;stdlib.h&gt;</span>  <span class=\"hljs-comment\">/// for dynamic memory allocation</span></span>\n\n<span class=\"hljs-keyword\">typedef</span> <span class=\"hljs-class\"><span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title\">max_heap</span>\n{</span>\n    <span class=\"hljs-type\">int</span> *p;\n    <span class=\"hljs-type\">int</span> size;\n    <span class=\"hljs-type\">int</span> count;\n} Heap;\n\nHeap *<span class=\"hljs-title function_\">create_heap</span><span class=\"hljs-params\">(Heap *heap)</span>; <span class=\"hljs-comment\">/*Creates a max_heap structure and returns a\n                                  pointer to the struct*/</span>\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">down_heapify</span><span class=\"hljs-params\">(Heap *heap, <span class=\"hljs-type\">int</span> index)</span>; <span class=\"hljs-comment\">/*Pushes an element downwards in the\n                                             heap to find its correct position*/</span>\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">up_heapify</span><span class=\"hljs-params\">(Heap *heap, <span class=\"hljs-type\">int</span> index)</span>; <span class=\"hljs-comment\">/*Pushes an element upwards in the heap\n                                           to find its correct position*/</span>\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">push</span><span class=\"hljs-params\">(Heap *heap, <span class=\"hljs-type\">int</span> x)</span>;           <span class=\"hljs-comment\">/*Inserts an element in the heap*/</span>\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">pop</span><span class=\"hljs-params\">(Heap *heap)</span>; <span class=\"hljs-comment\">/*Removes the top element from the heap*/</span>\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">top</span><span class=\"hljs-params\">(Heap *heap)</span>; <span class=\"hljs-comment\">/*Returns the top element of the heap or returns INT_MIN if\n                        heap is empty*/</span>\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">empty</span><span class=\"hljs-params\">(Heap *heap)</span>; <span class=\"hljs-comment\">/*Checks if heap is empty*/</span>\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">size</span><span class=\"hljs-params\">(Heap *heap)</span>;  <span class=\"hljs-comment\">/*Returns the size of heap*/</span>\n\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">main</span><span class=\"hljs-params\">()</span>\n{\n    Heap *head = create_heap(head);\n    push(head, <span class=\"hljs-number\">10</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Pushing element : 10\\n&quot;</span>);\n    push(head, <span class=\"hljs-number\">3</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Pushing element : 3\\n&quot;</span>);\n    push(head, <span class=\"hljs-number\">2</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Pushing element : 2\\n&quot;</span>);\n    push(head, <span class=\"hljs-number\">8</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Pushing element : 8\\n&quot;</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Top element = %d \\n&quot;</span>, top(head));\n    push(head, <span class=\"hljs-number\">1</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Pushing element : 1\\n&quot;</span>);\n    push(head, <span class=\"hljs-number\">7</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Pushing element : 7\\n&quot;</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Top element = %d \\n&quot;</span>, top(head));\n    pop(head);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Popping an element.\\n&quot;</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Top element = %d \\n&quot;</span>, top(head));\n    pop(head);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Popping an element.\\n&quot;</span>);\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;Top element = %d \\n&quot;</span>, top(head));\n    <span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">&quot;\\n&quot;</span>);\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}\nHeap *<span class=\"hljs-title function_\">create_heap</span><span class=\"hljs-params\">(Heap *heap)</span>\n{\n    heap = (Heap *)<span class=\"hljs-built_in\">malloc</span>(<span class=\"hljs-keyword\">sizeof</span>(Heap));\n    heap-&gt;size = <span class=\"hljs-number\">1</span>;\n    heap-&gt;p = (<span class=\"hljs-type\">int</span> *)<span class=\"hljs-built_in\">malloc</span>(heap-&gt;size * <span class=\"hljs-keyword\">sizeof</span>(<span class=\"hljs-type\">int</span>));\n    heap-&gt;count = <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-keyword\">return</span> heap;\n}\n\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">down_heapify</span><span class=\"hljs-params\">(Heap *heap, <span class=\"hljs-type\">int</span> index)</span>\n{\n    <span class=\"hljs-keyword\">if</span> (index &gt;= heap-&gt;count)\n        <span class=\"hljs-keyword\">return</span>;\n    <span class=\"hljs-type\">int</span> left = index * <span class=\"hljs-number\">2</span> + <span class=\"hljs-number\">1</span>;\n    <span class=\"hljs-type\">int</span> right = index * <span class=\"hljs-number\">2</span> + <span class=\"hljs-number\">2</span>;\n    <span class=\"hljs-type\">int</span> leftflag = <span class=\"hljs-number\">0</span>, rightflag = <span class=\"hljs-number\">0</span>;\n\n    <span class=\"hljs-type\">int</span> maximum = *((heap-&gt;p) + index);\n    <span class=\"hljs-keyword\">if</span> (left &lt; heap-&gt;count &amp;&amp; maximum &lt; *((heap-&gt;p) + left))\n    {\n        maximum = *((heap-&gt;p) + left);\n        leftflag = <span class=\"hljs-number\">1</span>;\n    }\n    <span class=\"hljs-keyword\">if</span> (right &lt; heap-&gt;count &amp;&amp; maximum &lt; *((heap-&gt;p) + right))\n    {\n        maximum = *((heap-&gt;p) + right);\n        leftflag = <span class=\"hljs-number\">0</span>;\n        rightflag = <span class=\"hljs-number\">1</span>;\n    }\n    <span class=\"hljs-keyword\">if</span> (leftflag)\n    {\n        *((heap-&gt;p) + left) = *((heap-&gt;p) + index);\n        *((heap-&gt;p) + index) = maximum;\n        down_heapify(heap, left);\n    }\n    <span class=\"hljs-keyword\">if</span> (rightflag)\n    {\n        *((heap-&gt;p) + right) = *((heap-&gt;p) + index);\n        *((heap-&gt;p) + index) = maximum;\n        down_heapify(heap, right);\n    }\n}\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">up_heapify</span><span class=\"hljs-params\">(Heap *heap, <span class=\"hljs-type\">int</span> index)</span>\n{\n    <span class=\"hljs-type\">int</span> parent = (index - <span class=\"hljs-number\">1</span>) / <span class=\"hljs-number\">2</span>;\n    <span class=\"hljs-keyword\">if</span> (parent &lt; <span class=\"hljs-number\">0</span>)\n        <span class=\"hljs-keyword\">return</span>;\n    <span class=\"hljs-keyword\">if</span> (*((heap-&gt;p) + index) &gt; *((heap-&gt;p) + parent))\n    {\n        <span class=\"hljs-type\">int</span> temp = *((heap-&gt;p) + index);\n        *((heap-&gt;p) + index) = *((heap-&gt;p) + parent);\n        *((heap-&gt;p) + parent) = temp;\n        up_heapify(heap, parent);\n    }\n}\n\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">push</span><span class=\"hljs-params\">(Heap *heap, <span class=\"hljs-type\">int</span> x)</span>\n{\n    <span class=\"hljs-keyword\">if</span> (heap-&gt;count &gt;= heap-&gt;size)\n        <span class=\"hljs-keyword\">return</span>;\n    *((heap-&gt;p) + heap-&gt;count) = x;\n    heap-&gt;count++;\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">4</span> * heap-&gt;count &gt;= <span class=\"hljs-number\">3</span> * heap-&gt;size)\n    {\n        heap-&gt;size *= <span class=\"hljs-number\">2</span>;\n        (heap-&gt;p) = (<span class=\"hljs-type\">int</span> *)<span class=\"hljs-built_in\">realloc</span>((heap-&gt;p), (heap-&gt;size) * <span class=\"hljs-keyword\">sizeof</span>(<span class=\"hljs-type\">int</span>));\n    }\n    up_heapify(heap, heap-&gt;count - <span class=\"hljs-number\">1</span>);\n}\n<span class=\"hljs-type\">void</span> <span class=\"hljs-title function_\">pop</span><span class=\"hljs-params\">(Heap *heap)</span>\n{\n    <span class=\"hljs-keyword\">if</span> (heap-&gt;count == <span class=\"hljs-number\">0</span>)\n        <span class=\"hljs-keyword\">return</span>;\n    heap-&gt;count--;\n    <span class=\"hljs-type\">int</span> temp = *((heap-&gt;p) + heap-&gt;count);\n    *((heap-&gt;p) + heap-&gt;count) = *(heap-&gt;p);\n    *(heap-&gt;p) = temp;\n    down_heapify(heap, <span class=\"hljs-number\">0</span>);\n    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-number\">4</span> * heap-&gt;count &lt;= heap-&gt;size)\n    {\n        heap-&gt;size /= <span class=\"hljs-number\">2</span>;\n        (heap-&gt;p) = (<span class=\"hljs-type\">int</span> *)<span class=\"hljs-built_in\">realloc</span>((heap-&gt;p), (heap-&gt;size) * <span class=\"hljs-keyword\">sizeof</span>(<span class=\"hljs-type\">int</span>));\n    }\n}\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">top</span><span class=\"hljs-params\">(Heap *heap)</span>\n{\n    <span class=\"hljs-keyword\">if</span> (heap-&gt;count != <span class=\"hljs-number\">0</span>)\n        <span class=\"hljs-keyword\">return</span> *(heap-&gt;p);\n    <span class=\"hljs-keyword\">else</span>\n        <span class=\"hljs-keyword\">return</span> INT_MIN;\n}\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">empty</span><span class=\"hljs-params\">(Heap *heap)</span>\n{\n    <span class=\"hljs-keyword\">if</span> (heap-&gt;count != <span class=\"hljs-number\">0</span>)\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n    <span class=\"hljs-keyword\">else</span>\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">1</span>;\n}\n<span class=\"hljs-type\">int</span> <span class=\"hljs-title function_\">size</span><span class=\"hljs-params\">(Heap *heap)</span> { <span class=\"hljs-keyword\">return</span> heap-&gt;count; }\n"
    },
    "haskell": {
      "dir": "src/DataStructures/MaxHeap.hs",
      "url": "https://github.com/TheAlgorithms/haskell/tree/master/src/DataStructures/MaxHeap.hs",
      "code": "<span class=\"hljs-keyword\">module</span> DataStructures.MaxHeap <span class=\"hljs-keyword\">where</span>\n\n<span class=\"hljs-comment\">-- Construct a max heap (represented as a list) from a given input list</span>\n<span class=\"hljs-title\">maxHeap</span> :: <span class=\"hljs-type\">Ord</span> a =&gt; [a] -&gt; [a]\n<span class=\"hljs-title\">maxHeap</span> [] = []\n<span class=\"hljs-title\">maxHeap</span> [x] = [x]\n<span class=\"hljs-title\">maxHeap</span> xs = maxHeap&#x27; xs (div (length xs) <span class=\"hljs-number\">2</span>)\n\n<span class=\"hljs-comment\">-- Insert an element into a heap and then fix the heap</span>\n<span class=\"hljs-title\">insert</span> :: <span class=\"hljs-type\">Ord</span> a =&gt; [a] -&gt; a -&gt; [a]\n<span class=\"hljs-title\">insert</span> [] e = [e]\n<span class=\"hljs-title\">insert</span> xs e = upHeapify (xs ++ [e]) (length xs)\n\n\n<span class=\"hljs-comment\">-- Recursive helper function for maxHeap</span>\n<span class=\"hljs-title\">maxHeap&#x27;</span> :: <span class=\"hljs-type\">Ord</span> a =&gt; [a] -&gt; <span class=\"hljs-type\">Int</span> -&gt; [a]\n<span class=\"hljs-title\">maxHeap&#x27;</span> xs <span class=\"hljs-number\">0</span> = maxHeapify xs <span class=\"hljs-number\">0</span>\n<span class=\"hljs-title\">maxHeap&#x27;</span> xs i = maxHeap&#x27; (maxHeapify xs i) (i-<span class=\"hljs-number\">1</span>)\n\n<span class=\"hljs-comment\">-- Given a heap and an index (i), move the element at i up the heap until it is in the right position </span>\n<span class=\"hljs-title\">upHeapify</span> :: <span class=\"hljs-type\">Ord</span> a =&gt; [a] -&gt; <span class=\"hljs-type\">Int</span> -&gt; [a]\n<span class=\"hljs-title\">upHeapify</span> xs <span class=\"hljs-number\">0</span> = xs\n<span class=\"hljs-title\">upHeapify</span> xs i | xs !! i &lt;= xs !! ip = xs\n               | otherwise = upHeapify (swap xs i ip) ip\n                <span class=\"hljs-keyword\">where</span>\n                    ip = parent i\n\n<span class=\"hljs-comment\">-- Given a heap and an index (i), move the element at i down the heap until it is in the right position</span>\n<span class=\"hljs-title\">maxHeapify</span> :: (<span class=\"hljs-type\">Ord</span> a) =&gt; [a] -&gt; <span class=\"hljs-type\">Int</span> -&gt; [a]\n<span class=\"hljs-title\">maxHeapify</span> xs i | not (hasAnyChild xs i) = xs\n                | hasLeftChild xs i &amp;&amp; hasRightChild xs i = \n                    <span class=\"hljs-keyword\">let</span> largestChild = <span class=\"hljs-keyword\">if</span> xs !! (leftChild i) &gt; xs !! (rightChild i) <span class=\"hljs-keyword\">then</span> leftChild i <span class=\"hljs-keyword\">else</span> rightChild i\n                    <span class=\"hljs-keyword\">in</span> <span class=\"hljs-keyword\">if</span> xs !! largestChild &gt; xs !! i <span class=\"hljs-keyword\">then</span> maxHeapify (swap xs largestChild i) largestChild <span class=\"hljs-keyword\">else</span> xs\n                | hasLeftChild xs i =\n                    <span class=\"hljs-keyword\">if</span> xs !! (leftChild i) &gt; xs !! i <span class=\"hljs-keyword\">then</span> maxHeapify (swap xs (leftChild i) i) (leftChild i) <span class=\"hljs-keyword\">else</span> xs\n                | otherwise =\n                    <span class=\"hljs-keyword\">if</span> xs !! (rightChild i) &gt; xs !! i <span class=\"hljs-keyword\">then</span> maxHeapify (swap xs (rightChild i) i) (rightChild i) <span class=\"hljs-keyword\">else</span> xs\n\n\n<span class=\"hljs-comment\">-- Remove the largest element from the heap, and then fix the heap</span>\n<span class=\"hljs-title\">extract</span> :: <span class=\"hljs-type\">Ord</span> a =&gt; [a] -&gt; [a]\n<span class=\"hljs-title\">extract</span> [] = []\n<span class=\"hljs-title\">extract</span> [_] = []\n<span class=\"hljs-title\">extract</span> xs = maxHeapify ((last xs):take (length xs - <span class=\"hljs-number\">2</span>) (tail xs)) <span class=\"hljs-number\">0</span>\n\n<span class=\"hljs-comment\">-- Delete an element from a heap and then fix the heap</span>\n<span class=\"hljs-comment\">-- If the element is not present, return the heap as is</span>\n<span class=\"hljs-title\">delete</span> :: <span class=\"hljs-type\">Ord</span> a =&gt; [a] -&gt; a -&gt; [a]\n<span class=\"hljs-title\">delete</span> [] _ = []\n<span class=\"hljs-title\">delete</span> xs e = <span class=\"hljs-keyword\">let</span> i&#x27; = (search xs e)\n                  f = <span class=\"hljs-keyword\">if</span> xs !! (length xs - <span class=\"hljs-number\">1</span>) &gt; e <span class=\"hljs-keyword\">then</span> upHeapify <span class=\"hljs-keyword\">else</span> maxHeapify\n                  <span class=\"hljs-keyword\">in</span> <span class=\"hljs-keyword\">case</span> i&#x27; <span class=\"hljs-keyword\">of</span> \n                      <span class=\"hljs-type\">Nothing</span> -&gt; xs\n                      <span class=\"hljs-type\">Just</span> i  -&gt; f (take ((length xs) - <span class=\"hljs-number\">1</span>) (swap xs i ((length xs) - <span class=\"hljs-number\">1</span>))) i\n\n<span class=\"hljs-comment\">-- Find the index of an element in a heap</span>\n<span class=\"hljs-comment\">-- Returns Nothing if the element is not present</span>\n<span class=\"hljs-title\">search</span> :: <span class=\"hljs-type\">Eq</span> a =&gt; [a] -&gt; a -&gt; <span class=\"hljs-type\">Maybe</span> <span class=\"hljs-type\">Int</span>\n<span class=\"hljs-title\">search</span> xs e = search&#x27; xs e <span class=\"hljs-number\">0</span> \n\n<span class=\"hljs-comment\">-- Recursive helper function for search</span>\n<span class=\"hljs-title\">search&#x27;</span> :: <span class=\"hljs-type\">Eq</span> a =&gt; [a] -&gt; a -&gt; <span class=\"hljs-type\">Int</span> -&gt; <span class=\"hljs-type\">Maybe</span> <span class=\"hljs-type\">Int</span>\n<span class=\"hljs-title\">search&#x27;</span> [] _ _ = <span class=\"hljs-type\">Nothing</span>\n<span class=\"hljs-title\">search&#x27;</span> (x:xs) e i | e == x = <span class=\"hljs-type\">Just</span> i\n                   | otherwise = search&#x27; xs e (i+<span class=\"hljs-number\">1</span>)\n\n\n<span class=\"hljs-comment\">-- Swap the values stored in two positions in a list</span>\n<span class=\"hljs-title\">swap</span> :: [a] -&gt; <span class=\"hljs-type\">Int</span> -&gt; <span class=\"hljs-type\">Int</span> -&gt; [a]\n<span class=\"hljs-title\">swap</span> xs i1 i2 = map snd . foldr (\\x a -&gt; \n        <span class=\"hljs-keyword\">if</span> fst x == i1 <span class=\"hljs-keyword\">then</span> ys !! i2 : a\n        <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> fst x == i2 <span class=\"hljs-keyword\">then</span> ys !! i1 : a\n        <span class=\"hljs-keyword\">else</span> x : a) [] $ ys\n    <span class=\"hljs-keyword\">where</span> ys = zip [<span class=\"hljs-number\">0</span>..] xs\n\n<span class=\"hljs-comment\">-- Index where the left child of the node at the given index should be located</span>\n<span class=\"hljs-title\">leftChild</span> :: <span class=\"hljs-type\">Int</span> -&gt; <span class=\"hljs-type\">Int</span>\n<span class=\"hljs-title\">leftChild</span> i = <span class=\"hljs-number\">2</span> * i + <span class=\"hljs-number\">1</span>\n\n<span class=\"hljs-comment\">-- Index where the right child of the node at the given index should be located</span>\n<span class=\"hljs-title\">rightChild</span> :: <span class=\"hljs-type\">Int</span> -&gt; <span class=\"hljs-type\">Int</span>\n<span class=\"hljs-title\">rightChild</span> i = <span class=\"hljs-number\">2</span> * i + <span class=\"hljs-number\">2</span>\n\n<span class=\"hljs-comment\">-- Index where the parent of the node at the given index should be located</span>\n<span class=\"hljs-title\">parent</span> ::  <span class=\"hljs-type\">Int</span> -&gt; <span class=\"hljs-type\">Int</span>\n<span class=\"hljs-title\">parent</span> i = floor (fromIntegral (div (i-<span class=\"hljs-number\">1</span>) <span class=\"hljs-number\">2</span>))\n\n<span class=\"hljs-comment\">-- Helper functions to determine which, if any, child nodes are present in the heap for the node at a given index</span>\n<span class=\"hljs-title\">hasLeftChild</span>, hasRightChild, hasAnyChild :: [a] -&gt; <span class=\"hljs-type\">Int</span> -&gt; <span class=\"hljs-type\">Bool</span>\n<span class=\"hljs-title\">hasLeftChild</span> xs i = leftChild i &lt; length xs\n\n<span class=\"hljs-title\">hasRightChild</span> xs i = rightChild i &lt; length xs\n\n<span class=\"hljs-title\">hasAnyChild</span> xs i = hasLeftChild xs i || hasRightChild xs i"
    },
    "dart": {
      "dir": "data_structures/Heap/Binary_Heap/Max_heap.dart",
      "url": "https://github.com/TheAlgorithms/dart/tree/master/data_structures/Heap/Binary_Heap/Max_heap.dart",
      "code": "<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;package:test/test.dart&#x27;</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">MaxHeap</span> </span>{\n  <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; heap;\n\n  <span class=\"hljs-keyword\">void</span> buildHeap(<span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; array) {\n    <span class=\"hljs-keyword\">this</span>.heap = _heapify(array);\n  }\n\n  <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; _heapify(<span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; array) {\n    <span class=\"hljs-built_in\">int</span> firstParent = (array.length - <span class=\"hljs-number\">2</span>) ~/ <span class=\"hljs-number\">2</span>;\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-built_in\">int</span> i = firstParent; i &gt;= <span class=\"hljs-number\">0</span>; i--) {\n      _siftDown(i, array.length - <span class=\"hljs-number\">1</span>, array);\n    }\n    <span class=\"hljs-keyword\">return</span> array;\n  }\n\n  <span class=\"hljs-built_in\">int</span> peek() {\n    <span class=\"hljs-keyword\">if</span> (!isEmpty()) {\n      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.heap[<span class=\"hljs-number\">0</span>];\n    }\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">null</span>;\n  }\n\n  <span class=\"hljs-built_in\">bool</span> isEmpty() {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">this</span>.heap.length == <span class=\"hljs-number\">0</span>;\n  }\n\n  <span class=\"hljs-keyword\">void</span> _siftUp(<span class=\"hljs-built_in\">int</span> currentIndex) {\n    <span class=\"hljs-built_in\">int</span> parentIndex = (currentIndex - <span class=\"hljs-number\">1</span>) ~/ <span class=\"hljs-number\">2</span>;\n    <span class=\"hljs-keyword\">while</span> (\n        parentIndex &gt;= <span class=\"hljs-number\">0</span> &amp;&amp; <span class=\"hljs-keyword\">this</span>.heap[parentIndex] &lt; <span class=\"hljs-keyword\">this</span>.heap[currentIndex]) {\n      _swap(parentIndex, currentIndex, <span class=\"hljs-keyword\">this</span>.heap);\n      currentIndex = parentIndex;\n      parentIndex = (currentIndex - <span class=\"hljs-number\">1</span>) ~/ <span class=\"hljs-number\">2</span>;\n    }\n  }\n\n  <span class=\"hljs-keyword\">void</span> _siftDown(<span class=\"hljs-built_in\">int</span> currentIndex, <span class=\"hljs-built_in\">int</span> endIndex, <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; heap) {\n    <span class=\"hljs-built_in\">int</span> childOneIndex = (<span class=\"hljs-number\">2</span> * currentIndex) + <span class=\"hljs-number\">1</span>;\n    <span class=\"hljs-built_in\">int</span> childTwoIndex;\n\n    <span class=\"hljs-keyword\">while</span> (childOneIndex &lt;= endIndex) {\n      childTwoIndex =\n          <span class=\"hljs-number\">2</span> * currentIndex + <span class=\"hljs-number\">2</span> &lt;= endIndex ? <span class=\"hljs-number\">2</span> * currentIndex + <span class=\"hljs-number\">2</span> : <span class=\"hljs-number\">-1</span>;\n      <span class=\"hljs-built_in\">int</span> indexToSwap;\n      <span class=\"hljs-keyword\">if</span> (childTwoIndex != <span class=\"hljs-number\">-1</span> &amp;&amp; heap[childTwoIndex] &gt; heap[childOneIndex]) {\n        indexToSwap = childTwoIndex;\n      } <span class=\"hljs-keyword\">else</span> {\n        indexToSwap = childOneIndex;\n      }\n\n      <span class=\"hljs-keyword\">if</span> (heap[currentIndex] &lt; heap[indexToSwap]) {\n        _swap(currentIndex, indexToSwap, heap);\n        currentIndex = indexToSwap;\n        childOneIndex = (<span class=\"hljs-number\">2</span> * currentIndex) + <span class=\"hljs-number\">1</span>;\n      } <span class=\"hljs-keyword\">else</span> {\n        <span class=\"hljs-keyword\">break</span>;\n      }\n    }\n  }\n\n  <span class=\"hljs-keyword\">void</span> insert(<span class=\"hljs-built_in\">int</span> value) {\n    <span class=\"hljs-keyword\">this</span>.heap.add(value);\n    _siftUp(<span class=\"hljs-keyword\">this</span>.heap.length - <span class=\"hljs-number\">1</span>);\n  }\n\n  <span class=\"hljs-built_in\">int</span> remove() {\n    <span class=\"hljs-keyword\">if</span> (!isEmpty()) {\n      _swap(<span class=\"hljs-number\">0</span>, <span class=\"hljs-keyword\">this</span>.heap.length - <span class=\"hljs-number\">1</span>, <span class=\"hljs-keyword\">this</span>.heap);\n      <span class=\"hljs-built_in\">int</span> maxElement = <span class=\"hljs-keyword\">this</span>.heap.removeLast();\n      _siftDown(<span class=\"hljs-number\">0</span>, <span class=\"hljs-keyword\">this</span>.heap.length - <span class=\"hljs-number\">1</span>, <span class=\"hljs-keyword\">this</span>.heap);\n      <span class=\"hljs-keyword\">return</span> maxElement;\n    }\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">null</span>;\n  }\n\n  <span class=\"hljs-keyword\">void</span> _swap(<span class=\"hljs-built_in\">int</span> left, <span class=\"hljs-built_in\">int</span> right, <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; array) {\n    <span class=\"hljs-built_in\">int</span> temp;\n    temp = array[left];\n    array[left] = array[right];\n    array[right] = temp;\n  }\n}\n\n<span class=\"hljs-keyword\">void</span> main() {\n  MaxHeap maxHeap = <span class=\"hljs-keyword\">new</span> MaxHeap();\n  <span class=\"hljs-built_in\">List</span>&lt;<span class=\"hljs-built_in\">int</span>&gt; array = [<span class=\"hljs-number\">48</span>, <span class=\"hljs-number\">12</span>, <span class=\"hljs-number\">24</span>, <span class=\"hljs-number\">7</span>, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">-5</span>, <span class=\"hljs-number\">24</span>, <span class=\"hljs-number\">391</span>, <span class=\"hljs-number\">24</span>, <span class=\"hljs-number\">56</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">6</span>, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">41</span>];\n  maxHeap.buildHeap(array);\n  test((<span class=\"hljs-string\">&#x27;Test case 1&#x27;</span>), () {\n    expect(maxHeap.remove(), equals(<span class=\"hljs-number\">391</span>));\n    maxHeap.insert(<span class=\"hljs-number\">-100</span>);\n    expect(maxHeap.isEmpty(), isFalse);\n    expect(maxHeap.peek(), equals(<span class=\"hljs-number\">56</span>));\n    maxHeap.insert(<span class=\"hljs-number\">1000</span>);\n    expect(maxHeap.peek(), equals(<span class=\"hljs-number\">1000</span>));\n    expect(maxHeap.remove(), equals(<span class=\"hljs-number\">1000</span>));\n    expect(maxHeap.remove(), equals(<span class=\"hljs-number\">56</span>));\n  });\n\n  test((<span class=\"hljs-string\">&#x27;Test case 2&#x27;</span>), () {\n    array = [<span class=\"hljs-number\">-7</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">-10</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">-6</span>, <span class=\"hljs-number\">-10</span>, <span class=\"hljs-number\">-2</span>, <span class=\"hljs-number\">-7</span>, <span class=\"hljs-number\">10</span>, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">9</span>, <span class=\"hljs-number\">-9</span>, <span class=\"hljs-number\">-5</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">8</span>];\n    maxHeap = <span class=\"hljs-keyword\">new</span> MaxHeap();\n    maxHeap.buildHeap(array);\n    expect(maxHeap.remove(), equals(<span class=\"hljs-number\">10</span>));\n    expect(maxHeap.peek(), equals(<span class=\"hljs-number\">9</span>));\n    maxHeap.insert(<span class=\"hljs-number\">890</span>);\n    expect(maxHeap.peek(), equals(<span class=\"hljs-number\">890</span>));\n    expect(maxHeap.remove(), equals(<span class=\"hljs-number\">890</span>));\n    expect(maxHeap.peek(), equals(<span class=\"hljs-number\">9</span>));\n    expect(maxHeap.isEmpty(), isFalse);\n    maxHeap.insert(<span class=\"hljs-number\">1</span>);\n    expect(maxHeap.peek(), equals(<span class=\"hljs-number\">9</span>));\n  });\n}\n"
    }
  },
  "contributors": [
    {
      "name": "Sam Jones",
      "email": "sam.jones240699@gmail.com",
      "commits": 1
    },
    {
      "name": "Akash G Krishnan",
      "email": "krishnanag1996@gmail.com",
      "commits": 1
    },
    {
      "name": "stepfencurryxiao",
      "email": "stepfencurryxiao@gmail.com",
      "commits": 1
    },
    {
      "name": "Samarth Jain",
      "email": "53353139+samjain2907@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Mainak Debnath",
      "email": "55401423+mainak-debnath@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Maria Lungeanu",
      "email": "Maria.Lungeanu@anritsu.com",
      "commits": 1
    },
    {
      "name": "khalil2535",
      "email": "khalil2535@localhost",
      "commits": 1
    },
    {
      "name": "Dhruv Manilawala",
      "email": "dhruvmanila@gmail.com",
      "commits": 1
    },
    {
      "name": "halilylm",
      "email": "65048618+halilylm@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Kaustav Bhattacharya",
      "email": "kaustavbhattacharya07@gmail.com",
      "commits": 2
    },
    {
      "name": "zacharyjones123",
      "email": "zrjones@ncsu.edu",
      "commits": 2
    },
    {
      "name": "Nicolas Renard",
      "email": "nicolas.renard.76@outlook.fr",
      "commits": 2
    },
    {
      "name": "Libin Yang",
      "email": "szuyanglb@outlook.com",
      "commits": 3
    }
  ],
  "explanationUrl": {}
}

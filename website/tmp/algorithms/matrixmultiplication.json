{
  "slug": "matrixmultiplication",
  "name": "MatrixMultiplication",
  "categories": ["math"],
  "body": {},
  "implementations": {
    "javascript": {
      "dir": "Maths/MatrixMultiplication.js",
      "url": "https://github.com/TheAlgorithms/javascript/tree/master/Maths/MatrixMultiplication.js",
      "code": "<span class=\"hljs-comment\">// Wikipedia URL for General Matrix Multiplication Concepts: https://en.wikipedia.org/wiki/Matrix_multiplication</span>\n\n<span class=\"hljs-comment\">// This algorithm has multiple functions that ultimately check if the inputs are actually matrices and if two Matrices (that can be different sizes) can be multiplied together.</span>\n<span class=\"hljs-comment\">// matrices that are of the same size [2x2]x[2x2], and the second is the multiplication of two matrices that are not the same size [2x3]x[3x2].</span>\n\n<span class=\"hljs-comment\">// MatrixCheck tests to see if all of the rows of the matrix inputted have similar size columns</span>\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">matrixCheck</span> = (<span class=\"hljs-params\">matrix</span>) =&gt; {\n  <span class=\"hljs-keyword\">let</span> columnNumb\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> index = <span class=\"hljs-number\">0</span>; index &lt; matrix.<span class=\"hljs-property\">length</span>; index++) {\n    <span class=\"hljs-keyword\">if</span> (index === <span class=\"hljs-number\">0</span>) {\n      columnNumb = matrix[index].<span class=\"hljs-property\">length</span>\n    } <span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (matrix[index].<span class=\"hljs-property\">length</span> !== columnNumb) {\n      <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;The columns in this array are not equal&#x27;</span>)\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-keyword\">return</span> columnNumb\n    }\n  }\n}\n\n<span class=\"hljs-comment\">// tests to see if the matrices have a like side, i.e. the row length on the first matrix matches the column length on the second matrix, or vise versa.</span>\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">twoMatricesCheck</span> = (<span class=\"hljs-params\">first, second</span>) =&gt; {\n  <span class=\"hljs-keyword\">const</span> [firstRowLength, secondRowLength, firstColLength, secondColLength] = [first.<span class=\"hljs-property\">length</span>, second.<span class=\"hljs-property\">length</span>, <span class=\"hljs-title function_\">matrixCheck</span>(first), <span class=\"hljs-title function_\">matrixCheck</span>(second)]\n  <span class=\"hljs-keyword\">if</span> (firstRowLength !== secondColLength || secondRowLength !== firstColLength) {\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;These matrices do not have a common side&#x27;</span>)\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span>\n  }\n}\n\n<span class=\"hljs-comment\">// returns an empty array that has the same number of rows as the left matrix being multiplied.</span>\n<span class=\"hljs-comment\">// Uses Array.prototype.map() to loop over the first (or left) matrix and returns an empty array on each iteration.</span>\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">initiateEmptyArray</span> = (<span class=\"hljs-params\">first, second</span>) =&gt; {\n  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_\">twoMatricesCheck</span>(first, second)) {\n    <span class=\"hljs-keyword\">const</span> emptyArray = first.<span class=\"hljs-title function_\">map</span>(<span class=\"hljs-function\">() =&gt;</span> {\n      <span class=\"hljs-keyword\">return</span> [<span class=\"hljs-string\">&#x27;&#x27;</span>]\n    })\n    <span class=\"hljs-keyword\">return</span> emptyArray\n  } <span class=\"hljs-keyword\">else</span> {\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>\n  }\n}\n\n<span class=\"hljs-comment\">// Finally, `matrixMult` uses `Array.prototype.push()`, multiple layers of nested `for` loops, the addition assignment `+=` operator and multiplication operator `*` to perform the dot product between two matrices of differing sizes.</span>\n<span class=\"hljs-comment\">// Dot product, takes the row of the first matrix and multiplies it by the column of the second matrix, the `twoMatricesCheck` tested to see if they were the same size already.</span>\n<span class=\"hljs-comment\">// The dot product for each iteration is then saved to its respective index into `multMatrix`.</span>\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">matrixMult</span> = (<span class=\"hljs-params\">firstArray, secondArray</span>) =&gt; {\n  <span class=\"hljs-keyword\">const</span> multMatrix = <span class=\"hljs-title function_\">initiateEmptyArray</span>(firstArray, secondArray)\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> rm = <span class=\"hljs-number\">0</span>; rm &lt; firstArray.<span class=\"hljs-property\">length</span>; rm++) {\n    <span class=\"hljs-keyword\">const</span> rowMult = []\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> col = <span class=\"hljs-number\">0</span>; col &lt; firstArray[<span class=\"hljs-number\">0</span>].<span class=\"hljs-property\">length</span>; col++) {\n      rowMult.<span class=\"hljs-title function_\">push</span>(firstArray[rm][col])\n    }\n    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> cm = <span class=\"hljs-number\">0</span>; cm &lt; firstArray.<span class=\"hljs-property\">length</span>; cm++) {\n      <span class=\"hljs-keyword\">const</span> colMult = []\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> row = <span class=\"hljs-number\">0</span>; row &lt; secondArray.<span class=\"hljs-property\">length</span>; row++) {\n        colMult.<span class=\"hljs-title function_\">push</span>(secondArray[row][cm])\n      }\n      <span class=\"hljs-keyword\">let</span> newNumb = <span class=\"hljs-number\">0</span>\n      <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> index = <span class=\"hljs-number\">0</span>; index &lt; rowMult.<span class=\"hljs-property\">length</span>; index++) {\n        newNumb += rowMult[index] * colMult[index]\n      }\n      multMatrix[rm][cm] = newNumb\n    }\n  }\n  <span class=\"hljs-keyword\">return</span> multMatrix\n}\n\n<span class=\"hljs-keyword\">const</span> firstMatrix = [\n  [<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>],\n  [<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>]\n]\n\n<span class=\"hljs-keyword\">const</span> secondMatrix = [\n  [<span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">6</span>],\n  [<span class=\"hljs-number\">7</span>, <span class=\"hljs-number\">8</span>]\n]\n\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title function_\">matrixMult</span>(firstMatrix, secondMatrix)) <span class=\"hljs-comment\">// [ [ 19, 22 ], [ 43, 50 ] ]</span>\n\n<span class=\"hljs-keyword\">const</span> thirdMatrix = [\n  [-<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">1</span>],\n  [<span class=\"hljs-number\">7</span>, -<span class=\"hljs-number\">6</span>, <span class=\"hljs-number\">2</span>]\n]\n<span class=\"hljs-keyword\">const</span> fourthMatrix = [\n  [<span class=\"hljs-number\">2</span>, -<span class=\"hljs-number\">2</span>],\n  [<span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">3</span>],\n  [<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">2</span>]\n]\n\n<span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-title function_\">matrixMult</span>(thirdMatrix, fourthMatrix)) <span class=\"hljs-comment\">// [ [ 21, 16 ], [ -10, -28 ] ]</span>\n"
    },
    "go": {
      "dir": "dynamicprogramming/matrix-multiplication.go",
      "url": "https://github.com/TheAlgorithms/go/tree/master/dynamicprogramming/matrix-multiplication.go",
      "code": "<span class=\"hljs-comment\">// matrix chain multiplication problem</span>\n<span class=\"hljs-comment\">// https://en.wikipedia.org/wiki/Matrix_chain_multiplication</span>\n<span class=\"hljs-comment\">// www.geeksforgeeks.org/dynamicprogramming-set-8-matrix-chain-multiplication/</span>\n\n<span class=\"hljs-comment\">// Package dynamicprogramming Package for dynamically run algorithms</span>\n<span class=\"hljs-keyword\">package</span> dynamicprogramming\n\n<span class=\"hljs-comment\">// MatrixChainRec function</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span> <span class=\"hljs-title\">MatrixChainRec</span><span class=\"hljs-params\">(D []<span class=\"hljs-keyword\">int</span>, i, j <span class=\"hljs-keyword\">int</span>)</span> <span class=\"hljs-title\">int</span></span> {\n\t<span class=\"hljs-comment\">// d[i-1] x d[i] : dimension of matrix i</span>\n\t<span class=\"hljs-keyword\">if</span> i == j {\n\t\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>\n\t}\n\tq := <span class=\"hljs-number\">1</span> &lt;&lt; <span class=\"hljs-number\">32</span>\n\t<span class=\"hljs-keyword\">for</span> k := i; k &lt; j; k++ {\n\t\tprod := MatrixChainRec(D, i, k) + MatrixChainRec(D, k+<span class=\"hljs-number\">1</span>, j) + D[i<span class=\"hljs-number\">-1</span>]*D[k]*D[j]\n\t\tq = Min(prod, q)\n\t}\n\t<span class=\"hljs-keyword\">return</span> q\n}\n\n<span class=\"hljs-comment\">// MatrixChainDp function</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">func</span> <span class=\"hljs-title\">MatrixChainDp</span><span class=\"hljs-params\">(D []<span class=\"hljs-keyword\">int</span>)</span> <span class=\"hljs-title\">int</span></span> {\n\t<span class=\"hljs-comment\">// d[i-1] x d[i] : dimension of matrix i</span>\n\tN := <span class=\"hljs-built_in\">len</span>(D)\n\n\tdp := <span class=\"hljs-built_in\">make</span>([][]<span class=\"hljs-keyword\">int</span>, N) <span class=\"hljs-comment\">// dp[i][j] = matrixChainRec(D, i, j)</span>\n\t<span class=\"hljs-keyword\">for</span> i := <span class=\"hljs-number\">0</span>; i &lt; N; i++ {\n\t\tdp[i] = <span class=\"hljs-built_in\">make</span>([]<span class=\"hljs-keyword\">int</span>, N)\n\t\tdp[i][i] = <span class=\"hljs-number\">0</span>\n\t}\n\n\t<span class=\"hljs-keyword\">for</span> l := <span class=\"hljs-number\">2</span>; l &lt; N; l++ {\n\t\t<span class=\"hljs-keyword\">for</span> i := <span class=\"hljs-number\">1</span>; i &lt; N-l+<span class=\"hljs-number\">1</span>; i++ {\n\t\t\tj := i + l - <span class=\"hljs-number\">1</span>\n\t\t\tdp[i][j] = <span class=\"hljs-number\">1</span> &lt;&lt; <span class=\"hljs-number\">31</span>\n\t\t\t<span class=\"hljs-keyword\">for</span> k := i; k &lt; j; k++ {\n\t\t\t\tprod := dp[i][k] + dp[k+<span class=\"hljs-number\">1</span>][j] + D[i<span class=\"hljs-number\">-1</span>]*D[k]*D[j]\n\t\t\t\tdp[i][j] = Min(prod, dp[i][j])\n\t\t\t}\n\t\t}\n\t}\n\n\t<span class=\"hljs-keyword\">return</span> dp[<span class=\"hljs-number\">1</span>][N<span class=\"hljs-number\">-1</span>]\n}\n\n<span class=\"hljs-comment\">/*\nfunc main() {\n\tD := []int{2, 2, 2, 2, 2} // 4 matrices\n\tfmt.Print(matrixChainRec(D, 1, 4), &quot;\\n&quot;)\n\tfmt.Print(matrixChainDp(D), &quot;\\n&quot;)\n}\n*/</span>\n"
    }
  },
  "contributors": [
    {
      "name": "Taj",
      "email": "tjgurwara99@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Himanshu Shekhar",
      "email": "himanshushekharb16@gmail.com",
      "commits": 1
    },
    {
      "name": "Pete Looney",
      "email": "petelooney81@gmail.com",
      "commits": 3
    }
  ],
  "explanationUrl": {}
}

{
  "slug": "integration-by-simpson-approx",
  "name": "Integration by Simpson Approx",
  "categories": ["math"],
  "body": {},
  "implementations": {
    "python": {
      "dir": "maths/integration_by_simpson_approx.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/maths/integration_by_simpson_approx.py",
      "code": "<span class=\"hljs-string\">&quot;&quot;&quot;\nAuthor : Syed Faizan ( 3rd Year IIIT Pune )\nGithub : faizan2700\n\nPurpose : You have one function f(x) which takes float integer and returns\nfloat you have to integrate the function in limits a to b.\nThe approximation proposed by Thomas Simpsons in 1743 is one way to calculate\nintegration.\n\n( read article : https://cp-algorithms.com/num_methods/simpson-integration.html )\n\nsimpson_integration() takes function,lower_limit=a,upper_limit=b,precision and\nreturns the integration of function in given limit.\n&quot;&quot;&quot;</span>\n\n<span class=\"hljs-comment\"># constants</span>\n<span class=\"hljs-comment\"># the more the number of steps the more accurate</span>\nN_STEPS = <span class=\"hljs-number\">1000</span>\n\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">f</span>(<span class=\"hljs-params\">x: <span class=\"hljs-built_in\">float</span></span>) -&gt; <span class=\"hljs-built_in\">float</span>:\n    <span class=\"hljs-keyword\">return</span> x * x\n\n\n<span class=\"hljs-string\">&quot;&quot;&quot;\nSummary of Simpson Approximation :\n\nBy simpsons integration :\n1. integration of fxdx with limit a to b is =\n    f(x0) + 4 * f(x1) + 2 * f(x2) + 4 * f(x3) + 2 * f(x4)..... + f(xn)\nwhere x0 = a\nxi = a + i * h\nxn = b\n&quot;&quot;&quot;</span>\n\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">simpson_integration</span>(<span class=\"hljs-params\">function, a: <span class=\"hljs-built_in\">float</span>, b: <span class=\"hljs-built_in\">float</span>, precision: <span class=\"hljs-built_in\">int</span> = <span class=\"hljs-number\">4</span></span>) -&gt; <span class=\"hljs-built_in\">float</span>:\n\n    <span class=\"hljs-string\">&quot;&quot;&quot;\n    Args:\n        function : the function which&#x27;s integration is desired\n        a : the lower limit of integration\n        b : upper limit of integraion\n        precision : precision of the result,error required default is 4\n\n    Returns:\n        result : the value of the approximated integration of function in range a to b\n\n    Raises:\n        AssertionError: function is not callable\n        AssertionError: a is not float or integer\n        AssertionError: function should return float or integer\n        AssertionError: b is not float or integer\n        AssertionError: precision is not positive integer\n\n    &gt;&gt;&gt; simpson_integration(lambda x : x*x,1,2,3)\n    2.333\n\n    &gt;&gt;&gt; simpson_integration(lambda x : x*x,&#x27;wrong_input&#x27;,2,3)\n    Traceback (most recent call last):\n        ...\n    AssertionError: a should be float or integer your input : wrong_input\n\n    &gt;&gt;&gt; simpson_integration(lambda x : x*x,1,&#x27;wrong_input&#x27;,3)\n    Traceback (most recent call last):\n        ...\n    AssertionError: b should be float or integer your input : wrong_input\n\n    &gt;&gt;&gt; simpson_integration(lambda x : x*x,1,2,&#x27;wrong_input&#x27;)\n    Traceback (most recent call last):\n        ...\n    AssertionError: precision should be positive integer your input : wrong_input\n    &gt;&gt;&gt; simpson_integration(&#x27;wrong_input&#x27;,2,3,4)\n    Traceback (most recent call last):\n        ...\n    AssertionError: the function(object) passed should be callable your input : ...\n\n    &gt;&gt;&gt; simpson_integration(lambda x : x*x,3.45,3.2,1)\n    -2.8\n\n    &gt;&gt;&gt; simpson_integration(lambda x : x*x,3.45,3.2,0)\n    Traceback (most recent call last):\n        ...\n    AssertionError: precision should be positive integer your input : 0\n\n    &gt;&gt;&gt; simpson_integration(lambda x : x*x,3.45,3.2,-1)\n    Traceback (most recent call last):\n        ...\n    AssertionError: precision should be positive integer your input : -1\n\n    &quot;&quot;&quot;</span>\n    <span class=\"hljs-keyword\">assert</span> <span class=\"hljs-built_in\">callable</span>(\n        function\n    ), <span class=\"hljs-string\">f&quot;the function(object) passed should be callable your input : <span class=\"hljs-subst\">{function}</span>&quot;</span>\n    <span class=\"hljs-keyword\">assert</span> <span class=\"hljs-built_in\">isinstance</span>(a, <span class=\"hljs-built_in\">float</span>) <span class=\"hljs-keyword\">or</span> <span class=\"hljs-built_in\">isinstance</span>(\n        a, <span class=\"hljs-built_in\">int</span>\n    ), <span class=\"hljs-string\">f&quot;a should be float or integer your input : <span class=\"hljs-subst\">{a}</span>&quot;</span>\n    <span class=\"hljs-keyword\">assert</span> <span class=\"hljs-built_in\">isinstance</span>(function(a), <span class=\"hljs-built_in\">float</span>) <span class=\"hljs-keyword\">or</span> <span class=\"hljs-built_in\">isinstance</span>(function(a), <span class=\"hljs-built_in\">int</span>), (\n        <span class=\"hljs-string\">&quot;the function should return integer or float return type of your function, &quot;</span>\n        <span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{<span class=\"hljs-built_in\">type</span>(a)}</span>&quot;</span>\n    )\n    <span class=\"hljs-keyword\">assert</span> <span class=\"hljs-built_in\">isinstance</span>(b, <span class=\"hljs-built_in\">float</span>) <span class=\"hljs-keyword\">or</span> <span class=\"hljs-built_in\">isinstance</span>(\n        b, <span class=\"hljs-built_in\">int</span>\n    ), <span class=\"hljs-string\">f&quot;b should be float or integer your input : <span class=\"hljs-subst\">{b}</span>&quot;</span>\n    <span class=\"hljs-keyword\">assert</span> (\n        <span class=\"hljs-built_in\">isinstance</span>(precision, <span class=\"hljs-built_in\">int</span>) <span class=\"hljs-keyword\">and</span> precision &gt; <span class=\"hljs-number\">0</span>\n    ), <span class=\"hljs-string\">f&quot;precision should be positive integer your input : <span class=\"hljs-subst\">{precision}</span>&quot;</span>\n\n    <span class=\"hljs-comment\"># just applying the formula of simpson for approximate integraion written in</span>\n    <span class=\"hljs-comment\"># mentioned article in first comment of this file and above this function</span>\n\n    h = (b - a) / N_STEPS\n    result = function(a) + function(b)\n\n    <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(<span class=\"hljs-number\">1</span>, N_STEPS):\n        a1 = a + h * i\n        result += function(a1) * (<span class=\"hljs-number\">4</span> <span class=\"hljs-keyword\">if</span> i % <span class=\"hljs-number\">2</span> <span class=\"hljs-keyword\">else</span> <span class=\"hljs-number\">2</span>)\n\n    result *= h / <span class=\"hljs-number\">3</span>\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">round</span>(result, precision)\n\n\n<span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&quot;__main__&quot;</span>:\n    <span class=\"hljs-keyword\">import</span> doctest\n\n    doctest.testmod()\n"
    }
  },
  "contributors": [],
  "explanationUrl": {}
}

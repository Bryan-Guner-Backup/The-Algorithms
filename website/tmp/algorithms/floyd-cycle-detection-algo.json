{
  "slug": "floyd-cycle-detection-algo",
  "name": "Floyd Cycle Detection Algo",
  "categories": ["searches"],
  "body": {},
  "implementations": {
    "c-plus-plus": {
      "dir": "search/floyd_cycle_detection_algo.cpp",
      "url": "https://github.com/TheAlgorithms/c-plus-plus/tree/master/search/floyd_cycle_detection_algo.cpp",
      "code": "<span class=\"hljs-comment\">/**\n * @file\n * @brief Implementation of [Floyd&#x27;s Cycle\n * Detection](https://en.wikipedia.org/wiki/Cycle_detection) algorithm\n * @details\n * Given an array of integers containing &#x27;n + 1&#x27; integers, where each\n * integer is in the range [1, n] inclusive. If there is only one duplicate\n * number in the input array, this algorithm returns the duplicate number in\n * O(1) space and the time complexity is less than O(n^2) without modifying the\n * original array, otherwise, it returns -1.\n * @author [Swastika Gupta](https://github.com/Swastyy)\n */</span>\n\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;cassert&gt;</span>   <span class=\"hljs-comment\">/// for assert</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;iostream&gt;</span>  <span class=\"hljs-comment\">/// for IO operations</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-keyword\">include</span> <span class=\"hljs-string\">&lt;vector&gt;</span>    <span class=\"hljs-comment\">/// for std::vector</span></span>\n\n<span class=\"hljs-comment\">/**\n * @namespace search\n * @brief Search algorithms\n */</span>\n<span class=\"hljs-keyword\">namespace</span> search {\n<span class=\"hljs-comment\">/**\n * @namespace cycle_detection\n * @brief Functions for the [Floyd&#x27;s Cycle\n * Detection](https://en.wikipedia.org/wiki/Cycle_detection) algorithm\n */</span>\n<span class=\"hljs-keyword\">namespace</span> cycle_detection {\n<span class=\"hljs-comment\">/**\n * @brief The main function implements search algorithm\n * @tparam T type of array\n * @param in_arr the input array\n * @param n size of array\n * @returns the duplicate number\n */</span>\n<span class=\"hljs-keyword\">template</span> &lt;<span class=\"hljs-keyword\">typename</span> T&gt;\n<span class=\"hljs-function\"><span class=\"hljs-type\">int32_t</span> <span class=\"hljs-title\">duplicateNumber</span><span class=\"hljs-params\">(<span class=\"hljs-keyword\">const</span> std::vector&lt;T&gt; &amp;in_arr, <span class=\"hljs-keyword\">const</span> <span class=\"hljs-type\">uint32_t</span> &amp;n)</span> </span>{\n    <span class=\"hljs-keyword\">if</span> (n == <span class=\"hljs-number\">0</span> || n == <span class=\"hljs-number\">1</span>) {  <span class=\"hljs-comment\">// to find duplicate in an array its size should be atleast 2</span>\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">-1</span>;\n    }\n    <span class=\"hljs-type\">uint32_t</span> tortoise = in_arr[<span class=\"hljs-number\">0</span>];  <span class=\"hljs-comment\">// variable tortoise is used for the longer</span>\n                                    <span class=\"hljs-comment\">// jumps in the array</span>\n    <span class=\"hljs-type\">uint32_t</span> hare = in_arr[<span class=\"hljs-number\">0</span>];  <span class=\"hljs-comment\">// variable hare is used for shorter jumps in the array</span>\n    <span class=\"hljs-keyword\">do</span> {\n        tortoise = in_arr[tortoise];\n        hare = in_arr[in_arr[hare]];\n    } <span class=\"hljs-keyword\">while</span> (tortoise != hare);\n    tortoise = in_arr[<span class=\"hljs-number\">0</span>];\n    <span class=\"hljs-keyword\">while</span> (tortoise != hare) {\n        tortoise = in_arr[tortoise];\n        hare = in_arr[hare];\n    }\n    <span class=\"hljs-keyword\">return</span> tortoise;\n}\n}  <span class=\"hljs-comment\">// namespace cycle_detection</span>\n}  <span class=\"hljs-comment\">// namespace search</span>\n\n<span class=\"hljs-comment\">/**\n * @brief Self-test implementations\n * @returns void\n */</span>\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">static</span> <span class=\"hljs-type\">void</span> <span class=\"hljs-title\">test</span><span class=\"hljs-params\">()</span> </span>{\n    <span class=\"hljs-comment\">// 1st test</span>\n    <span class=\"hljs-comment\">// [3, 4, 8, 5, 9, 1, 2, 6, 7, 4] return 4</span>\n    std::vector&lt;<span class=\"hljs-type\">uint32_t</span>&gt; array1 = {<span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">8</span>, <span class=\"hljs-number\">5</span>, <span class=\"hljs-number\">9</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">6</span>, <span class=\"hljs-number\">7</span>, <span class=\"hljs-number\">4</span>};\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Test 1... &quot;</span>;\n    <span class=\"hljs-built_in\">assert</span>(search::cycle_detection::<span class=\"hljs-built_in\">duplicateNumber</span>(array1, array1.<span class=\"hljs-built_in\">size</span>()) ==\n           <span class=\"hljs-number\">4</span>);  <span class=\"hljs-comment\">// here the duplicate number is 4</span>\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;passed&quot;</span> &lt;&lt; std::endl;\n\n    <span class=\"hljs-comment\">// 2nd test</span>\n    <span class=\"hljs-comment\">// [1, 2, 3, 4, 2] return 2</span>\n    std::vector&lt;<span class=\"hljs-type\">uint32_t</span>&gt; array2 = {<span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">2</span>, <span class=\"hljs-number\">3</span>, <span class=\"hljs-number\">4</span>, <span class=\"hljs-number\">2</span>};\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Test 2... &quot;</span>;\n    <span class=\"hljs-built_in\">assert</span>(search::cycle_detection::<span class=\"hljs-built_in\">duplicateNumber</span>(array2, array2.<span class=\"hljs-built_in\">size</span>()) ==\n           <span class=\"hljs-number\">2</span>);  <span class=\"hljs-comment\">// here the duplicate number is 2</span>\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;passed&quot;</span> &lt;&lt; std::endl;\n\n    <span class=\"hljs-comment\">// 3rd test</span>\n    <span class=\"hljs-comment\">// [] return -1</span>\n    std::vector&lt;<span class=\"hljs-type\">uint32_t</span>&gt; array3 = {};\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;Test 3... &quot;</span>;\n    <span class=\"hljs-built_in\">assert</span>(search::cycle_detection::<span class=\"hljs-built_in\">duplicateNumber</span>(array3, array3.<span class=\"hljs-built_in\">size</span>()) ==\n           <span class=\"hljs-number\">-1</span>);  <span class=\"hljs-comment\">// since the input array is empty no duplicate number exists in</span>\n                 <span class=\"hljs-comment\">// this case</span>\n    std::cout &lt;&lt; <span class=\"hljs-string\">&quot;passed&quot;</span> &lt;&lt; std::endl;\n}\n\n<span class=\"hljs-comment\">/**\n * @brief Main function\n * @returns 0 on exit\n */</span>\n<span class=\"hljs-function\"><span class=\"hljs-type\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span> </span>{\n    <span class=\"hljs-built_in\">test</span>();  <span class=\"hljs-comment\">// run self-test implementations</span>\n    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}\n"
    }
  },
  "contributors": [
    {
      "name": "Swastika Gupta",
      "email": "64654203+Swastyy@users.noreply.github.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}

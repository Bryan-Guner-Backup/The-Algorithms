{
  "slug": "directed-and-undirected-weighted-graph",
  "name": "Directed and Undirected (Weighted) Graph",
  "categories": ["graphs"],
  "body": {},
  "implementations": {
    "python": {
      "dir": "graphs/directed_and_undirected_(weighted)_graph.py",
      "url": "https://github.com/TheAlgorithms/python/tree/master/graphs/directed_and_undirected_(weighted)_graph.py",
      "code": "<span class=\"hljs-keyword\">from</span> collections <span class=\"hljs-keyword\">import</span> deque\n<span class=\"hljs-keyword\">from</span> math <span class=\"hljs-keyword\">import</span> floor\n<span class=\"hljs-keyword\">from</span> random <span class=\"hljs-keyword\">import</span> random\n<span class=\"hljs-keyword\">from</span> time <span class=\"hljs-keyword\">import</span> time\n\n<span class=\"hljs-comment\"># the default weight is 1 if not assigned but all the implementation is weighted</span>\n\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">DirectedGraph</span>:\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        self.graph = {}\n\n    <span class=\"hljs-comment\"># adding vertices and edges</span>\n    <span class=\"hljs-comment\"># adding the weight is optional</span>\n    <span class=\"hljs-comment\"># handles repetition</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">add_pair</span>(<span class=\"hljs-params\">self, u, v, w=<span class=\"hljs-number\">1</span></span>):\n        <span class=\"hljs-keyword\">if</span> self.graph.get(u):\n            <span class=\"hljs-keyword\">if</span> self.graph[u].count([w, v]) == <span class=\"hljs-number\">0</span>:\n                self.graph[u].append([w, v])\n        <span class=\"hljs-keyword\">else</span>:\n            self.graph[u] = [[w, v]]\n        <span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> self.graph.get(v):\n            self.graph[v] = []\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">all_nodes</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">list</span>(self.graph)\n\n    <span class=\"hljs-comment\"># handles if the input does not exist</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">remove_pair</span>(<span class=\"hljs-params\">self, u, v</span>):\n        <span class=\"hljs-keyword\">if</span> self.graph.get(u):\n            <span class=\"hljs-keyword\">for</span> _ <span class=\"hljs-keyword\">in</span> self.graph[u]:\n                <span class=\"hljs-keyword\">if</span> _[<span class=\"hljs-number\">1</span>] == v:\n                    self.graph[u].remove(_)\n\n    <span class=\"hljs-comment\"># if no destination is meant the default value is -1</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">dfs</span>(<span class=\"hljs-params\">self, s=-<span class=\"hljs-number\">2</span>, d=-<span class=\"hljs-number\">1</span></span>):\n        <span class=\"hljs-keyword\">if</span> s == d:\n            <span class=\"hljs-keyword\">return</span> []\n        stack = []\n        visited = []\n        <span class=\"hljs-keyword\">if</span> s == -<span class=\"hljs-number\">2</span>:\n            s = <span class=\"hljs-built_in\">list</span>(self.graph)[<span class=\"hljs-number\">0</span>]\n        stack.append(s)\n        visited.append(s)\n        ss = s\n\n        <span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span>:\n            <span class=\"hljs-comment\"># check if there is any non isolated nodes</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(self.graph[s]) != <span class=\"hljs-number\">0</span>:\n                ss = s\n                <span class=\"hljs-keyword\">for</span> node <span class=\"hljs-keyword\">in</span> self.graph[s]:\n                    <span class=\"hljs-keyword\">if</span> visited.count(node[<span class=\"hljs-number\">1</span>]) &lt; <span class=\"hljs-number\">1</span>:\n                        <span class=\"hljs-keyword\">if</span> node[<span class=\"hljs-number\">1</span>] == d:\n                            visited.append(d)\n                            <span class=\"hljs-keyword\">return</span> visited\n                        <span class=\"hljs-keyword\">else</span>:\n                            stack.append(node[<span class=\"hljs-number\">1</span>])\n                            visited.append(node[<span class=\"hljs-number\">1</span>])\n                            ss = node[<span class=\"hljs-number\">1</span>]\n                            <span class=\"hljs-keyword\">break</span>\n\n            <span class=\"hljs-comment\"># check if all the children are visited</span>\n            <span class=\"hljs-keyword\">if</span> s == ss:\n                stack.pop()\n                <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(stack) != <span class=\"hljs-number\">0</span>:\n                    s = stack[<span class=\"hljs-built_in\">len</span>(stack) - <span class=\"hljs-number\">1</span>]\n            <span class=\"hljs-keyword\">else</span>:\n                s = ss\n\n            <span class=\"hljs-comment\"># check if se have reached the starting point</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(stack) == <span class=\"hljs-number\">0</span>:\n                <span class=\"hljs-keyword\">return</span> visited\n\n    <span class=\"hljs-comment\"># c is the count of nodes you want and if you leave it or pass -1 to the function</span>\n    <span class=\"hljs-comment\"># the count will be random from 10 to 10000</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">fill_graph_randomly</span>(<span class=\"hljs-params\">self, c=-<span class=\"hljs-number\">1</span></span>):\n        <span class=\"hljs-keyword\">if</span> c == -<span class=\"hljs-number\">1</span>:\n            c = floor(random() * <span class=\"hljs-number\">10000</span>) + <span class=\"hljs-number\">10</span>\n        <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(c):\n            <span class=\"hljs-comment\"># every vertex has max 100 edges</span>\n            <span class=\"hljs-keyword\">for</span> _ <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(floor(random() * <span class=\"hljs-number\">102</span>) + <span class=\"hljs-number\">1</span>):\n                n = floor(random() * c) + <span class=\"hljs-number\">1</span>\n                <span class=\"hljs-keyword\">if</span> n != i:\n                    self.add_pair(i, n, <span class=\"hljs-number\">1</span>)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">bfs</span>(<span class=\"hljs-params\">self, s=-<span class=\"hljs-number\">2</span></span>):\n        d = deque()\n        visited = []\n        <span class=\"hljs-keyword\">if</span> s == -<span class=\"hljs-number\">2</span>:\n            s = <span class=\"hljs-built_in\">list</span>(self.graph)[<span class=\"hljs-number\">0</span>]\n        d.append(s)\n        visited.append(s)\n        <span class=\"hljs-keyword\">while</span> d:\n            s = d.popleft()\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(self.graph[s]) != <span class=\"hljs-number\">0</span>:\n                <span class=\"hljs-keyword\">for</span> node <span class=\"hljs-keyword\">in</span> self.graph[s]:\n                    <span class=\"hljs-keyword\">if</span> visited.count(node[<span class=\"hljs-number\">1</span>]) &lt; <span class=\"hljs-number\">1</span>:\n                        d.append(node[<span class=\"hljs-number\">1</span>])\n                        visited.append(node[<span class=\"hljs-number\">1</span>])\n        <span class=\"hljs-keyword\">return</span> visited\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">in_degree</span>(<span class=\"hljs-params\">self, u</span>):\n        count = <span class=\"hljs-number\">0</span>\n        <span class=\"hljs-keyword\">for</span> x <span class=\"hljs-keyword\">in</span> self.graph:\n            <span class=\"hljs-keyword\">for</span> y <span class=\"hljs-keyword\">in</span> self.graph[x]:\n                <span class=\"hljs-keyword\">if</span> y[<span class=\"hljs-number\">1</span>] == u:\n                    count += <span class=\"hljs-number\">1</span>\n        <span class=\"hljs-keyword\">return</span> count\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">out_degree</span>(<span class=\"hljs-params\">self, u</span>):\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">len</span>(self.graph[u])\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">topological_sort</span>(<span class=\"hljs-params\">self, s=-<span class=\"hljs-number\">2</span></span>):\n        stack = []\n        visited = []\n        <span class=\"hljs-keyword\">if</span> s == -<span class=\"hljs-number\">2</span>:\n            s = <span class=\"hljs-built_in\">list</span>(self.graph)[<span class=\"hljs-number\">0</span>]\n        stack.append(s)\n        visited.append(s)\n        ss = s\n        sorted_nodes = []\n\n        <span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span>:\n            <span class=\"hljs-comment\"># check if there is any non isolated nodes</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(self.graph[s]) != <span class=\"hljs-number\">0</span>:\n                ss = s\n                <span class=\"hljs-keyword\">for</span> node <span class=\"hljs-keyword\">in</span> self.graph[s]:\n                    <span class=\"hljs-keyword\">if</span> visited.count(node[<span class=\"hljs-number\">1</span>]) &lt; <span class=\"hljs-number\">1</span>:\n                        stack.append(node[<span class=\"hljs-number\">1</span>])\n                        visited.append(node[<span class=\"hljs-number\">1</span>])\n                        ss = node[<span class=\"hljs-number\">1</span>]\n                        <span class=\"hljs-keyword\">break</span>\n\n            <span class=\"hljs-comment\"># check if all the children are visited</span>\n            <span class=\"hljs-keyword\">if</span> s == ss:\n                sorted_nodes.append(stack.pop())\n                <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(stack) != <span class=\"hljs-number\">0</span>:\n                    s = stack[<span class=\"hljs-built_in\">len</span>(stack) - <span class=\"hljs-number\">1</span>]\n            <span class=\"hljs-keyword\">else</span>:\n                s = ss\n\n            <span class=\"hljs-comment\"># check if se have reached the starting point</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(stack) == <span class=\"hljs-number\">0</span>:\n                <span class=\"hljs-keyword\">return</span> sorted_nodes\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">cycle_nodes</span>(<span class=\"hljs-params\">self</span>):\n        stack = []\n        visited = []\n        s = <span class=\"hljs-built_in\">list</span>(self.graph)[<span class=\"hljs-number\">0</span>]\n        stack.append(s)\n        visited.append(s)\n        parent = -<span class=\"hljs-number\">2</span>\n        indirect_parents = []\n        ss = s\n        on_the_way_back = <span class=\"hljs-literal\">False</span>\n        anticipating_nodes = <span class=\"hljs-built_in\">set</span>()\n\n        <span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span>:\n            <span class=\"hljs-comment\"># check if there is any non isolated nodes</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(self.graph[s]) != <span class=\"hljs-number\">0</span>:\n                ss = s\n                <span class=\"hljs-keyword\">for</span> node <span class=\"hljs-keyword\">in</span> self.graph[s]:\n                    <span class=\"hljs-keyword\">if</span> (\n                        visited.count(node[<span class=\"hljs-number\">1</span>]) &gt; <span class=\"hljs-number\">0</span>\n                        <span class=\"hljs-keyword\">and</span> node[<span class=\"hljs-number\">1</span>] != parent\n                        <span class=\"hljs-keyword\">and</span> indirect_parents.count(node[<span class=\"hljs-number\">1</span>]) &gt; <span class=\"hljs-number\">0</span>\n                        <span class=\"hljs-keyword\">and</span> <span class=\"hljs-keyword\">not</span> on_the_way_back\n                    ):\n                        len_stack = <span class=\"hljs-built_in\">len</span>(stack) - <span class=\"hljs-number\">1</span>\n                        <span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span> <span class=\"hljs-keyword\">and</span> len_stack &gt;= <span class=\"hljs-number\">0</span>:\n                            <span class=\"hljs-keyword\">if</span> stack[len_stack] == node[<span class=\"hljs-number\">1</span>]:\n                                anticipating_nodes.add(node[<span class=\"hljs-number\">1</span>])\n                                <span class=\"hljs-keyword\">break</span>\n                            <span class=\"hljs-keyword\">else</span>:\n                                anticipating_nodes.add(stack[len_stack])\n                                len_stack -= <span class=\"hljs-number\">1</span>\n                    <span class=\"hljs-keyword\">if</span> visited.count(node[<span class=\"hljs-number\">1</span>]) &lt; <span class=\"hljs-number\">1</span>:\n                        stack.append(node[<span class=\"hljs-number\">1</span>])\n                        visited.append(node[<span class=\"hljs-number\">1</span>])\n                        ss = node[<span class=\"hljs-number\">1</span>]\n                        <span class=\"hljs-keyword\">break</span>\n\n            <span class=\"hljs-comment\"># check if all the children are visited</span>\n            <span class=\"hljs-keyword\">if</span> s == ss:\n                stack.pop()\n                on_the_way_back = <span class=\"hljs-literal\">True</span>\n                <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(stack) != <span class=\"hljs-number\">0</span>:\n                    s = stack[<span class=\"hljs-built_in\">len</span>(stack) - <span class=\"hljs-number\">1</span>]\n            <span class=\"hljs-keyword\">else</span>:\n                on_the_way_back = <span class=\"hljs-literal\">False</span>\n                indirect_parents.append(parent)\n                parent = s\n                s = ss\n\n            <span class=\"hljs-comment\"># check if se have reached the starting point</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(stack) == <span class=\"hljs-number\">0</span>:\n                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">list</span>(anticipating_nodes)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">has_cycle</span>(<span class=\"hljs-params\">self</span>):\n        stack = []\n        visited = []\n        s = <span class=\"hljs-built_in\">list</span>(self.graph)[<span class=\"hljs-number\">0</span>]\n        stack.append(s)\n        visited.append(s)\n        parent = -<span class=\"hljs-number\">2</span>\n        indirect_parents = []\n        ss = s\n        on_the_way_back = <span class=\"hljs-literal\">False</span>\n        anticipating_nodes = <span class=\"hljs-built_in\">set</span>()\n\n        <span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span>:\n            <span class=\"hljs-comment\"># check if there is any non isolated nodes</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(self.graph[s]) != <span class=\"hljs-number\">0</span>:\n                ss = s\n                <span class=\"hljs-keyword\">for</span> node <span class=\"hljs-keyword\">in</span> self.graph[s]:\n                    <span class=\"hljs-keyword\">if</span> (\n                        visited.count(node[<span class=\"hljs-number\">1</span>]) &gt; <span class=\"hljs-number\">0</span>\n                        <span class=\"hljs-keyword\">and</span> node[<span class=\"hljs-number\">1</span>] != parent\n                        <span class=\"hljs-keyword\">and</span> indirect_parents.count(node[<span class=\"hljs-number\">1</span>]) &gt; <span class=\"hljs-number\">0</span>\n                        <span class=\"hljs-keyword\">and</span> <span class=\"hljs-keyword\">not</span> on_the_way_back\n                    ):\n                        len_stack_minus_one = <span class=\"hljs-built_in\">len</span>(stack) - <span class=\"hljs-number\">1</span>\n                        <span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span> <span class=\"hljs-keyword\">and</span> len_stack_minus_one &gt;= <span class=\"hljs-number\">0</span>:\n                            <span class=\"hljs-keyword\">if</span> stack[len_stack_minus_one] == node[<span class=\"hljs-number\">1</span>]:\n                                anticipating_nodes.add(node[<span class=\"hljs-number\">1</span>])\n                                <span class=\"hljs-keyword\">break</span>\n                            <span class=\"hljs-keyword\">else</span>:\n                                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">True</span>\n                                <span class=\"hljs-comment\"># <span class=\"hljs-doctag\">TODO:</span>The following code is unreachable.</span>\n                                anticipating_nodes.add(stack[len_stack_minus_one])\n                                len_stack_minus_one -= <span class=\"hljs-number\">1</span>\n                    <span class=\"hljs-keyword\">if</span> visited.count(node[<span class=\"hljs-number\">1</span>]) &lt; <span class=\"hljs-number\">1</span>:\n                        stack.append(node[<span class=\"hljs-number\">1</span>])\n                        visited.append(node[<span class=\"hljs-number\">1</span>])\n                        ss = node[<span class=\"hljs-number\">1</span>]\n                        <span class=\"hljs-keyword\">break</span>\n\n            <span class=\"hljs-comment\"># check if all the children are visited</span>\n            <span class=\"hljs-keyword\">if</span> s == ss:\n                stack.pop()\n                on_the_way_back = <span class=\"hljs-literal\">True</span>\n                <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(stack) != <span class=\"hljs-number\">0</span>:\n                    s = stack[<span class=\"hljs-built_in\">len</span>(stack) - <span class=\"hljs-number\">1</span>]\n            <span class=\"hljs-keyword\">else</span>:\n                on_the_way_back = <span class=\"hljs-literal\">False</span>\n                indirect_parents.append(parent)\n                parent = s\n                s = ss\n\n            <span class=\"hljs-comment\"># check if se have reached the starting point</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(stack) == <span class=\"hljs-number\">0</span>:\n                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">False</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">dfs_time</span>(<span class=\"hljs-params\">self, s=-<span class=\"hljs-number\">2</span>, e=-<span class=\"hljs-number\">1</span></span>):\n        begin = time()\n        self.dfs(s, e)\n        end = time()\n        <span class=\"hljs-keyword\">return</span> end - begin\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">bfs_time</span>(<span class=\"hljs-params\">self, s=-<span class=\"hljs-number\">2</span></span>):\n        begin = time()\n        self.bfs(s)\n        end = time()\n        <span class=\"hljs-keyword\">return</span> end - begin\n\n\n<span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Graph</span>:\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">__init__</span>(<span class=\"hljs-params\">self</span>):\n        self.graph = {}\n\n    <span class=\"hljs-comment\"># adding vertices and edges</span>\n    <span class=\"hljs-comment\"># adding the weight is optional</span>\n    <span class=\"hljs-comment\"># handles repetition</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">add_pair</span>(<span class=\"hljs-params\">self, u, v, w=<span class=\"hljs-number\">1</span></span>):\n        <span class=\"hljs-comment\"># check if the u exists</span>\n        <span class=\"hljs-keyword\">if</span> self.graph.get(u):\n            <span class=\"hljs-comment\"># if there already is a edge</span>\n            <span class=\"hljs-keyword\">if</span> self.graph[u].count([w, v]) == <span class=\"hljs-number\">0</span>:\n                self.graph[u].append([w, v])\n        <span class=\"hljs-keyword\">else</span>:\n            <span class=\"hljs-comment\"># if u does not exist</span>\n            self.graph[u] = [[w, v]]\n        <span class=\"hljs-comment\"># add the other way</span>\n        <span class=\"hljs-keyword\">if</span> self.graph.get(v):\n            <span class=\"hljs-comment\"># if there already is a edge</span>\n            <span class=\"hljs-keyword\">if</span> self.graph[v].count([w, u]) == <span class=\"hljs-number\">0</span>:\n                self.graph[v].append([w, u])\n        <span class=\"hljs-keyword\">else</span>:\n            <span class=\"hljs-comment\"># if u does not exist</span>\n            self.graph[v] = [[w, u]]\n\n    <span class=\"hljs-comment\"># handles if the input does not exist</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">remove_pair</span>(<span class=\"hljs-params\">self, u, v</span>):\n        <span class=\"hljs-keyword\">if</span> self.graph.get(u):\n            <span class=\"hljs-keyword\">for</span> _ <span class=\"hljs-keyword\">in</span> self.graph[u]:\n                <span class=\"hljs-keyword\">if</span> _[<span class=\"hljs-number\">1</span>] == v:\n                    self.graph[u].remove(_)\n        <span class=\"hljs-comment\"># the other way round</span>\n        <span class=\"hljs-keyword\">if</span> self.graph.get(v):\n            <span class=\"hljs-keyword\">for</span> _ <span class=\"hljs-keyword\">in</span> self.graph[v]:\n                <span class=\"hljs-keyword\">if</span> _[<span class=\"hljs-number\">1</span>] == u:\n                    self.graph[v].remove(_)\n\n    <span class=\"hljs-comment\"># if no destination is meant the default value is -1</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">dfs</span>(<span class=\"hljs-params\">self, s=-<span class=\"hljs-number\">2</span>, d=-<span class=\"hljs-number\">1</span></span>):\n        <span class=\"hljs-keyword\">if</span> s == d:\n            <span class=\"hljs-keyword\">return</span> []\n        stack = []\n        visited = []\n        <span class=\"hljs-keyword\">if</span> s == -<span class=\"hljs-number\">2</span>:\n            s = <span class=\"hljs-built_in\">list</span>(self.graph)[<span class=\"hljs-number\">0</span>]\n        stack.append(s)\n        visited.append(s)\n        ss = s\n\n        <span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span>:\n            <span class=\"hljs-comment\"># check if there is any non isolated nodes</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(self.graph[s]) != <span class=\"hljs-number\">0</span>:\n                ss = s\n                <span class=\"hljs-keyword\">for</span> node <span class=\"hljs-keyword\">in</span> self.graph[s]:\n                    <span class=\"hljs-keyword\">if</span> visited.count(node[<span class=\"hljs-number\">1</span>]) &lt; <span class=\"hljs-number\">1</span>:\n                        <span class=\"hljs-keyword\">if</span> node[<span class=\"hljs-number\">1</span>] == d:\n                            visited.append(d)\n                            <span class=\"hljs-keyword\">return</span> visited\n                        <span class=\"hljs-keyword\">else</span>:\n                            stack.append(node[<span class=\"hljs-number\">1</span>])\n                            visited.append(node[<span class=\"hljs-number\">1</span>])\n                            ss = node[<span class=\"hljs-number\">1</span>]\n                            <span class=\"hljs-keyword\">break</span>\n\n            <span class=\"hljs-comment\"># check if all the children are visited</span>\n            <span class=\"hljs-keyword\">if</span> s == ss:\n                stack.pop()\n                <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(stack) != <span class=\"hljs-number\">0</span>:\n                    s = stack[<span class=\"hljs-built_in\">len</span>(stack) - <span class=\"hljs-number\">1</span>]\n            <span class=\"hljs-keyword\">else</span>:\n                s = ss\n\n            <span class=\"hljs-comment\"># check if se have reached the starting point</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(stack) == <span class=\"hljs-number\">0</span>:\n                <span class=\"hljs-keyword\">return</span> visited\n\n    <span class=\"hljs-comment\"># c is the count of nodes you want and if you leave it or pass -1 to the function</span>\n    <span class=\"hljs-comment\"># the count will be random from 10 to 10000</span>\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">fill_graph_randomly</span>(<span class=\"hljs-params\">self, c=-<span class=\"hljs-number\">1</span></span>):\n        <span class=\"hljs-keyword\">if</span> c == -<span class=\"hljs-number\">1</span>:\n            c = floor(random() * <span class=\"hljs-number\">10000</span>) + <span class=\"hljs-number\">10</span>\n        <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(c):\n            <span class=\"hljs-comment\"># every vertex has max 100 edges</span>\n            <span class=\"hljs-keyword\">for</span> _ <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\">range</span>(floor(random() * <span class=\"hljs-number\">102</span>) + <span class=\"hljs-number\">1</span>):\n                n = floor(random() * c) + <span class=\"hljs-number\">1</span>\n                <span class=\"hljs-keyword\">if</span> n != i:\n                    self.add_pair(i, n, <span class=\"hljs-number\">1</span>)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">bfs</span>(<span class=\"hljs-params\">self, s=-<span class=\"hljs-number\">2</span></span>):\n        d = deque()\n        visited = []\n        <span class=\"hljs-keyword\">if</span> s == -<span class=\"hljs-number\">2</span>:\n            s = <span class=\"hljs-built_in\">list</span>(self.graph)[<span class=\"hljs-number\">0</span>]\n        d.append(s)\n        visited.append(s)\n        <span class=\"hljs-keyword\">while</span> d:\n            s = d.popleft()\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(self.graph[s]) != <span class=\"hljs-number\">0</span>:\n                <span class=\"hljs-keyword\">for</span> node <span class=\"hljs-keyword\">in</span> self.graph[s]:\n                    <span class=\"hljs-keyword\">if</span> visited.count(node[<span class=\"hljs-number\">1</span>]) &lt; <span class=\"hljs-number\">1</span>:\n                        d.append(node[<span class=\"hljs-number\">1</span>])\n                        visited.append(node[<span class=\"hljs-number\">1</span>])\n        <span class=\"hljs-keyword\">return</span> visited\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">degree</span>(<span class=\"hljs-params\">self, u</span>):\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">len</span>(self.graph[u])\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">cycle_nodes</span>(<span class=\"hljs-params\">self</span>):\n        stack = []\n        visited = []\n        s = <span class=\"hljs-built_in\">list</span>(self.graph)[<span class=\"hljs-number\">0</span>]\n        stack.append(s)\n        visited.append(s)\n        parent = -<span class=\"hljs-number\">2</span>\n        indirect_parents = []\n        ss = s\n        on_the_way_back = <span class=\"hljs-literal\">False</span>\n        anticipating_nodes = <span class=\"hljs-built_in\">set</span>()\n\n        <span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span>:\n            <span class=\"hljs-comment\"># check if there is any non isolated nodes</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(self.graph[s]) != <span class=\"hljs-number\">0</span>:\n                ss = s\n                <span class=\"hljs-keyword\">for</span> node <span class=\"hljs-keyword\">in</span> self.graph[s]:\n                    <span class=\"hljs-keyword\">if</span> (\n                        visited.count(node[<span class=\"hljs-number\">1</span>]) &gt; <span class=\"hljs-number\">0</span>\n                        <span class=\"hljs-keyword\">and</span> node[<span class=\"hljs-number\">1</span>] != parent\n                        <span class=\"hljs-keyword\">and</span> indirect_parents.count(node[<span class=\"hljs-number\">1</span>]) &gt; <span class=\"hljs-number\">0</span>\n                        <span class=\"hljs-keyword\">and</span> <span class=\"hljs-keyword\">not</span> on_the_way_back\n                    ):\n                        len_stack = <span class=\"hljs-built_in\">len</span>(stack) - <span class=\"hljs-number\">1</span>\n                        <span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span> <span class=\"hljs-keyword\">and</span> len_stack &gt;= <span class=\"hljs-number\">0</span>:\n                            <span class=\"hljs-keyword\">if</span> stack[len_stack] == node[<span class=\"hljs-number\">1</span>]:\n                                anticipating_nodes.add(node[<span class=\"hljs-number\">1</span>])\n                                <span class=\"hljs-keyword\">break</span>\n                            <span class=\"hljs-keyword\">else</span>:\n                                anticipating_nodes.add(stack[len_stack])\n                                len_stack -= <span class=\"hljs-number\">1</span>\n                    <span class=\"hljs-keyword\">if</span> visited.count(node[<span class=\"hljs-number\">1</span>]) &lt; <span class=\"hljs-number\">1</span>:\n                        stack.append(node[<span class=\"hljs-number\">1</span>])\n                        visited.append(node[<span class=\"hljs-number\">1</span>])\n                        ss = node[<span class=\"hljs-number\">1</span>]\n                        <span class=\"hljs-keyword\">break</span>\n\n            <span class=\"hljs-comment\"># check if all the children are visited</span>\n            <span class=\"hljs-keyword\">if</span> s == ss:\n                stack.pop()\n                on_the_way_back = <span class=\"hljs-literal\">True</span>\n                <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(stack) != <span class=\"hljs-number\">0</span>:\n                    s = stack[<span class=\"hljs-built_in\">len</span>(stack) - <span class=\"hljs-number\">1</span>]\n            <span class=\"hljs-keyword\">else</span>:\n                on_the_way_back = <span class=\"hljs-literal\">False</span>\n                indirect_parents.append(parent)\n                parent = s\n                s = ss\n\n            <span class=\"hljs-comment\"># check if se have reached the starting point</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(stack) == <span class=\"hljs-number\">0</span>:\n                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">list</span>(anticipating_nodes)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">has_cycle</span>(<span class=\"hljs-params\">self</span>):\n        stack = []\n        visited = []\n        s = <span class=\"hljs-built_in\">list</span>(self.graph)[<span class=\"hljs-number\">0</span>]\n        stack.append(s)\n        visited.append(s)\n        parent = -<span class=\"hljs-number\">2</span>\n        indirect_parents = []\n        ss = s\n        on_the_way_back = <span class=\"hljs-literal\">False</span>\n        anticipating_nodes = <span class=\"hljs-built_in\">set</span>()\n\n        <span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span>:\n            <span class=\"hljs-comment\"># check if there is any non isolated nodes</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(self.graph[s]) != <span class=\"hljs-number\">0</span>:\n                ss = s\n                <span class=\"hljs-keyword\">for</span> node <span class=\"hljs-keyword\">in</span> self.graph[s]:\n                    <span class=\"hljs-keyword\">if</span> (\n                        visited.count(node[<span class=\"hljs-number\">1</span>]) &gt; <span class=\"hljs-number\">0</span>\n                        <span class=\"hljs-keyword\">and</span> node[<span class=\"hljs-number\">1</span>] != parent\n                        <span class=\"hljs-keyword\">and</span> indirect_parents.count(node[<span class=\"hljs-number\">1</span>]) &gt; <span class=\"hljs-number\">0</span>\n                        <span class=\"hljs-keyword\">and</span> <span class=\"hljs-keyword\">not</span> on_the_way_back\n                    ):\n                        len_stack_minus_one = <span class=\"hljs-built_in\">len</span>(stack) - <span class=\"hljs-number\">1</span>\n                        <span class=\"hljs-keyword\">while</span> <span class=\"hljs-literal\">True</span> <span class=\"hljs-keyword\">and</span> len_stack_minus_one &gt;= <span class=\"hljs-number\">0</span>:\n                            <span class=\"hljs-keyword\">if</span> stack[len_stack_minus_one] == node[<span class=\"hljs-number\">1</span>]:\n                                anticipating_nodes.add(node[<span class=\"hljs-number\">1</span>])\n                                <span class=\"hljs-keyword\">break</span>\n                            <span class=\"hljs-keyword\">else</span>:\n                                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">True</span>\n                                <span class=\"hljs-comment\"># <span class=\"hljs-doctag\">TODO:</span> the following code is unreachable</span>\n                                <span class=\"hljs-comment\"># is this meant to be called in the else ?</span>\n                                anticipating_nodes.add(stack[len_stack_minus_one])\n                                len_stack_minus_one -= <span class=\"hljs-number\">1</span>\n                    <span class=\"hljs-keyword\">if</span> visited.count(node[<span class=\"hljs-number\">1</span>]) &lt; <span class=\"hljs-number\">1</span>:\n                        stack.append(node[<span class=\"hljs-number\">1</span>])\n                        visited.append(node[<span class=\"hljs-number\">1</span>])\n                        ss = node[<span class=\"hljs-number\">1</span>]\n                        <span class=\"hljs-keyword\">break</span>\n\n            <span class=\"hljs-comment\"># check if all the children are visited</span>\n            <span class=\"hljs-keyword\">if</span> s == ss:\n                stack.pop()\n                on_the_way_back = <span class=\"hljs-literal\">True</span>\n                <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(stack) != <span class=\"hljs-number\">0</span>:\n                    s = stack[<span class=\"hljs-built_in\">len</span>(stack) - <span class=\"hljs-number\">1</span>]\n            <span class=\"hljs-keyword\">else</span>:\n                on_the_way_back = <span class=\"hljs-literal\">False</span>\n                indirect_parents.append(parent)\n                parent = s\n                s = ss\n\n            <span class=\"hljs-comment\"># check if se have reached the starting point</span>\n            <span class=\"hljs-keyword\">if</span> <span class=\"hljs-built_in\">len</span>(stack) == <span class=\"hljs-number\">0</span>:\n                <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">False</span>\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">all_nodes</span>(<span class=\"hljs-params\">self</span>):\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-built_in\">list</span>(self.graph)\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">dfs_time</span>(<span class=\"hljs-params\">self, s=-<span class=\"hljs-number\">2</span>, e=-<span class=\"hljs-number\">1</span></span>):\n        begin = time()\n        self.dfs(s, e)\n        end = time()\n        <span class=\"hljs-keyword\">return</span> end - begin\n\n    <span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">bfs_time</span>(<span class=\"hljs-params\">self, s=-<span class=\"hljs-number\">2</span></span>):\n        begin = time()\n        self.bfs(s)\n        end = time()\n        <span class=\"hljs-keyword\">return</span> end - begin\n"
    }
  },
  "contributors": [
    {
      "name": "Anup Kumar Panwar",
      "email": "1anuppanwar@gmail.com",
      "commits": 1
    },
    {
      "name": "Hasenn",
      "email": "eliottarloveyrier@live.fr",
      "commits": 1
    },
    {
      "name": "matkosoric",
      "email": "soric.matko@gmail.com",
      "commits": 1
    },
    {
      "name": "William Zhang",
      "email": "39932068+WilliamHYZhang@users.noreply.github.com",
      "commits": 1
    },
    {
      "name": "Safari",
      "email": "alisafariem@gmail.com",
      "commits": 2
    },
    {
      "name": "Christian Clauss",
      "email": "cclauss@me.com",
      "commits": 4
    }
  ],
  "explanationUrl": {}
}

{
  "slug": "haversine-formula",
  "name": "Haversine Formula",
  "categories": ["others"],
  "body": {},
  "implementations": {
    "dart": {
      "dir": "other/haversine_formula.dart",
      "url": "https://github.com/TheAlgorithms/dart/tree/master/other/haversine_formula.dart",
      "code": "<span class=\"hljs-comment\">/// <span class=\"language-markdown\">Based on https://www.movable-type.co.uk/scripts/latlong.html</span></span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&quot;dart:math&quot;</span>;\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-built_in\">double</span> earthRadius = <span class=\"hljs-number\">6371</span>;\n\n<span class=\"hljs-comment\">/// <span class=\"language-markdown\">Earth radius in kilometers</span></span>\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Coordinates</span> </span>{\n  <span class=\"hljs-built_in\">double</span> latitude;\n  <span class=\"hljs-built_in\">double</span> longitude;\n\n  Coordinates(<span class=\"hljs-keyword\">this</span>.latitude, <span class=\"hljs-keyword\">this</span>.longitude);\n}\n\n<span class=\"hljs-built_in\">double</span> haversine(fi) =&gt; pow(sin(fi / <span class=\"hljs-number\">2</span>), <span class=\"hljs-number\">2</span>);\n\n<span class=\"hljs-comment\">/// <span class=\"language-markdown\">Convert [angle] to radians</span></span>\n<span class=\"hljs-built_in\">double</span> radians(<span class=\"hljs-built_in\">double</span> angle) =&gt; (angle * pi) / <span class=\"hljs-number\">180</span>;\n\n<span class=\"hljs-comment\">/// <span class=\"language-markdown\">Calculate distance from [p1] to [p2] in kilometers</span></span>\n<span class=\"hljs-comment\">/// <span class=\"language-markdown\">We assume that earth is perfect sphere (which is not true)</span></span>\n<span class=\"hljs-comment\">/// <span class=\"language-markdown\">In practice you might expect ~1% errors</span></span>\n<span class=\"hljs-built_in\">double</span> distance(Coordinates p1, Coordinates p2) {\n  <span class=\"hljs-built_in\">double</span> latitudeChange = radians(p2.latitude - p1.latitude);\n  <span class=\"hljs-built_in\">double</span> latitude1 = radians(p1.latitude);\n  <span class=\"hljs-built_in\">double</span> latitude2 = radians(p2.latitude);\n  <span class=\"hljs-built_in\">double</span> longitudeChange = radians(p2.longitude - p1.longitude);\n\n  <span class=\"hljs-built_in\">double</span> a = haversine(latitudeChange) +\n      cos(latitude1) * cos(latitude2) * haversine(longitudeChange);\n  <span class=\"hljs-built_in\">double</span> c = <span class=\"hljs-number\">2</span> * atan2(sqrt(a), sqrt(<span class=\"hljs-number\">1</span> - a));\n\n  <span class=\"hljs-keyword\">return</span> earthRadius * c;\n}\n\n<span class=\"hljs-keyword\">void</span> main() {\n  Coordinates newYork = <span class=\"hljs-keyword\">new</span> Coordinates(<span class=\"hljs-number\">40.730610</span>, <span class=\"hljs-number\">-73.935242</span>);\n  Coordinates moskov = <span class=\"hljs-keyword\">new</span> Coordinates(<span class=\"hljs-number\">55.751244</span>, <span class=\"hljs-number\">37.618423</span>);\n  Coordinates toronto = <span class=\"hljs-keyword\">new</span> Coordinates(<span class=\"hljs-number\">43.651070</span>, <span class=\"hljs-number\">-79.347015</span>);\n  Coordinates seoul = <span class=\"hljs-keyword\">new</span> Coordinates(<span class=\"hljs-number\">37.532600</span>, <span class=\"hljs-number\">127.024612</span>);\n\n  <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;distance(newYork, moskov) = <span class=\"hljs-subst\">${distance(newYork, moskov)}</span>km&quot;</span>);\n  <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;distance(newYork, toronto) = <span class=\"hljs-subst\">${distance(newYork, toronto)}</span>km&quot;</span>);\n  <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;distance(seoul, moskov) = <span class=\"hljs-subst\">${distance(seoul, moskov)}</span>km&quot;</span>);\n  <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;distance(moskov, seoul) = <span class=\"hljs-subst\">${distance(moskov, seoul)}</span>km&quot;</span>);\n}\n"
    }
  },
  "contributors": [
    {
      "name": "Parowicz",
      "email": "arturparowicz@gmail.com",
      "commits": 1
    }
  ],
  "explanationUrl": {}
}
